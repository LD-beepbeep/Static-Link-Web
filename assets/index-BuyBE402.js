function Pm(A,k){for(var x=0;x<k.length;x++){const g=k[x];if(typeof g!="string"&&!Array.isArray(g)){for(const T in g)if(T!=="default"&&!(T in A)){const _=Object.getOwnPropertyDescriptor(g,T);_&&Object.defineProperty(A,T,_.get?_:{enumerable:!0,get:()=>g[T]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))g(T);new MutationObserver(T=>{for(const _ of T)if(_.type==="childList")for(const I of _.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&g(I)}).observe(document,{childList:!0,subtree:!0});function x(T){const _={};return T.integrity&&(_.integrity=T.integrity),T.referrerPolicy&&(_.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?_.credentials="include":T.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function g(T){if(T.ep)return;T.ep=!0;const _=x(T);fetch(T.href,_)}})();var Ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rs(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var Hc={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Um(){if(o0)return Zo;o0=1;var A=Symbol.for("react.transitional.element"),k=Symbol.for("react.fragment");function x(g,T,_){var I=null;if(_!==void 0&&(I=""+_),T.key!==void 0&&(I=""+T.key),"key"in T){_={};for(var R in T)R!=="key"&&(_[R]=T[R])}else _=T;return T=_.ref,{$$typeof:A,type:g,key:I,ref:T!==void 0?T:null,props:_}}return Zo.Fragment=k,Zo.jsx=x,Zo.jsxs=x,Zo}var l0;function Fm(){return l0||(l0=1,Hc.exports=Um()),Hc.exports}var v=Fm(),Gc={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Hm(){if(u0)return Zt;u0=1;var A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.iterator;function F(se){return se===null||typeof se!="object"?null:(se=D&&se[D]||se["@@iterator"],typeof se=="function"?se:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,P={};function Z(se,le,pe){this.props=se,this.context=le,this.refs=P,this.updater=pe||L}Z.prototype.isReactComponent={},Z.prototype.setState=function(se,le){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,le,"setState")},Z.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function ee(){}ee.prototype=Z.prototype;function te(se,le,pe){this.props=se,this.context=le,this.refs=P,this.updater=pe||L}var Q=te.prototype=new ee;Q.constructor=te,Y(Q,Z.prototype),Q.isPureReactComponent=!0;var m=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function M(se,le,pe,Ne,De,Be){return pe=Be.ref,{$$typeof:A,type:se,key:le,ref:pe!==void 0?pe:null,props:Be}}function W(se,le){return M(se.type,le,void 0,void 0,void 0,se.props)}function H(se){return typeof se=="object"&&se!==null&&se.$$typeof===A}function ae(se){var le={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(pe){return le[pe]})}var me=/\/+/g;function J(se,le){return typeof se=="object"&&se!==null&&se.key!=null?ae(""+se.key):le.toString(36)}function ge(){}function j(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(ge,ge):(se.status="pending",se.then(function(le){se.status==="pending"&&(se.status="fulfilled",se.value=le)},function(le){se.status==="pending"&&(se.status="rejected",se.reason=le)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function $(se,le,pe,Ne,De){var Be=typeof se;(Be==="undefined"||Be==="boolean")&&(se=null);var ze=!1;if(se===null)ze=!0;else switch(Be){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(se.$$typeof){case A:case k:ze=!0;break;case O:return ze=se._init,$(ze(se._payload),le,pe,Ne,De)}}if(ze)return De=De(se),ze=Ne===""?"."+J(se,0):Ne,m(De)?(pe="",ze!=null&&(pe=ze.replace(me,"$&/")+"/"),$(De,le,pe,"",function(Ve){return Ve})):De!=null&&(H(De)&&(De=W(De,pe+(De.key==null||se&&se.key===De.key?"":(""+De.key).replace(me,"$&/")+"/")+ze)),le.push(De)),1;ze=0;var $e=Ne===""?".":Ne+":";if(m(se))for(var Xe=0;Xe<se.length;Xe++)Ne=se[Xe],Be=$e+J(Ne,Xe),ze+=$(Ne,le,pe,Be,De);else if(Xe=F(se),typeof Xe=="function")for(se=Xe.call(se),Xe=0;!(Ne=se.next()).done;)Ne=Ne.value,Be=$e+J(Ne,Xe++),ze+=$(Ne,le,pe,Be,De);else if(Be==="object"){if(typeof se.then=="function")return $(j(se),le,pe,Ne,De);throw le=String(se),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ze}function X(se,le,pe){if(se==null)return se;var Ne=[],De=0;return $(se,Ne,"","",function(Be){return le.call(pe,Be,De++)}),Ne}function ie(se){if(se._status===-1){var le=se._result;le=le(),le.then(function(pe){(se._status===0||se._status===-1)&&(se._status=1,se._result=pe)},function(pe){(se._status===0||se._status===-1)&&(se._status=2,se._result=pe)}),se._status===-1&&(se._status=0,se._result=le)}if(se._status===1)return se._result.default;throw se._result}var Se=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)};function _e(){}return Zt.Children={map:X,forEach:function(se,le,pe){X(se,function(){le.apply(this,arguments)},pe)},count:function(se){var le=0;return X(se,function(){le++}),le},toArray:function(se){return X(se,function(le){return le})||[]},only:function(se){if(!H(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Zt.Component=Z,Zt.Fragment=x,Zt.Profiler=T,Zt.PureComponent=te,Zt.StrictMode=g,Zt.Suspense=S,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(se){return E.H.useMemoCache(se)}},Zt.cache=function(se){return function(){return se.apply(null,arguments)}},Zt.cloneElement=function(se,le,pe){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var Ne=Y({},se.props),De=se.key,Be=void 0;if(le!=null)for(ze in le.ref!==void 0&&(Be=void 0),le.key!==void 0&&(De=""+le.key),le)!C.call(le,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&le.ref===void 0||(Ne[ze]=le[ze]);var ze=arguments.length-2;if(ze===1)Ne.children=pe;else if(1<ze){for(var $e=Array(ze),Xe=0;Xe<ze;Xe++)$e[Xe]=arguments[Xe+2];Ne.children=$e}return M(se.type,De,void 0,void 0,Be,Ne)},Zt.createContext=function(se){return se={$$typeof:I,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:_,_context:se},se},Zt.createElement=function(se,le,pe){var Ne,De={},Be=null;if(le!=null)for(Ne in le.key!==void 0&&(Be=""+le.key),le)C.call(le,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(De[Ne]=le[Ne]);var ze=arguments.length-2;if(ze===1)De.children=pe;else if(1<ze){for(var $e=Array(ze),Xe=0;Xe<ze;Xe++)$e[Xe]=arguments[Xe+2];De.children=$e}if(se&&se.defaultProps)for(Ne in ze=se.defaultProps,ze)De[Ne]===void 0&&(De[Ne]=ze[Ne]);return M(se,Be,void 0,void 0,null,De)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(se){return{$$typeof:R,render:se}},Zt.isValidElement=H,Zt.lazy=function(se){return{$$typeof:O,_payload:{_status:-1,_result:se},_init:ie}},Zt.memo=function(se,le){return{$$typeof:y,type:se,compare:le===void 0?null:le}},Zt.startTransition=function(se){var le=E.T,pe={};E.T=pe;try{var Ne=se(),De=E.S;De!==null&&De(pe,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(_e,Se)}catch(Be){Se(Be)}finally{E.T=le}},Zt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Zt.use=function(se){return E.H.use(se)},Zt.useActionState=function(se,le,pe){return E.H.useActionState(se,le,pe)},Zt.useCallback=function(se,le){return E.H.useCallback(se,le)},Zt.useContext=function(se){return E.H.useContext(se)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(se,le){return E.H.useDeferredValue(se,le)},Zt.useEffect=function(se,le,pe){var Ne=E.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ne.useEffect(se,le)},Zt.useId=function(){return E.H.useId()},Zt.useImperativeHandle=function(se,le,pe){return E.H.useImperativeHandle(se,le,pe)},Zt.useInsertionEffect=function(se,le){return E.H.useInsertionEffect(se,le)},Zt.useLayoutEffect=function(se,le){return E.H.useLayoutEffect(se,le)},Zt.useMemo=function(se,le){return E.H.useMemo(se,le)},Zt.useOptimistic=function(se,le){return E.H.useOptimistic(se,le)},Zt.useReducer=function(se,le,pe){return E.H.useReducer(se,le,pe)},Zt.useRef=function(se){return E.H.useRef(se)},Zt.useState=function(se){return E.H.useState(se)},Zt.useSyncExternalStore=function(se,le,pe){return E.H.useSyncExternalStore(se,le,pe)},Zt.useTransition=function(){return E.H.useTransition()},Zt.version="19.1.1",Zt}var c0;function ad(){return c0||(c0=1,Gc.exports=Hm()),Gc.exports}var Le=ad();const pn=Rs(Le);var Vc={exports:{}},Wo={},Xc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function Gm(){return d0||(d0=1,(function(A){function k(X,ie){var Se=X.length;X.push(ie);e:for(;0<Se;){var _e=Se-1>>>1,se=X[_e];if(0<T(se,ie))X[_e]=ie,X[Se]=se,Se=_e;else break e}}function x(X){return X.length===0?null:X[0]}function g(X){if(X.length===0)return null;var ie=X[0],Se=X.pop();if(Se!==ie){X[0]=Se;e:for(var _e=0,se=X.length,le=se>>>1;_e<le;){var pe=2*(_e+1)-1,Ne=X[pe],De=pe+1,Be=X[De];if(0>T(Ne,Se))De<se&&0>T(Be,Ne)?(X[_e]=Be,X[De]=Se,_e=De):(X[_e]=Ne,X[pe]=Se,_e=pe);else if(De<se&&0>T(Be,Se))X[_e]=Be,X[De]=Se,_e=De;else break e}}return ie}function T(X,ie){var Se=X.sortIndex-ie.sortIndex;return Se!==0?Se:X.id-ie.id}if(A.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;A.unstable_now=function(){return _.now()}}else{var I=Date,R=I.now();A.unstable_now=function(){return I.now()-R}}var S=[],y=[],O=1,D=null,F=3,L=!1,Y=!1,P=!1,Z=!1,ee=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function m(X){for(var ie=x(y);ie!==null;){if(ie.callback===null)g(y);else if(ie.startTime<=X)g(y),ie.sortIndex=ie.expirationTime,k(S,ie);else break;ie=x(y)}}function E(X){if(P=!1,m(X),!Y)if(x(S)!==null)Y=!0,C||(C=!0,J());else{var ie=x(y);ie!==null&&$(E,ie.startTime-X)}}var C=!1,M=-1,W=5,H=-1;function ae(){return Z?!0:!(A.unstable_now()-H<W)}function me(){if(Z=!1,C){var X=A.unstable_now();H=X;var ie=!0;try{e:{Y=!1,P&&(P=!1,te(M),M=-1),L=!0;var Se=F;try{t:{for(m(X),D=x(S);D!==null&&!(D.expirationTime>X&&ae());){var _e=D.callback;if(typeof _e=="function"){D.callback=null,F=D.priorityLevel;var se=_e(D.expirationTime<=X);if(X=A.unstable_now(),typeof se=="function"){D.callback=se,m(X),ie=!0;break t}D===x(S)&&g(S),m(X)}else g(S);D=x(S)}if(D!==null)ie=!0;else{var le=x(y);le!==null&&$(E,le.startTime-X),ie=!1}}break e}finally{D=null,F=Se,L=!1}ie=void 0}}finally{ie?J():C=!1}}}var J;if(typeof Q=="function")J=function(){Q(me)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,j=ge.port2;ge.port1.onmessage=me,J=function(){j.postMessage(null)}}else J=function(){ee(me,0)};function $(X,ie){M=ee(function(){X(A.unstable_now())},ie)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(X){X.callback=null},A.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<X?Math.floor(1e3/X):5},A.unstable_getCurrentPriorityLevel=function(){return F},A.unstable_next=function(X){switch(F){case 1:case 2:case 3:var ie=3;break;default:ie=F}var Se=F;F=ie;try{return X()}finally{F=Se}},A.unstable_requestPaint=function(){Z=!0},A.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Se=F;F=X;try{return ie()}finally{F=Se}},A.unstable_scheduleCallback=function(X,ie,Se){var _e=A.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?_e+Se:_e):Se=_e,X){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Se+se,X={id:O++,callback:ie,priorityLevel:X,startTime:Se,expirationTime:se,sortIndex:-1},Se>_e?(X.sortIndex=Se,k(y,X),x(S)===null&&X===x(y)&&(P?(te(M),M=-1):P=!0,$(E,Se-_e))):(X.sortIndex=se,k(S,X),Y||L||(Y=!0,C||(C=!0,J()))),X},A.unstable_shouldYield=ae,A.unstable_wrapCallback=function(X){var ie=F;return function(){var Se=F;F=ie;try{return X.apply(this,arguments)}finally{F=Se}}}})(qc)),qc}var f0;function Vm(){return f0||(f0=1,Xc.exports=Gm()),Xc.exports}var Yc={exports:{}},qr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Xm(){if(h0)return qr;h0=1;var A=ad();function k(S){var y="https://react.dev/errors/"+S;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)y+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+S+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(){}var g={d:{f:x,r:function(){throw Error(k(522))},D:x,C:x,L:x,m:x,X:x,S:x,M:x},p:0,findDOMNode:null},T=Symbol.for("react.portal");function _(S,y,O){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:D==null?null:""+D,children:S,containerInfo:y,implementation:O}}var I=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(S,y){if(S==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,qr.createPortal=function(S,y){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(k(299));return _(S,y,null,O)},qr.flushSync=function(S){var y=I.T,O=g.p;try{if(I.T=null,g.p=2,S)return S()}finally{I.T=y,g.p=O,g.d.f()}},qr.preconnect=function(S,y){typeof S=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,g.d.C(S,y))},qr.prefetchDNS=function(S){typeof S=="string"&&g.d.D(S)},qr.preinit=function(S,y){if(typeof S=="string"&&y&&typeof y.as=="string"){var O=y.as,D=R(O,y.crossOrigin),F=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;O==="style"?g.d.S(S,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:D,integrity:F,fetchPriority:L}):O==="script"&&g.d.X(S,{crossOrigin:D,integrity:F,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},qr.preinitModule=function(S,y){if(typeof S=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var O=R(y.as,y.crossOrigin);g.d.M(S,{crossOrigin:O,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&g.d.M(S)},qr.preload=function(S,y){if(typeof S=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var O=y.as,D=R(O,y.crossOrigin);g.d.L(S,O,{crossOrigin:D,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},qr.preloadModule=function(S,y){if(typeof S=="string")if(y){var O=R(y.as,y.crossOrigin);g.d.m(S,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:O,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else g.d.m(S)},qr.requestFormReset=function(S){g.d.r(S)},qr.unstable_batchedUpdates=function(S,y){return S(y)},qr.useFormState=function(S,y,O){return I.H.useFormState(S,y,O)},qr.useFormStatus=function(){return I.H.useHostTransitionStatus()},qr.version="19.1.1",qr}var m0;function qm(){if(m0)return Yc.exports;m0=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(k){console.error(k)}}return A(),Yc.exports=Xm(),Yc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function Ym(){if(g0)return Wo;g0=1;var A=Vm(),k=ad(),x=qm();function g(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function I(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(_(e)!==e)throw Error(g(188))}function S(e){var n=e.alternate;if(!n){if(n=_(e),n===null)throw Error(g(188));return n!==e?null:e}for(var o=e,d=n;;){var h=o.return;if(h===null)break;var b=h.alternate;if(b===null){if(d=h.return,d!==null){o=d;continue}break}if(h.child===b.child){for(b=h.child;b;){if(b===o)return R(h),e;if(b===d)return R(h),n;b=b.sibling}throw Error(g(188))}if(o.return!==d.return)o=h,d=b;else{for(var U=!1,ne=h.child;ne;){if(ne===o){U=!0,o=h,d=b;break}if(ne===d){U=!0,d=h,o=b;break}ne=ne.sibling}if(!U){for(ne=b.child;ne;){if(ne===o){U=!0,o=b,d=h;break}if(ne===d){U=!0,d=b,o=h;break}ne=ne.sibling}if(!U)throw Error(g(189))}}if(o.alternate!==d)throw Error(g(190))}if(o.tag!==3)throw Error(g(188));return o.stateNode.current===o?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var O=Object.assign,D=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function j(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case Z:return"Profiler";case P:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case te:return(e._context.displayName||"Context")+".Consumer";case m:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:j(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return j(e(n))}catch{}}return null}var $=Array.isArray,X=k.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},_e=[],se=-1;function le(e){return{current:e}}function pe(e){0>se||(e.current=_e[se],_e[se]=null,se--)}function Ne(e,n){se++,_e[se]=e.current,e.current=n}var De=le(null),Be=le(null),ze=le(null),$e=le(null);function Xe(e,n){switch(Ne(ze,n),Ne(Be,e),Ne(De,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bh(n),e=jh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pe(De),Ne(De,e)}function Ve(){pe(De),pe(Be),pe(ze)}function Dt(e){e.memoizedState!==null&&Ne($e,e);var n=De.current,o=jh(n,e.type);n!==o&&(Ne(Be,e),Ne(De,o))}function Tt(e){Be.current===e&&(pe(De),pe(Be)),$e.current===e&&(pe($e),Vo._currentValue=Se)}var vt=Object.prototype.hasOwnProperty,yt=A.unstable_scheduleCallback,z=A.unstable_cancelCallback,Ge=A.unstable_shouldYield,Pe=A.unstable_requestPaint,fe=A.unstable_now,oe=A.unstable_getCurrentPriorityLevel,we=A.unstable_ImmediatePriority,Ke=A.unstable_UserBlockingPriority,Ee=A.unstable_NormalPriority,ke=A.unstable_LowPriority,tt=A.unstable_IdlePriority,ct=A.log,it=A.unstable_setDisableYieldValue,ht=null,kt=null;function At(e){if(typeof ct=="function"&&it(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ht,e)}catch{}}var St=Math.clz32?Math.clz32:vr,Fr=Math.log,Yn=Math.LN2;function vr(e){return e>>>=0,e===0?32:31-(Fr(e)/Yn|0)|0}var Ot=256,st=4194304;function jt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function et(e,n,o){var d=e.pendingLanes;if(d===0)return 0;var h=0,b=e.suspendedLanes,U=e.pingedLanes;e=e.warmLanes;var ne=d&134217727;return ne!==0?(d=ne&~b,d!==0?h=jt(d):(U&=ne,U!==0?h=jt(U):o||(o=ne&~e,o!==0&&(h=jt(o))))):(ne=d&~b,ne!==0?h=jt(ne):U!==0?h=jt(U):o||(o=d&~e,o!==0&&(h=jt(o)))),h===0?0:n!==0&&n!==h&&(n&b)===0&&(b=h&-h,o=n&-n,b>=o||b===32&&(o&4194048)!==0)?n:h}function en(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _r(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(){var e=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),e}function dt(){var e=st;return st<<=1,(st&62914560)===0&&(st=4194304),e}function Vt(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Mn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qe(e,n,o,d,h,b){var U=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var ne=e.entanglements,xe=e.expirationTimes,Ie=e.hiddenUpdates;for(o=U&~o;0<o;){var Ye=31-St(o),Je=1<<Ye;ne[Ye]=0,xe[Ye]=-1;var je=Ie[Ye];if(je!==null)for(Ie[Ye]=null,Ye=0;Ye<je.length;Ye++){var He=je[Ye];He!==null&&(He.lane&=-536870913)}o&=~Je}d!==0&&Rt(e,d,0),b!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=b&~(U&~n))}function Rt(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var d=31-St(n);e.entangledLanes|=n,e.entanglements[d]=e.entanglements[d]|1073741824|o&4194090}function Mt(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var d=31-St(o),h=1<<d;h&n|e[d]&n&&(e[d]|=n),o&=~h}}function On(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _n(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:t0(e.type))}function xn(e,n){var o=ie.p;try{return ie.p=e,n()}finally{ie.p=o}}var Cn=Math.random().toString(36).slice(2),An="__reactFiber$"+Cn,mt="__reactProps$"+Cn,Wt="__reactContainer$"+Cn,mr="__reactEvents$"+Cn,Jr="__reactListeners$"+Cn,Ar="__reactHandles$"+Cn,gt="__reactResources$"+Cn,$r="__reactMarker$"+Cn;function Gr(e){delete e[An],delete e[mt],delete e[mr],delete e[Jr],delete e[Ar]}function kn(e){var n=e[An];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Wt]||o[An]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Uh(e);e!==null;){if(o=e[An])return o;e=Uh(e)}return n}e=o,o=e.parentNode}return null}function er(e){if(e=e[An]||e[Wt]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(g(33))}function oa(e){var n=e[gt];return n||(n=e[gt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rn(e){e[$r]=!0}var os=new Set,Ca={};function or(e,n){Hn(e,n),Hn(e+"Capture",n)}function Hn(e,n){for(Ca[e]=n,e=0;e<n.length;e++)os.add(n[e])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),la={},lr={};function Mi(e){return vt.call(lr,e)?!0:vt.call(la,e)?!1:Ut.test(e)?lr[e]=!0:(la[e]=!0,!1)}function Ze(e,n,o){if(Mi(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var d=n.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Pa(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function cn(e,n,o,d){if(d===null)e.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+d)}}var ea,Sa;function Qt(e){if(ea===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Sa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+e+Sa}var Jt=!1;function qt(e,n){if(!e||Jt)return"";Jt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(n){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(He){var je=He}Reflect.construct(e,[],Je)}else{try{Je.call()}catch(He){je=He}e.call(Je.prototype)}}else{try{throw Error()}catch(He){je=He}(Je=e())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(He){if(He&&je&&typeof He.stack=="string")return[He.stack,je.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),U=b[0],ne=b[1];if(U&&ne){var xe=U.split(`
`),Ie=ne.split(`
`);for(h=d=0;d<xe.length&&!xe[d].includes("DetermineComponentFrameRoot");)d++;for(;h<Ie.length&&!Ie[h].includes("DetermineComponentFrameRoot");)h++;if(d===xe.length||h===Ie.length)for(d=xe.length-1,h=Ie.length-1;1<=d&&0<=h&&xe[d]!==Ie[h];)h--;for(;1<=d&&0<=h;d--,h--)if(xe[d]!==Ie[h]){if(d!==1||h!==1)do if(d--,h--,0>h||xe[d]!==Ie[h]){var Ye=`
`+xe[d].replace(" at new "," at ");return e.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",e.displayName)),Ye}while(1<=d&&0<=h);break}}}finally{Jt=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Qt(o):""}function Yt(e){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return qt(e.type,!1);case 11:return qt(e.type.render,!1);case 1:return qt(e.type,!0);case 31:return Qt("Activity");default:return""}}function mi(e){try{var n="";do n+=Yt(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Er(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bn(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ua(e){var n=Bn(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,b=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(U){d=""+U,b.call(this,U)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(U){d=""+U},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function yn(e){e._valueTracker||(e._valueTracker=ua(e))}function En(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),d="";return e&&(d=Bn(e)?e.checked?"true":"false":e.value),e=d,e!==o?(n.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qa=/[\n"\\]/g;function Qn(e){return e.replace(Qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(e,n,o,d,h,b,U,ne){e.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?e.type=U:e.removeAttribute("type"),n!=null?U==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Er(n)):e.value!==""+Er(n)&&(e.value=""+Er(n)):U!=="submit"&&U!=="reset"||e.removeAttribute("value"),n!=null?Te(e,U,Er(n)):o!=null?Te(e,U,Er(o)):d!=null&&e.removeAttribute("value"),h==null&&b!=null&&(e.defaultChecked=!!b),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?e.name=""+Er(ne):e.removeAttribute("name")}function Kn(e,n,o,d,h,b,U,ne){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),n!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||n!=null))return;o=o!=null?""+Er(o):"",n=n!=null?""+Er(n):o,ne||n===e.value||(e.value=n),e.defaultValue=n}d=d??h,d=typeof d!="function"&&typeof d!="symbol"&&!!d,e.checked=ne?e.checked:!!d,e.defaultChecked=!!d,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(e.name=U)}function Te(e,n,o){n==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ue(e,n,o,d){if(e=e.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=n.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&d&&(e[o].defaultSelected=!0)}else{for(o=""+Er(o),n=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,d&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function bt(e,n,o){if(n!=null&&(n=""+Er(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Er(o):""}function jn(e,n,o,d){if(n==null){if(d!=null){if(o!=null)throw Error(g(92));if($(d)){if(1<d.length)throw Error(g(93));d=d[0]}o=d}o==null&&(o=""),n=o}o=Er(n),e.defaultValue=o,d=e.textContent,d===o&&d!==""&&d!==null&&(e.value=d)}function tr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tn(e,n,o){var d=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":d?e.setProperty(n,o):typeof o!="number"||o===0||lo.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Ir(e,n,o){if(n!=null&&typeof n!="object")throw Error(g(62));if(e=e.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||n!=null&&n.hasOwnProperty(d)||(d.indexOf("--")===0?e.setProperty(d,""):d==="float"?e.cssFloat="":e[d]="");for(var h in n)d=n[h],n.hasOwnProperty(h)&&o[h]!==d&&tn(e,h,d)}else for(var b in n)n.hasOwnProperty(b)&&tn(e,b,n[b])}function _t(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ln=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return Rr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Na=null;function jr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,Ua=null;function $t(e){var n=er(e);if(n&&(e=n.stateNode)){var o=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fn(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var d=o[n];if(d!==e&&d.form===e.form){var h=d[mt]||null;if(!h)throw Error(g(90));fn(d,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<o.length;n++)d=o[n],d.form===e.form&&En(d)}break e;case"textarea":bt(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ue(e,!!o.multiple,n,!1)}}}var gr=!1;function Lr(e,n,o){if(gr)return e(n,o);gr=!0;try{var d=e(n);return d}finally{if(gr=!1,(da!==null||Ua!==null)&&(Nl(),da&&(n=da,e=Ua,Ua=da=null,$t(n),e)))for(n=0;n<e.length;n++)$t(e[n])}}function wt(e,n){var o=e.stateNode;if(o===null)return null;var d=o[mt]||null;if(d===null)return null;o=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(g(231,n,typeof o));return o}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),It=!1;if(Kr)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){It=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{It=!1}var ur=null,Fa=null,Ja=null;function ta(){if(Ja)return Ja;var e,n=Fa,o=n.length,d,h="value"in ur?ur.value:ur.textContent,b=h.length;for(e=0;e<o&&n[e]===h[e];e++);var U=o-e;for(d=1;d<=U&&n[o-d]===h[b-d];d++);return Ja=h.slice(e,1<d?1-d:void 0)}function Ta(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function Ha(){return!1}function nr(e){function n(o,d,h,b,U){this._reactName=o,this._targetInst=h,this.type=d,this.nativeEvent=b,this.target=U,this.currentTarget=null;for(var ne in e)e.hasOwnProperty(ne)&&(o=e[ne],this[ne]=o?o(b):b[ne]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?na:Ha,this.isPropagationStopped=Ha,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),n}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=nr(Vr),fa=O({},Vr,{view:0,detail:0}),cr=nr(fa),Ga,$a,ei,Bi=O({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Ga=e.screenX-ei.screenX,$a=e.screenY-ei.screenY):$a=Ga=0,ei=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),Ds=nr(Bi),ls=O({},Bi,{dataTransfer:0}),hn=nr(ls),us=O({},fa,{relatedTarget:0}),ha=nr(us),Zr=O({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),ji=nr(Zr),Ue=O({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xt=nr(Ue),Gn=O({},Vr,{data:0}),Va=nr(Gn),Li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ds={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pr(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ds[e])?!!n[e]:!1}function ma(){return pr}var zn=O({},fa,{key:function(e){if(e.key){var n=Li[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zi=nr(zn),Sn=O({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=nr(Sn),ka=O({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),mn=nr(ka),Et=O({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xa=nr(Et),wn=O({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=nr(wn),pa=O({},Vr,{newState:0,oldState:0}),fs=nr(pa),Wr=[9,13,27,32],gi=Kr&&"CompositionEvent"in window,Ia=null;Kr&&"documentMode"in document&&(Ia=document.documentMode);var ni=Kr&&"TextEvent"in window&&!Ia,hs=Kr&&(!gi||Ia&&8<Ia&&11>=Ia),pi=" ",Pi=!1;function qa(e,n){switch(e){case"keyup":return Wr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ri=!1;function ai(e,n){switch(e){case"compositionend":return xi(n);case"keypress":return n.which!==32?null:(Pi=!0,pi);case"textInput":return e=n.data,e===pi&&Pi?null:e;default:return null}}function Ms(e,n){if(ri)return e==="compositionend"||!gi&&qa(e,n)?(e=ta(),Ja=Fa=ur=null,ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hs&&n.locale!=="ko"?null:n.data;default:return null}}var Ra={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ii(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ra[e.type]:n==="textarea"}function Sr(e,n,o,d){da?Ua?Ua.push(d):Ua=[d]:da=d,n=Dl(n,"onChange"),0<n.length&&(o=new Oa("onChange","change",null,o,d),e.push({event:o,listeners:n}))}var Ya=null,Nr=null;function uo(e){kh(e,0)}function si(e){var n=Yr(e);if(En(n))return e}function Bs(e,n){if(e==="change")return n}var oi=!1;if(Kr){var Zn;if(Kr){var Pn="oninput"in document;if(!Pn){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Pn=typeof Ka.oninput=="function"}Zn=Pn}else Zn=!1;oi=Zn&&(!document.documentMode||9<document.documentMode)}function dr(){Ya&&(Ya.detachEvent("onpropertychange",an),Nr=Ya=null)}function an(e){if(e.propertyName==="value"&&si(Nr)){var n=[];Sr(n,Nr,e,jr(e)),Lr(uo,n)}}function li(e,n,o){e==="focusin"?(dr(),Ya=n,Nr=o,Ya.attachEvent("onpropertychange",an)):e==="focusout"&&dr()}function G(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(Nr)}function t(e,n){if(e==="click")return si(n)}function r(e,n){if(e==="input"||e==="change")return si(n)}function i(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var l=typeof Object.is=="function"?Object.is:i;function u(e,n){if(l(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),d=Object.keys(n);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var h=o[d];if(!vt.call(n,h)||!l(e[h],n[h]))return!1}return!0}function a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s(e,n){var o=a(e);e=0;for(var d;o;){if(o.nodeType===3){if(d=e+o.textContent.length,e<=n&&d>=n)return{node:o,offset:n-e};e=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=a(o)}}function c(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?c(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function f(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cr(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Cr(e.document)}return n}function p(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var w=Kr&&"documentMode"in document&&11>=document.documentMode,N=null,B=null,V=null,q=!1;function re(e,n,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;q||N==null||N!==Cr(d)||(d=N,"selectionStart"in d&&p(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),V&&u(V,d)||(V=d,d=Dl(B,"onSelect"),0<d.length&&(n=new Oa("onSelect","select",null,n,o),e.push({event:n,listeners:d}),n.target=N)))}function K(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var he={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionrun:K("Transition","TransitionRun"),transitionstart:K("Transition","TransitionStart"),transitioncancel:K("Transition","TransitionCancel"),transitionend:K("Transition","TransitionEnd")},ce={},de={};Kr&&(de=document.createElement("div").style,"AnimationEvent"in window||(delete he.animationend.animation,delete he.animationiteration.animation,delete he.animationstart.animation),"TransitionEvent"in window||delete he.transitionend.transition);function be(e){if(ce[e])return ce[e];if(!he[e])return e;var n=he[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in de)return ce[e]=n[o];return e}var ye=be("animationend"),Ae=be("animationiteration"),Me=be("animationstart"),Fe=be("transitionrun"),Re=be("transitionstart"),Qe=be("transitioncancel"),nt=be("transitionend"),rt=new Map,at="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");at.push("scrollEnd");function ot(e,n){rt.set(e,n),or(n,[e])}var ft=new WeakMap;function ut(e,n){if(typeof e=="object"&&e!==null){var o=ft.get(e);return o!==void 0?o:(n={value:e,source:n,stack:mi(n)},ft.set(e,n),n)}return{value:e,source:n,stack:mi(n)}}var Nt=[],Kt=0,Ft=0;function Un(){for(var e=Kt,n=Ft=Kt=0;n<e;){var o=Nt[n];Nt[n++]=null;var d=Nt[n];Nt[n++]=null;var h=Nt[n];Nt[n++]=null;var b=Nt[n];if(Nt[n++]=null,d!==null&&h!==null){var U=d.pending;U===null?h.next=h:(h.next=U.next,U.next=h),d.pending=h}b!==0&&ms(o,h,b)}}function Lt(e,n,o,d){Nt[Kt++]=e,Nt[Kt++]=n,Nt[Kt++]=o,Nt[Kt++]=d,Ft|=d,e.lanes|=d,e=e.alternate,e!==null&&(e.lanes|=d)}function xr(e,n,o,d){return Lt(e,n,o,d),yr(e)}function Jn(e,n){return Lt(e,null,null,n),yr(e)}function ms(e,n,o){e.lanes|=o;var d=e.alternate;d!==null&&(d.lanes|=o);for(var h=!1,b=e.return;b!==null;)b.childLanes|=o,d=b.alternate,d!==null&&(d.childLanes|=o),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(h=!0)),e=b,b=b.return;return e.tag===3?(b=e.stateNode,h&&n!==null&&(h=31-St(o),e=b.hiddenUpdates,d=e[h],d===null?e[h]=[n]:d.push(n),n.lane=o|536870912),b):null}function yr(e){if(50<jo)throw jo=0,fc=null,Error(g(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ra={};function co(e,n,o,d){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(e,n,o,d){return new co(e,n,o,d)}function ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,n){var o=e.alternate;return o===null?(o=xa(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function md(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jo(e,n,o,d,h,b){var U=0;if(d=e,typeof e=="function")ou(e)&&(U=1);else if(typeof e=="string")U=Sm(e,o,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=xa(31,o,n,h),e.elementType=H,e.lanes=b,e;case Y:return gs(o.children,h,b,n);case P:U=8,h|=24;break;case Z:return e=xa(12,o,n,h|2),e.elementType=Z,e.lanes=b,e;case E:return e=xa(13,o,n,h),e.elementType=E,e.lanes=b,e;case C:return e=xa(19,o,n,h),e.elementType=C,e.lanes=b,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:case Q:U=10;break e;case te:U=9;break e;case m:U=11;break e;case M:U=14;break e;case W:U=16,d=null;break e}U=29,o=Error(g(130,e===null?"null":typeof e,"")),d=null}return n=xa(U,o,n,h),n.elementType=e,n.type=d,n.lanes=b,n}function gs(e,n,o,d){return e=xa(7,e,d,n),e.lanes=o,e}function lu(e,n,o){return e=xa(6,e,null,n),e.lanes=o,e}function uu(e,n,o){return n=xa(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var js=[],Ls=0,$o=null,el=0,Da=[],Ma=0,ps=null,bi=1,wi="";function xs(e,n){js[Ls++]=el,js[Ls++]=$o,$o=e,el=n}function gd(e,n,o){Da[Ma++]=bi,Da[Ma++]=wi,Da[Ma++]=ps,ps=e;var d=bi;e=wi;var h=32-St(d)-1;d&=~(1<<h),o+=1;var b=32-St(n)+h;if(30<b){var U=h-h%5;b=(d&(1<<U)-1).toString(32),d>>=U,h-=U,bi=1<<32-St(n)+h|o<<h|d,wi=b+e}else bi=1<<b|o<<h|d,wi=e}function cu(e){e.return!==null&&(xs(e,1),gd(e,1,0))}function du(e){for(;e===$o;)$o=js[--Ls],js[Ls]=null,el=js[--Ls],js[Ls]=null;for(;e===ps;)ps=Da[--Ma],Da[Ma]=null,wi=Da[--Ma],Da[Ma]=null,bi=Da[--Ma],Da[Ma]=null}var Qr=null,rr=null,vn=!1,ys=null,ui=!1,fu=Error(g(519));function bs(e){var n=Error(g(418,""));throw mo(ut(n,e)),fu}function pd(e){var n=e.stateNode,o=e.type,d=e.memoizedProps;switch(n[An]=e,n[mt]=d,o){case"dialog":ln("cancel",n),ln("close",n);break;case"iframe":case"object":case"embed":ln("load",n);break;case"video":case"audio":for(o=0;o<zo.length;o++)ln(zo[o],n);break;case"source":ln("error",n);break;case"img":case"image":case"link":ln("error",n),ln("load",n);break;case"details":ln("toggle",n);break;case"input":ln("invalid",n),Kn(n,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),yn(n);break;case"select":ln("invalid",n);break;case"textarea":ln("invalid",n),jn(n,d.value,d.defaultValue,d.children),yn(n)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||d.suppressHydrationWarning===!0||Mh(n.textContent,o)?(d.popover!=null&&(ln("beforetoggle",n),ln("toggle",n)),d.onScroll!=null&&ln("scroll",n),d.onScrollEnd!=null&&ln("scrollend",n),d.onClick!=null&&(n.onclick=Ml),n=!0):n=!1,n||bs(e)}function xd(e){for(Qr=e.return;Qr;)switch(Qr.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Qr=Qr.return}}function fo(e){if(e!==Qr)return!1;if(!vn)return xd(e),vn=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Tc(e.type,e.memoizedProps)),o=!o),o&&rr&&bs(e),xd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(g(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){rr=Wa(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}rr=null}}else n===27?(n=rr,ts(e.type)?(e=Rc,Rc=null,rr=e):rr=n):rr=Qr?Wa(e.stateNode.nextSibling):null;return!0}function ho(){rr=Qr=null,vn=!1}function yd(){var e=ys;return e!==null&&(sa===null?sa=e:sa.push.apply(sa,e),ys=null),e}function mo(e){ys===null?ys=[e]:ys.push(e)}var hu=le(null),ws=null,vi=null;function Ui(e,n,o){Ne(hu,n._currentValue),n._currentValue=o}function _i(e){e._currentValue=hu.current,pe(hu)}function mu(e,n,o){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===o)break;e=e.return}}function gu(e,n,o,d){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var b=h.dependencies;if(b!==null){var U=h.child;b=b.firstContext;e:for(;b!==null;){var ne=b;b=h;for(var xe=0;xe<n.length;xe++)if(ne.context===n[xe]){b.lanes|=o,ne=b.alternate,ne!==null&&(ne.lanes|=o),mu(b.return,o,e),d||(U=null);break e}b=ne.next}}else if(h.tag===18){if(U=h.return,U===null)throw Error(g(341));U.lanes|=o,b=U.alternate,b!==null&&(b.lanes|=o),mu(U,o,e),U=null}else U=h.child;if(U!==null)U.return=h;else for(U=h;U!==null;){if(U===e){U=null;break}if(h=U.sibling,h!==null){h.return=U.return,U=h;break}U=U.return}h=U}}function go(e,n,o,d){e=null;for(var h=n,b=!1;h!==null;){if(!b){if((h.flags&524288)!==0)b=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var U=h.alternate;if(U===null)throw Error(g(387));if(U=U.memoizedProps,U!==null){var ne=h.type;l(h.pendingProps.value,U.value)||(e!==null?e.push(ne):e=[ne])}}else if(h===$e.current){if(U=h.alternate,U===null)throw Error(g(387));U.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Vo):e=[Vo])}h=h.return}e!==null&&gu(n,e,o,d),n.flags|=262144}function tl(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){ws=e,vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xr(e){return bd(ws,e)}function nl(e,n){return ws===null&&vs(e),bd(e,n)}function bd(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},vi===null){if(e===null)throw Error(g(308));vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vi=vi.next=n;return o}var C1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,d){e.push(d)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},S1=A.unstable_scheduleCallback,N1=A.unstable_NormalPriority,Tr={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new C1,data:new Map,refCount:0}}function po(e){e.refCount--,e.refCount===0&&S1(N1,function(){e.controller.abort()})}var xo=null,xu=0,zs=0,Ps=null;function T1(e,n){if(xo===null){var o=xo=[];xu=0,zs=bc(),Ps={status:"pending",value:void 0,then:function(d){o.push(d)}}}return xu++,n.then(wd,wd),n}function wd(){if(--xu===0&&xo!==null){Ps!==null&&(Ps.status="fulfilled");var e=xo;xo=null,zs=0,Ps=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function O1(e,n){var o=[],d={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return e.then(function(){d.status="fulfilled",d.value=n;for(var h=0;h<o.length;h++)(0,o[h])(n)},function(h){for(d.status="rejected",d.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),d}var vd=X.S;X.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(e,n),vd!==null&&vd(e,n)};var _s=le(null);function yu(){var e=_s.current;return e!==null?e:Vn.pooledCache}function rl(e,n){n===null?Ne(_s,_s.current):Ne(_s,n.pool)}function _d(){var e=yu();return e===null?null:{parent:Tr._currentValue,pool:e}}var yo=Error(g(460)),Ad=Error(g(474)),al=Error(g(542)),bu={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function il(){}function Cd(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(il,il),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nd(e),e;default:if(typeof n.status=="string")n.then(il,il);else{if(e=Vn,e!==null&&100<e.shellSuspendCounter)throw Error(g(482));e=n,e.status="pending",e.then(function(d){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=d}},function(d){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=d}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nd(e),e}throw bo=n,yo}}var bo=null;function Sd(){if(bo===null)throw Error(g(459));var e=bo;return bo=null,e}function Nd(e){if(e===yo||e===al)throw Error(g(483))}var Fi=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(e,n,o){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Nn&2)!==0){var h=d.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),d.pending=n,n=yr(e),ms(e,null,o),n}return Lt(e,d,n,o),yr(e)}function wo(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Mt(e,o)}}function _u(e,n){var o=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var h=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var U={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?h=b=U:b=b.next=U,o=o.next}while(o!==null);b===null?h=b=n:b=b.next=n}else h=b=n;o={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Au=!1;function vo(){if(Au){var e=Ps;if(e!==null)throw e}}function _o(e,n,o,d){Au=!1;var h=e.updateQueue;Fi=!1;var b=h.firstBaseUpdate,U=h.lastBaseUpdate,ne=h.shared.pending;if(ne!==null){h.shared.pending=null;var xe=ne,Ie=xe.next;xe.next=null,U===null?b=Ie:U.next=Ie,U=xe;var Ye=e.alternate;Ye!==null&&(Ye=Ye.updateQueue,ne=Ye.lastBaseUpdate,ne!==U&&(ne===null?Ye.firstBaseUpdate=Ie:ne.next=Ie,Ye.lastBaseUpdate=xe))}if(b!==null){var Je=h.baseState;U=0,Ye=Ie=xe=null,ne=b;do{var je=ne.lane&-536870913,He=je!==ne.lane;if(He?(gn&je)===je:(d&je)===je){je!==0&&je===zs&&(Au=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Ht=e,Bt=ne;je=n;var Dn=o;switch(Bt.tag){case 1:if(Ht=Bt.payload,typeof Ht=="function"){Je=Ht.call(Dn,Je,je);break e}Je=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Bt.payload,je=typeof Ht=="function"?Ht.call(Dn,Je,je):Ht,je==null)break e;Je=O({},Je,je);break e;case 2:Fi=!0}}je=ne.callback,je!==null&&(e.flags|=64,He&&(e.flags|=8192),He=h.callbacks,He===null?h.callbacks=[je]:He.push(je))}else He={lane:je,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ye===null?(Ie=Ye=He,xe=Je):Ye=Ye.next=He,U|=je;if(ne=ne.next,ne===null){if(ne=h.shared.pending,ne===null)break;He=ne,ne=He.next,He.next=null,h.lastBaseUpdate=He,h.shared.pending=null}}while(!0);Ye===null&&(xe=Je),h.baseState=xe,h.firstBaseUpdate=Ie,h.lastBaseUpdate=Ye,b===null&&(h.shared.lanes=0),Qi|=U,e.lanes=U,e.memoizedState=Je}}function Td(e,n){if(typeof e!="function")throw Error(g(191,e));e.call(n)}function Od(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Td(o[e],n)}var Us=le(null),sl=le(0);function kd(e,n){e=Oi,Ne(sl,e),Ne(Us,n),Oi=e|n.baseLanes}function Eu(){Ne(sl,Oi),Ne(Us,Us.current)}function Cu(){Oi=sl.current,pe(Us),pe(sl)}var Vi=0,nn=null,In=null,br=null,ol=!1,Fs=!1,As=!1,ll=0,Ao=0,Hs=null,k1=0;function fr(){throw Error(g(321))}function Su(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!l(e[o],n[o]))return!1;return!0}function Nu(e,n,o,d,h,b){return Vi=b,nn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?mf:gf,As=!1,b=o(d,h),As=!1,Fs&&(b=Rd(n,o,d,h)),Id(e),b}function Id(e){X.H=ml;var n=In!==null&&In.next!==null;if(Vi=0,br=In=nn=null,ol=!1,Ao=0,Hs=null,n)throw Error(g(300));e===null||Dr||(e=e.dependencies,e!==null&&tl(e)&&(Dr=!0))}function Rd(e,n,o,d){nn=e;var h=0;do{if(Fs&&(Hs=null),Ao=0,Fs=!1,25<=h)throw Error(g(301));if(h+=1,br=In=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=L1,b=n(o,d)}while(Fs);return b}function I1(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Eo(n):n,e=e.useState()[0],(In!==null?In.memoizedState:null)!==e&&(nn.flags|=1024),n}function Tu(){var e=ll!==0;return ll=0,e}function Ou(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function ku(e){if(ol){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ol=!1}Vi=0,br=In=nn=null,Fs=!1,Ao=ll=0,Hs=null}function aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?nn.memoizedState=br=e:br=br.next=e,br}function wr(){if(In===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=In.next;var n=br===null?nn.memoizedState:br.next;if(n!==null)br=n,In=e;else{if(e===null)throw nn.alternate===null?Error(g(467)):Error(g(310));In=e,e={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},br===null?nn.memoizedState=br=e:br=br.next=e}return br}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(e){var n=Ao;return Ao+=1,Hs===null&&(Hs=[]),e=Cd(Hs,e,n),n=nn,(br===null?n.memoizedState:br.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?mf:gf),e}function ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Eo(e);if(e.$$typeof===Q)return Xr(e)}throw Error(g(438,String(e)))}function Ru(e){var n=null,o=nn.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var d=nn.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(n={data:d.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Iu(),nn.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),d=0;d<e;d++)o[d]=ae;return n.index++,o}function Ai(e,n){return typeof n=="function"?n(e):n}function cl(e){var n=wr();return Du(n,In,e)}function Du(e,n,o){var d=e.queue;if(d===null)throw Error(g(311));d.lastRenderedReducer=o;var h=e.baseQueue,b=d.pending;if(b!==null){if(h!==null){var U=h.next;h.next=b.next,b.next=U}n.baseQueue=h=b,d.pending=null}if(b=e.baseState,h===null)e.memoizedState=b;else{n=h.next;var ne=U=null,xe=null,Ie=n,Ye=!1;do{var Je=Ie.lane&-536870913;if(Je!==Ie.lane?(gn&Je)===Je:(Vi&Je)===Je){var je=Ie.revertLane;if(je===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Je===zs&&(Ye=!0);else if((Vi&je)===je){Ie=Ie.next,je===zs&&(Ye=!0);continue}else Je={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},xe===null?(ne=xe=Je,U=b):xe=xe.next=Je,nn.lanes|=je,Qi|=je;Je=Ie.action,As&&o(b,Je),b=Ie.hasEagerState?Ie.eagerState:o(b,Je)}else je={lane:Je,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},xe===null?(ne=xe=je,U=b):xe=xe.next=je,nn.lanes|=Je,Qi|=Je;Ie=Ie.next}while(Ie!==null&&Ie!==n);if(xe===null?U=b:xe.next=ne,!l(b,e.memoizedState)&&(Dr=!0,Ye&&(o=Ps,o!==null)))throw o;e.memoizedState=b,e.baseState=U,e.baseQueue=xe,d.lastRenderedState=b}return h===null&&(d.lanes=0),[e.memoizedState,d.dispatch]}function Mu(e){var n=wr(),o=n.queue;if(o===null)throw Error(g(311));o.lastRenderedReducer=e;var d=o.dispatch,h=o.pending,b=n.memoizedState;if(h!==null){o.pending=null;var U=h=h.next;do b=e(b,U.action),U=U.next;while(U!==h);l(b,n.memoizedState)||(Dr=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),o.lastRenderedState=b}return[b,d]}function Dd(e,n,o){var d=nn,h=wr(),b=vn;if(b){if(o===void 0)throw Error(g(407));o=o()}else o=n();var U=!l((In||h).memoizedState,o);U&&(h.memoizedState=o,Dr=!0),h=h.queue;var ne=jd.bind(null,d,h,e);if(Co(2048,8,ne,[e]),h.getSnapshot!==n||U||br!==null&&br.memoizedState.tag&1){if(d.flags|=2048,Gs(9,dl(),Bd.bind(null,d,h,o,n),null),Vn===null)throw Error(g(349));b||(Vi&124)!==0||Md(d,n,o)}return o}function Md(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=nn.updateQueue,n===null?(n=Iu(),nn.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Bd(e,n,o,d){n.value=o,n.getSnapshot=d,Ld(n)&&zd(e)}function jd(e,n,o){return o(function(){Ld(n)&&zd(e)})}function Ld(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!l(e,o)}catch{return!0}}function zd(e){var n=Jn(e,2);n!==null&&_a(n,e,2)}function Bu(e){var n=aa();if(typeof e=="function"){var o=e;if(e=o(),As){At(!0);try{o()}finally{At(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n}function Pd(e,n,o,d){return e.baseState=o,Du(e,In,typeof d=="function"?d:Ai)}function R1(e,n,o,d,h){if(hl(e))throw Error(g(485));if(e=n.action,e!==null){var b={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){b.listeners.push(U)}};X.T!==null?o(!0):b.isTransition=!1,d(b),o=n.pending,o===null?(b.next=n.pending=b,Ud(n,b)):(b.next=o.next,n.pending=o.next=b)}}function Ud(e,n){var o=n.action,d=n.payload,h=e.state;if(n.isTransition){var b=X.T,U={};X.T=U;try{var ne=o(h,d),xe=X.S;xe!==null&&xe(U,ne),Fd(e,n,ne)}catch(Ie){ju(e,n,Ie)}finally{X.T=b}}else try{b=o(h,d),Fd(e,n,b)}catch(Ie){ju(e,n,Ie)}}function Fd(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Hd(e,n,d)},function(d){return ju(e,n,d)}):Hd(e,n,o)}function Hd(e,n,o){n.status="fulfilled",n.value=o,Gd(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Ud(e,o)))}function ju(e,n,o){var d=e.pending;if(e.pending=null,d!==null){d=d.next;do n.status="rejected",n.reason=o,Gd(n),n=n.next;while(n!==d)}e.action=null}function Gd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vd(e,n){return n}function Xd(e,n){if(vn){var o=Vn.formState;if(o!==null){e:{var d=nn;if(vn){if(rr){t:{for(var h=rr,b=ui;h.nodeType!==8;){if(!b){h=null;break t}if(h=Wa(h.nextSibling),h===null){h=null;break t}}b=h.data,h=b==="F!"||b==="F"?h:null}if(h){rr=Wa(h.nextSibling),d=h.data==="F!";break e}}bs(d)}d=!1}d&&(n=o[0])}}return o=aa(),o.memoizedState=o.baseState=n,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:n},o.queue=d,o=df.bind(null,nn,d),d.dispatch=o,d=Bu(!1),b=Fu.bind(null,nn,!1,d.queue),d=aa(),h={state:n,dispatch:null,action:e,pending:null},d.queue=h,o=R1.bind(null,nn,h,b,o),h.dispatch=o,d.memoizedState=e,[n,o,!1]}function qd(e){var n=wr();return Yd(n,In,e)}function Yd(e,n,o){if(n=Du(e,n,Vd)[0],e=cl(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var d=Eo(n)}catch(U){throw U===yo?al:U}else d=n;n=wr();var h=n.queue,b=h.dispatch;return o!==n.memoizedState&&(nn.flags|=2048,Gs(9,dl(),D1.bind(null,h,o),null)),[d,b,e]}function D1(e,n){e.action=n}function Kd(e){var n=wr(),o=In;if(o!==null)return Yd(n,o,e);wr(),n=n.memoizedState,o=wr();var d=o.queue.dispatch;return o.memoizedState=e,[n,d,!1]}function Gs(e,n,o,d){return e={tag:e,create:o,deps:d,inst:n,next:null},n=nn.updateQueue,n===null&&(n=Iu(),nn.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(d=o.next,o.next=e,e.next=d,n.lastEffect=e),e}function dl(){return{destroy:void 0,resource:void 0}}function Zd(){return wr().memoizedState}function fl(e,n,o,d){var h=aa();d=d===void 0?null:d,nn.flags|=e,h.memoizedState=Gs(1|n,dl(),o,d)}function Co(e,n,o,d){var h=wr();d=d===void 0?null:d;var b=h.memoizedState.inst;In!==null&&d!==null&&Su(d,In.memoizedState.deps)?h.memoizedState=Gs(n,b,o,d):(nn.flags|=e,h.memoizedState=Gs(1|n,b,o,d))}function Wd(e,n){fl(8390656,8,e,n)}function Qd(e,n){Co(2048,8,e,n)}function Jd(e,n){return Co(4,2,e,n)}function $d(e,n){return Co(4,4,e,n)}function ef(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tf(e,n,o){o=o!=null?o.concat([e]):null,Co(4,4,ef.bind(null,n,e),o)}function Lu(){}function nf(e,n){var o=wr();n=n===void 0?null:n;var d=o.memoizedState;return n!==null&&Su(n,d[1])?d[0]:(o.memoizedState=[e,n],e)}function rf(e,n){var o=wr();n=n===void 0?null:n;var d=o.memoizedState;if(n!==null&&Su(n,d[1]))return d[0];if(d=e(),As){At(!0);try{e()}finally{At(!1)}}return o.memoizedState=[d,n],d}function zu(e,n,o){return o===void 0||(Vi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=oh(),nn.lanes|=e,Qi|=e,o)}function af(e,n,o,d){return l(o,n)?o:Us.current!==null?(e=zu(e,o,d),l(e,n)||(Dr=!0),e):(Vi&42)===0?(Dr=!0,e.memoizedState=o):(e=oh(),nn.lanes|=e,Qi|=e,n)}function sf(e,n,o,d,h){var b=ie.p;ie.p=b!==0&&8>b?b:8;var U=X.T,ne={};X.T=ne,Fu(e,!1,n,o);try{var xe=h(),Ie=X.S;if(Ie!==null&&Ie(ne,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ye=O1(xe,d);So(e,n,Ye,va(e))}else So(e,n,d,va(e))}catch(Je){So(e,n,{then:function(){},status:"rejected",reason:Je},va())}finally{ie.p=b,X.T=U}}function M1(){}function Pu(e,n,o,d){if(e.tag!==5)throw Error(g(476));var h=of(e).queue;sf(e,h,n,Se,o===null?M1:function(){return lf(e),o(d)})}function of(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:Se},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lf(e){var n=of(e).next.queue;So(e,n,{},va())}function Uu(){return Xr(Vo)}function uf(){return wr().memoizedState}function cf(){return wr().memoizedState}function B1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=va();e=Hi(o);var d=Gi(n,e,o);d!==null&&(_a(d,n,o),wo(d,n,o)),n={cache:pu()},e.payload=n;return}n=n.return}}function j1(e,n,o){var d=va();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},hl(e)?ff(n,o):(o=xr(e,n,o,d),o!==null&&(_a(o,e,d),hf(o,n,d)))}function df(e,n,o){var d=va();So(e,n,o,d)}function So(e,n,o,d){var h={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(hl(e))ff(n,h);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var U=n.lastRenderedState,ne=b(U,o);if(h.hasEagerState=!0,h.eagerState=ne,l(ne,U))return Lt(e,n,h,0),Vn===null&&Un(),!1}catch{}finally{}if(o=xr(e,n,h,d),o!==null)return _a(o,e,d),hf(o,n,d),!0}return!1}function Fu(e,n,o,d){if(d={lane:2,revertLane:bc(),action:d,hasEagerState:!1,eagerState:null,next:null},hl(e)){if(n)throw Error(g(479))}else n=xr(e,o,d,2),n!==null&&_a(n,e,2)}function hl(e){var n=e.alternate;return e===nn||n!==null&&n===nn}function ff(e,n){Fs=ol=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function hf(e,n,o){if((o&4194048)!==0){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Mt(e,o)}}var ml={readContext:Xr,use:ul,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr},mf={readContext:Xr,use:ul,useCallback:function(e,n){return aa().memoizedState=[e,n===void 0?null:n],e},useContext:Xr,useEffect:Wd,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,fl(4194308,4,ef.bind(null,n,e),o)},useLayoutEffect:function(e,n){return fl(4194308,4,e,n)},useInsertionEffect:function(e,n){fl(4,2,e,n)},useMemo:function(e,n){var o=aa();n=n===void 0?null:n;var d=e();if(As){At(!0);try{e()}finally{At(!1)}}return o.memoizedState=[d,n],d},useReducer:function(e,n,o){var d=aa();if(o!==void 0){var h=o(n);if(As){At(!0);try{o(n)}finally{At(!1)}}}else h=n;return d.memoizedState=d.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},d.queue=e,e=e.dispatch=j1.bind(null,nn,e),[d.memoizedState,e]},useRef:function(e){var n=aa();return e={current:e},n.memoizedState=e},useState:function(e){e=Bu(e);var n=e.queue,o=df.bind(null,nn,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Lu,useDeferredValue:function(e,n){var o=aa();return zu(o,e,n)},useTransition:function(){var e=Bu(!1);return e=sf.bind(null,nn,e.queue,!0,!1),aa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var d=nn,h=aa();if(vn){if(o===void 0)throw Error(g(407));o=o()}else{if(o=n(),Vn===null)throw Error(g(349));(gn&124)!==0||Md(d,n,o)}h.memoizedState=o;var b={value:o,getSnapshot:n};return h.queue=b,Wd(jd.bind(null,d,b,e),[e]),d.flags|=2048,Gs(9,dl(),Bd.bind(null,d,b,o,n),null),o},useId:function(){var e=aa(),n=Vn.identifierPrefix;if(vn){var o=wi,d=bi;o=(d&~(1<<32-St(d)-1)).toString(32)+o,n="«"+n+"R"+o,o=ll++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=k1++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Uu,useFormState:Xd,useActionState:Xd,useOptimistic:function(e){var n=aa();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Fu.bind(null,nn,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ru,useCacheRefresh:function(){return aa().memoizedState=B1.bind(null,nn)}},gf={readContext:Xr,use:ul,useCallback:nf,useContext:Xr,useEffect:Qd,useImperativeHandle:tf,useInsertionEffect:Jd,useLayoutEffect:$d,useMemo:rf,useReducer:cl,useRef:Zd,useState:function(){return cl(Ai)},useDebugValue:Lu,useDeferredValue:function(e,n){var o=wr();return af(o,In.memoizedState,e,n)},useTransition:function(){var e=cl(Ai)[0],n=wr().memoizedState;return[typeof e=="boolean"?e:Eo(e),n]},useSyncExternalStore:Dd,useId:uf,useHostTransitionStatus:Uu,useFormState:qd,useActionState:qd,useOptimistic:function(e,n){var o=wr();return Pd(o,In,e,n)},useMemoCache:Ru,useCacheRefresh:cf},L1={readContext:Xr,use:ul,useCallback:nf,useContext:Xr,useEffect:Qd,useImperativeHandle:tf,useInsertionEffect:Jd,useLayoutEffect:$d,useMemo:rf,useReducer:Mu,useRef:Zd,useState:function(){return Mu(Ai)},useDebugValue:Lu,useDeferredValue:function(e,n){var o=wr();return In===null?zu(o,e,n):af(o,In.memoizedState,e,n)},useTransition:function(){var e=Mu(Ai)[0],n=wr().memoizedState;return[typeof e=="boolean"?e:Eo(e),n]},useSyncExternalStore:Dd,useId:uf,useHostTransitionStatus:Uu,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,n){var o=wr();return In!==null?Pd(o,In,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:cf},Vs=null,No=0;function gl(e){var n=No;return No+=1,Vs===null&&(Vs=[]),Cd(Vs,e,n)}function To(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pl(e,n){throw n.$$typeof===D?Error(g(525)):(e=Object.prototype.toString.call(n),Error(g(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pf(e){var n=e._init;return n(e._payload)}function xf(e){function n(Ce,ve){if(e){var Oe=Ce.deletions;Oe===null?(Ce.deletions=[ve],Ce.flags|=16):Oe.push(ve)}}function o(Ce,ve){if(!e)return null;for(;ve!==null;)n(Ce,ve),ve=ve.sibling;return null}function d(Ce){for(var ve=new Map;Ce!==null;)Ce.key!==null?ve.set(Ce.key,Ce):ve.set(Ce.index,Ce),Ce=Ce.sibling;return ve}function h(Ce,ve){return Ce=yi(Ce,ve),Ce.index=0,Ce.sibling=null,Ce}function b(Ce,ve,Oe){return Ce.index=Oe,e?(Oe=Ce.alternate,Oe!==null?(Oe=Oe.index,Oe<ve?(Ce.flags|=67108866,ve):Oe):(Ce.flags|=67108866,ve)):(Ce.flags|=1048576,ve)}function U(Ce){return e&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ne(Ce,ve,Oe,We){return ve===null||ve.tag!==6?(ve=lu(Oe,Ce.mode,We),ve.return=Ce,ve):(ve=h(ve,Oe),ve.return=Ce,ve)}function xe(Ce,ve,Oe,We){var xt=Oe.type;return xt===Y?Ye(Ce,ve,Oe.props.children,We,Oe.key):ve!==null&&(ve.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===W&&pf(xt)===ve.type)?(ve=h(ve,Oe.props),To(ve,Oe),ve.return=Ce,ve):(ve=Jo(Oe.type,Oe.key,Oe.props,null,Ce.mode,We),To(ve,Oe),ve.return=Ce,ve)}function Ie(Ce,ve,Oe,We){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Oe.containerInfo||ve.stateNode.implementation!==Oe.implementation?(ve=uu(Oe,Ce.mode,We),ve.return=Ce,ve):(ve=h(ve,Oe.children||[]),ve.return=Ce,ve)}function Ye(Ce,ve,Oe,We,xt){return ve===null||ve.tag!==7?(ve=gs(Oe,Ce.mode,We,xt),ve.return=Ce,ve):(ve=h(ve,Oe),ve.return=Ce,ve)}function Je(Ce,ve,Oe){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=lu(""+ve,Ce.mode,Oe),ve.return=Ce,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case F:return Oe=Jo(ve.type,ve.key,ve.props,null,Ce.mode,Oe),To(Oe,ve),Oe.return=Ce,Oe;case L:return ve=uu(ve,Ce.mode,Oe),ve.return=Ce,ve;case W:var We=ve._init;return ve=We(ve._payload),Je(Ce,ve,Oe)}if($(ve)||J(ve))return ve=gs(ve,Ce.mode,Oe,null),ve.return=Ce,ve;if(typeof ve.then=="function")return Je(Ce,gl(ve),Oe);if(ve.$$typeof===Q)return Je(Ce,nl(Ce,ve),Oe);pl(Ce,ve)}return null}function je(Ce,ve,Oe,We){var xt=ve!==null?ve.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return xt!==null?null:ne(Ce,ve,""+Oe,We);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case F:return Oe.key===xt?xe(Ce,ve,Oe,We):null;case L:return Oe.key===xt?Ie(Ce,ve,Oe,We):null;case W:return xt=Oe._init,Oe=xt(Oe._payload),je(Ce,ve,Oe,We)}if($(Oe)||J(Oe))return xt!==null?null:Ye(Ce,ve,Oe,We,null);if(typeof Oe.then=="function")return je(Ce,ve,gl(Oe),We);if(Oe.$$typeof===Q)return je(Ce,ve,nl(Ce,Oe),We);pl(Ce,Oe)}return null}function He(Ce,ve,Oe,We,xt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Ce=Ce.get(Oe)||null,ne(ve,Ce,""+We,xt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case F:return Ce=Ce.get(We.key===null?Oe:We.key)||null,xe(ve,Ce,We,xt);case L:return Ce=Ce.get(We.key===null?Oe:We.key)||null,Ie(ve,Ce,We,xt);case W:var sn=We._init;return We=sn(We._payload),He(Ce,ve,Oe,We,xt)}if($(We)||J(We))return Ce=Ce.get(Oe)||null,Ye(ve,Ce,We,xt,null);if(typeof We.then=="function")return He(Ce,ve,Oe,gl(We),xt);if(We.$$typeof===Q)return He(Ce,ve,Oe,nl(ve,We),xt);pl(ve,We)}return null}function Ht(Ce,ve,Oe,We){for(var xt=null,sn=null,Ct=ve,zt=ve=0,Br=null;Ct!==null&&zt<Oe.length;zt++){Ct.index>zt?(Br=Ct,Ct=null):Br=Ct.sibling;var bn=je(Ce,Ct,Oe[zt],We);if(bn===null){Ct===null&&(Ct=Br);break}e&&Ct&&bn.alternate===null&&n(Ce,Ct),ve=b(bn,ve,zt),sn===null?xt=bn:sn.sibling=bn,sn=bn,Ct=Br}if(zt===Oe.length)return o(Ce,Ct),vn&&xs(Ce,zt),xt;if(Ct===null){for(;zt<Oe.length;zt++)Ct=Je(Ce,Oe[zt],We),Ct!==null&&(ve=b(Ct,ve,zt),sn===null?xt=Ct:sn.sibling=Ct,sn=Ct);return vn&&xs(Ce,zt),xt}for(Ct=d(Ct);zt<Oe.length;zt++)Br=He(Ct,Ce,zt,Oe[zt],We),Br!==null&&(e&&Br.alternate!==null&&Ct.delete(Br.key===null?zt:Br.key),ve=b(Br,ve,zt),sn===null?xt=Br:sn.sibling=Br,sn=Br);return e&&Ct.forEach(function(ss){return n(Ce,ss)}),vn&&xs(Ce,zt),xt}function Bt(Ce,ve,Oe,We){if(Oe==null)throw Error(g(151));for(var xt=null,sn=null,Ct=ve,zt=ve=0,Br=null,bn=Oe.next();Ct!==null&&!bn.done;zt++,bn=Oe.next()){Ct.index>zt?(Br=Ct,Ct=null):Br=Ct.sibling;var ss=je(Ce,Ct,bn.value,We);if(ss===null){Ct===null&&(Ct=Br);break}e&&Ct&&ss.alternate===null&&n(Ce,Ct),ve=b(ss,ve,zt),sn===null?xt=ss:sn.sibling=ss,sn=ss,Ct=Br}if(bn.done)return o(Ce,Ct),vn&&xs(Ce,zt),xt;if(Ct===null){for(;!bn.done;zt++,bn=Oe.next())bn=Je(Ce,bn.value,We),bn!==null&&(ve=b(bn,ve,zt),sn===null?xt=bn:sn.sibling=bn,sn=bn);return vn&&xs(Ce,zt),xt}for(Ct=d(Ct);!bn.done;zt++,bn=Oe.next())bn=He(Ct,Ce,zt,bn.value,We),bn!==null&&(e&&bn.alternate!==null&&Ct.delete(bn.key===null?zt:bn.key),ve=b(bn,ve,zt),sn===null?xt=bn:sn.sibling=bn,sn=bn);return e&&Ct.forEach(function(zm){return n(Ce,zm)}),vn&&xs(Ce,zt),xt}function Dn(Ce,ve,Oe,We){if(typeof Oe=="object"&&Oe!==null&&Oe.type===Y&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case F:e:{for(var xt=Oe.key;ve!==null;){if(ve.key===xt){if(xt=Oe.type,xt===Y){if(ve.tag===7){o(Ce,ve.sibling),We=h(ve,Oe.props.children),We.return=Ce,Ce=We;break e}}else if(ve.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===W&&pf(xt)===ve.type){o(Ce,ve.sibling),We=h(ve,Oe.props),To(We,Oe),We.return=Ce,Ce=We;break e}o(Ce,ve);break}else n(Ce,ve);ve=ve.sibling}Oe.type===Y?(We=gs(Oe.props.children,Ce.mode,We,Oe.key),We.return=Ce,Ce=We):(We=Jo(Oe.type,Oe.key,Oe.props,null,Ce.mode,We),To(We,Oe),We.return=Ce,Ce=We)}return U(Ce);case L:e:{for(xt=Oe.key;ve!==null;){if(ve.key===xt)if(ve.tag===4&&ve.stateNode.containerInfo===Oe.containerInfo&&ve.stateNode.implementation===Oe.implementation){o(Ce,ve.sibling),We=h(ve,Oe.children||[]),We.return=Ce,Ce=We;break e}else{o(Ce,ve);break}else n(Ce,ve);ve=ve.sibling}We=uu(Oe,Ce.mode,We),We.return=Ce,Ce=We}return U(Ce);case W:return xt=Oe._init,Oe=xt(Oe._payload),Dn(Ce,ve,Oe,We)}if($(Oe))return Ht(Ce,ve,Oe,We);if(J(Oe)){if(xt=J(Oe),typeof xt!="function")throw Error(g(150));return Oe=xt.call(Oe),Bt(Ce,ve,Oe,We)}if(typeof Oe.then=="function")return Dn(Ce,ve,gl(Oe),We);if(Oe.$$typeof===Q)return Dn(Ce,ve,nl(Ce,Oe),We);pl(Ce,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ve!==null&&ve.tag===6?(o(Ce,ve.sibling),We=h(ve,Oe),We.return=Ce,Ce=We):(o(Ce,ve),We=lu(Oe,Ce.mode,We),We.return=Ce,Ce=We),U(Ce)):o(Ce,ve)}return function(Ce,ve,Oe,We){try{No=0;var xt=Dn(Ce,ve,Oe,We);return Vs=null,xt}catch(Ct){if(Ct===yo||Ct===al)throw Ct;var sn=xa(29,Ct,null,Ce.mode);return sn.lanes=We,sn.return=Ce,sn}finally{}}}var Xs=xf(!0),yf=xf(!1),Ba=le(null),ci=null;function Xi(e){var n=e.alternate;Ne(Or,Or.current&1),Ne(Ba,e),ci===null&&(n===null||Us.current!==null||n.memoizedState!==null)&&(ci=e)}function bf(e){if(e.tag===22){if(Ne(Or,Or.current),Ne(Ba,e),ci===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ci=e)}}else qi()}function qi(){Ne(Or,Or.current),Ne(Ba,Ba.current)}function Ei(e){pe(Ba),ci===e&&(ci=null),pe(Or)}var Or=le(0);function xl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ic(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hu(e,n,o,d){n=e.memoizedState,o=o(d,n),o=o==null?n:O({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Gu={enqueueSetState:function(e,n,o){e=e._reactInternals;var d=va(),h=Hi(d);h.payload=n,o!=null&&(h.callback=o),n=Gi(e,h,d),n!==null&&(_a(n,e,d),wo(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var d=va(),h=Hi(d);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=Gi(e,h,d),n!==null&&(_a(n,e,d),wo(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=va(),d=Hi(o);d.tag=2,n!=null&&(d.callback=n),n=Gi(e,d,o),n!==null&&(_a(n,e,o),wo(n,e,o))}};function wf(e,n,o,d,h,b,U){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,b,U):n.prototype&&n.prototype.isPureReactComponent?!u(o,d)||!u(h,b):!0}function vf(e,n,o,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,d),n.state!==e&&Gu.enqueueReplaceState(n,n.state,null)}function Es(e,n){var o=n;if("ref"in n){o={};for(var d in n)d!=="ref"&&(o[d]=n[d])}if(e=e.defaultProps){o===n&&(o=O({},o));for(var h in e)o[h]===void 0&&(o[h]=e[h])}return o}var yl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _f(e){yl(e)}function Af(e){console.error(e)}function Ef(e){yl(e)}function bl(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(d){setTimeout(function(){throw d})}}function Cf(e,n,o){try{var d=e.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vu(e,n,o){return o=Hi(o),o.tag=3,o.payload={element:null},o.callback=function(){bl(e,n)},o}function Sf(e){return e=Hi(e),e.tag=3,e}function Nf(e,n,o,d){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var b=d.value;e.payload=function(){return h(b)},e.callback=function(){Cf(n,o,d)}}var U=o.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(e.callback=function(){Cf(n,o,d),typeof h!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var ne=d.stack;this.componentDidCatch(d.value,{componentStack:ne!==null?ne:""})})}function z1(e,n,o,d,h){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(n=o.alternate,n!==null&&go(n,o,h,!0),o=Ba.current,o!==null){switch(o.tag){case 13:return ci===null?mc():o.alternate===null&&ar===0&&(ar=3),o.flags&=-257,o.flags|=65536,o.lanes=h,d===bu?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([d]):n.add(d),pc(e,d,h)),!1;case 22:return o.flags|=65536,d===bu?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([d]):o.add(d)),pc(e,d,h)),!1}throw Error(g(435,o.tag))}return pc(e,d,h),mc(),!1}if(vn)return n=Ba.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,d!==fu&&(e=Error(g(422),{cause:d}),mo(ut(e,o)))):(d!==fu&&(n=Error(g(423),{cause:d}),mo(ut(n,o))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,d=ut(d,o),h=Vu(e.stateNode,d,h),_u(e,h),ar!==4&&(ar=2)),!1;var b=Error(g(520),{cause:d});if(b=ut(b,o),Bo===null?Bo=[b]:Bo.push(b),ar!==4&&(ar=2),n===null)return!0;d=ut(d,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=h&-h,o.lanes|=e,e=Vu(o.stateNode,d,e),_u(o,e),!1;case 1:if(n=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ji===null||!Ji.has(b))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Sf(h),Nf(h,e,o,d),_u(o,h),!1}o=o.return}while(o!==null);return!1}var Tf=Error(g(461)),Dr=!1;function zr(e,n,o,d){n.child=e===null?yf(n,null,o,d):Xs(n,e.child,o,d)}function Of(e,n,o,d,h){o=o.render;var b=n.ref;if("ref"in d){var U={};for(var ne in d)ne!=="ref"&&(U[ne]=d[ne])}else U=d;return vs(n),d=Nu(e,n,o,U,b,h),ne=Tu(),e!==null&&!Dr?(Ou(e,n,h),Ci(e,n,h)):(vn&&ne&&cu(n),n.flags|=1,zr(e,n,d,h),n.child)}function kf(e,n,o,d,h){if(e===null){var b=o.type;return typeof b=="function"&&!ou(b)&&b.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=b,If(e,n,b,d,h)):(e=Jo(o.type,null,d,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(b=e.child,!Ju(e,h)){var U=b.memoizedProps;if(o=o.compare,o=o!==null?o:u,o(U,d)&&e.ref===n.ref)return Ci(e,n,h)}return n.flags|=1,e=yi(b,d),e.ref=n.ref,e.return=n,n.child=e}function If(e,n,o,d,h){if(e!==null){var b=e.memoizedProps;if(u(b,d)&&e.ref===n.ref)if(Dr=!1,n.pendingProps=d=b,Ju(e,h))(e.flags&131072)!==0&&(Dr=!0);else return n.lanes=e.lanes,Ci(e,n,h)}return Xu(e,n,o,d,h)}function Rf(e,n,o){var d=n.pendingProps,h=d.children,b=e!==null?e.memoizedState:null;if(d.mode==="hidden"){if((n.flags&128)!==0){if(d=b!==null?b.baseLanes|o:o,e!==null){for(h=n.child=e.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;n.childLanes=b&~d}else n.childLanes=0,n.child=null;return Df(e,n,d,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&rl(n,b!==null?b.cachePool:null),b!==null?kd(n,b):Eu(),bf(n);else return n.lanes=n.childLanes=536870912,Df(e,n,b!==null?b.baseLanes|o:o,o)}else b!==null?(rl(n,b.cachePool),kd(n,b),qi(),n.memoizedState=null):(e!==null&&rl(n,null),Eu(),qi());return zr(e,n,h,o),n.child}function Df(e,n,o,d){var h=yu();return h=h===null?null:{parent:Tr._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&rl(n,null),Eu(),bf(n),e!==null&&go(e,n,d,!0),null}function wl(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(g(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Xu(e,n,o,d,h){return vs(n),o=Nu(e,n,o,d,void 0,h),d=Tu(),e!==null&&!Dr?(Ou(e,n,h),Ci(e,n,h)):(vn&&d&&cu(n),n.flags|=1,zr(e,n,o,h),n.child)}function Mf(e,n,o,d,h,b){return vs(n),n.updateQueue=null,o=Rd(n,d,o,h),Id(e),d=Tu(),e!==null&&!Dr?(Ou(e,n,b),Ci(e,n,b)):(vn&&d&&cu(n),n.flags|=1,zr(e,n,o,b),n.child)}function Bf(e,n,o,d,h){if(vs(n),n.stateNode===null){var b=ra,U=o.contextType;typeof U=="object"&&U!==null&&(b=Xr(U)),b=new o(d,b),n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Gu,n.stateNode=b,b._reactInternals=n,b=n.stateNode,b.props=d,b.state=n.memoizedState,b.refs={},wu(n),U=o.contextType,b.context=typeof U=="object"&&U!==null?Xr(U):ra,b.state=n.memoizedState,U=o.getDerivedStateFromProps,typeof U=="function"&&(Hu(n,o,U,d),b.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(U=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),U!==b.state&&Gu.enqueueReplaceState(b,b.state,null),_o(n,d,b,h),vo(),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308),d=!0}else if(e===null){b=n.stateNode;var ne=n.memoizedProps,xe=Es(o,ne);b.props=xe;var Ie=b.context,Ye=o.contextType;U=ra,typeof Ye=="object"&&Ye!==null&&(U=Xr(Ye));var Je=o.getDerivedStateFromProps;Ye=typeof Je=="function"||typeof b.getSnapshotBeforeUpdate=="function",ne=n.pendingProps!==ne,Ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(ne||Ie!==U)&&vf(n,b,d,U),Fi=!1;var je=n.memoizedState;b.state=je,_o(n,d,b,h),vo(),Ie=n.memoizedState,ne||je!==Ie||Fi?(typeof Je=="function"&&(Hu(n,o,Je,d),Ie=n.memoizedState),(xe=Fi||wf(n,o,xe,d,je,Ie,U))?(Ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=Ie),b.props=d,b.state=Ie,b.context=U,d=xe):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{b=n.stateNode,vu(e,n),U=n.memoizedProps,Ye=Es(o,U),b.props=Ye,Je=n.pendingProps,je=b.context,Ie=o.contextType,xe=ra,typeof Ie=="object"&&Ie!==null&&(xe=Xr(Ie)),ne=o.getDerivedStateFromProps,(Ie=typeof ne=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==Je||je!==xe)&&vf(n,b,d,xe),Fi=!1,je=n.memoizedState,b.state=je,_o(n,d,b,h),vo();var He=n.memoizedState;U!==Je||je!==He||Fi||e!==null&&e.dependencies!==null&&tl(e.dependencies)?(typeof ne=="function"&&(Hu(n,o,ne,d),He=n.memoizedState),(Ye=Fi||wf(n,o,Ye,d,je,He,xe)||e!==null&&e.dependencies!==null&&tl(e.dependencies))?(Ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,He,xe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,He,xe)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||U===e.memoizedProps&&je===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===e.memoizedProps&&je===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=He),b.props=d,b.state=He,b.context=xe,d=Ye):(typeof b.componentDidUpdate!="function"||U===e.memoizedProps&&je===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===e.memoizedProps&&je===e.memoizedState||(n.flags|=1024),d=!1)}return b=d,wl(e,n),d=(n.flags&128)!==0,b||d?(b=n.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:b.render(),n.flags|=1,e!==null&&d?(n.child=Xs(n,e.child,null,h),n.child=Xs(n,null,o,h)):zr(e,n,o,h),n.memoizedState=b.state,e=n.child):e=Ci(e,n,h),e}function jf(e,n,o,d){return ho(),n.flags|=256,zr(e,n,o,d),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:_d()}}function Ku(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=ja),e}function Lf(e,n,o){var d=n.pendingProps,h=!1,b=(n.flags&128)!==0,U;if((U=b)||(U=e!==null&&e.memoizedState===null?!1:(Or.current&2)!==0),U&&(h=!0,n.flags&=-129),U=(n.flags&32)!==0,n.flags&=-33,e===null){if(vn){if(h?Xi(n):qi(),vn){var ne=rr,xe;if(xe=ne){e:{for(xe=ne,ne=ui;xe.nodeType!==8;){if(!ne){ne=null;break e}if(xe=Wa(xe.nextSibling),xe===null){ne=null;break e}}ne=xe}ne!==null?(n.memoizedState={dehydrated:ne,treeContext:ps!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},xe=xa(18,null,null,0),xe.stateNode=ne,xe.return=n,n.child=xe,Qr=n,rr=null,xe=!0):xe=!1}xe||bs(n)}if(ne=n.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return Ic(ne)?n.lanes=32:n.lanes=536870912,null;Ei(n)}return ne=d.children,d=d.fallback,h?(qi(),h=n.mode,ne=vl({mode:"hidden",children:ne},h),d=gs(d,h,o,null),ne.return=n,d.return=n,ne.sibling=d,n.child=ne,h=n.child,h.memoizedState=Yu(o),h.childLanes=Ku(e,U,o),n.memoizedState=qu,d):(Xi(n),Zu(n,ne))}if(xe=e.memoizedState,xe!==null&&(ne=xe.dehydrated,ne!==null)){if(b)n.flags&256?(Xi(n),n.flags&=-257,n=Wu(e,n,o)):n.memoizedState!==null?(qi(),n.child=e.child,n.flags|=128,n=null):(qi(),h=d.fallback,ne=n.mode,d=vl({mode:"visible",children:d.children},ne),h=gs(h,ne,o,null),h.flags|=2,d.return=n,h.return=n,d.sibling=h,n.child=d,Xs(n,e.child,null,o),d=n.child,d.memoizedState=Yu(o),d.childLanes=Ku(e,U,o),n.memoizedState=qu,n=h);else if(Xi(n),Ic(ne)){if(U=ne.nextSibling&&ne.nextSibling.dataset,U)var Ie=U.dgst;U=Ie,d=Error(g(419)),d.stack="",d.digest=U,mo({value:d,source:null,stack:null}),n=Wu(e,n,o)}else if(Dr||go(e,n,o,!1),U=(o&e.childLanes)!==0,Dr||U){if(U=Vn,U!==null&&(d=o&-o,d=(d&42)!==0?1:On(d),d=(d&(U.suspendedLanes|o))!==0?0:d,d!==0&&d!==xe.retryLane))throw xe.retryLane=d,Jn(e,d),_a(U,e,d),Tf;ne.data==="$?"||mc(),n=Wu(e,n,o)}else ne.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=xe.treeContext,rr=Wa(ne.nextSibling),Qr=n,vn=!0,ys=null,ui=!1,e!==null&&(Da[Ma++]=bi,Da[Ma++]=wi,Da[Ma++]=ps,bi=e.id,wi=e.overflow,ps=n),n=Zu(n,d.children),n.flags|=4096);return n}return h?(qi(),h=d.fallback,ne=n.mode,xe=e.child,Ie=xe.sibling,d=yi(xe,{mode:"hidden",children:d.children}),d.subtreeFlags=xe.subtreeFlags&65011712,Ie!==null?h=yi(Ie,h):(h=gs(h,ne,o,null),h.flags|=2),h.return=n,d.return=n,d.sibling=h,n.child=d,d=h,h=n.child,ne=e.child.memoizedState,ne===null?ne=Yu(o):(xe=ne.cachePool,xe!==null?(Ie=Tr._currentValue,xe=xe.parent!==Ie?{parent:Ie,pool:Ie}:xe):xe=_d(),ne={baseLanes:ne.baseLanes|o,cachePool:xe}),h.memoizedState=ne,h.childLanes=Ku(e,U,o),n.memoizedState=qu,d):(Xi(n),o=e.child,e=o.sibling,o=yi(o,{mode:"visible",children:d.children}),o.return=n,o.sibling=null,e!==null&&(U=n.deletions,U===null?(n.deletions=[e],n.flags|=16):U.push(e)),n.child=o,n.memoizedState=null,o)}function Zu(e,n){return n=vl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function vl(e,n){return e=xa(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wu(e,n,o){return Xs(n,e.child,null,o),e=Zu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zf(e,n,o){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),mu(e.return,n,o)}function Qu(e,n,o,d,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:h}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=o,b.tailMode=h)}function Pf(e,n,o){var d=n.pendingProps,h=d.revealOrder,b=d.tail;if(zr(e,n,d.children,o),d=Or.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,o,n);else if(e.tag===19)zf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}switch(Ne(Or,d),h){case"forwards":for(o=n.child,h=null;o!==null;)e=o.alternate,e!==null&&xl(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),Qu(n,!1,h,o,b);break;case"backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xl(e)===null){n.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Qu(n,!0,o,null,b);break;case"together":Qu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Qi|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(go(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(g(153));if(n.child!==null){for(e=n.child,o=yi(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=yi(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Ju(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&tl(e)))}function P1(e,n,o){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),Ui(n,Tr,e.memoizedState.cache),ho();break;case 27:case 5:Dt(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:Ui(n,n.type,n.memoizedProps.value);break;case 13:var d=n.memoizedState;if(d!==null)return d.dehydrated!==null?(Xi(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Lf(e,n,o):(Xi(n),e=Ci(e,n,o),e!==null?e.sibling:null);Xi(n);break;case 19:var h=(e.flags&128)!==0;if(d=(o&n.childLanes)!==0,d||(go(e,n,o,!1),d=(o&n.childLanes)!==0),h){if(d)return Pf(e,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(Or,Or.current),d)break;return null;case 22:case 23:return n.lanes=0,Rf(e,n,o);case 24:Ui(n,Tr,e.memoizedState.cache)}return Ci(e,n,o)}function Uf(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Dr=!0;else{if(!Ju(e,o)&&(n.flags&128)===0)return Dr=!1,P1(e,n,o);Dr=(e.flags&131072)!==0}else Dr=!1,vn&&(n.flags&1048576)!==0&&gd(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var d=n.elementType,h=d._init;if(d=h(d._payload),n.type=d,typeof d=="function")ou(d)?(e=Es(d,e),n.tag=1,n=Bf(null,n,d,e,o)):(n.tag=0,n=Xu(null,n,d,e,o));else{if(d!=null){if(h=d.$$typeof,h===m){n.tag=11,n=Of(null,n,d,e,o);break e}else if(h===M){n.tag=14,n=kf(null,n,d,e,o);break e}}throw n=j(d)||d,Error(g(306,n,""))}}return n;case 0:return Xu(e,n,n.type,n.pendingProps,o);case 1:return d=n.type,h=Es(d,n.pendingProps),Bf(e,n,d,h,o);case 3:e:{if(Xe(n,n.stateNode.containerInfo),e===null)throw Error(g(387));d=n.pendingProps;var b=n.memoizedState;h=b.element,vu(e,n),_o(n,d,null,o);var U=n.memoizedState;if(d=U.cache,Ui(n,Tr,d),d!==b.cache&&gu(n,[Tr],o,!0),vo(),d=U.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:U.cache},n.updateQueue.baseState=b,n.memoizedState=b,n.flags&256){n=jf(e,n,d,o);break e}else if(d!==h){h=ut(Error(g(424)),n),mo(h),n=jf(e,n,d,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rr=Wa(e.firstChild),Qr=n,vn=!0,ys=null,ui=!0,o=yf(n,null,d,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ho(),d===h){n=Ci(e,n,o);break e}zr(e,n,d,o)}n=n.child}return n;case 26:return wl(e,n),e===null?(o=Vh(n.type,null,n.pendingProps,null))?n.memoizedState=o:vn||(o=n.type,e=n.pendingProps,d=Bl(ze.current).createElement(o),d[An]=n,d[mt]=e,Ur(d,o,e),rn(d),n.stateNode=d):n.memoizedState=Vh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Dt(n),e===null&&vn&&(d=n.stateNode=Fh(n.type,n.pendingProps,ze.current),Qr=n,ui=!0,h=rr,ts(n.type)?(Rc=h,rr=Wa(d.firstChild)):rr=h),zr(e,n,n.pendingProps.children,o),wl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&vn&&((h=d=rr)&&(d=hm(d,n.type,n.pendingProps,ui),d!==null?(n.stateNode=d,Qr=n,rr=Wa(d.firstChild),ui=!1,h=!0):h=!1),h||bs(n)),Dt(n),h=n.type,b=n.pendingProps,U=e!==null?e.memoizedProps:null,d=b.children,Tc(h,b)?d=null:U!==null&&Tc(h,U)&&(n.flags|=32),n.memoizedState!==null&&(h=Nu(e,n,I1,null,null,o),Vo._currentValue=h),wl(e,n),zr(e,n,d,o),n.child;case 6:return e===null&&vn&&((e=o=rr)&&(o=mm(o,n.pendingProps,ui),o!==null?(n.stateNode=o,Qr=n,rr=null,e=!0):e=!1),e||bs(n)),null;case 13:return Lf(e,n,o);case 4:return Xe(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Xs(n,null,d,o):zr(e,n,d,o),n.child;case 11:return Of(e,n,n.type,n.pendingProps,o);case 7:return zr(e,n,n.pendingProps,o),n.child;case 8:return zr(e,n,n.pendingProps.children,o),n.child;case 12:return zr(e,n,n.pendingProps.children,o),n.child;case 10:return d=n.pendingProps,Ui(n,n.type,d.value),zr(e,n,d.children,o),n.child;case 9:return h=n.type._context,d=n.pendingProps.children,vs(n),h=Xr(h),d=d(h),n.flags|=1,zr(e,n,d,o),n.child;case 14:return kf(e,n,n.type,n.pendingProps,o);case 15:return If(e,n,n.type,n.pendingProps,o);case 19:return Pf(e,n,o);case 31:return d=n.pendingProps,o=n.mode,d={mode:d.mode,children:d.children},e===null?(o=vl(d,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=yi(e.child,d),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return Rf(e,n,o);case 24:return vs(n),d=Xr(Tr),e===null?(h=yu(),h===null&&(h=Vn,b=pu(),h.pooledCache=b,b.refCount++,b!==null&&(h.pooledCacheLanes|=o),h=b),n.memoizedState={parent:d,cache:h},wu(n),Ui(n,Tr,h)):((e.lanes&o)!==0&&(vu(e,n),_o(n,null,null,o),vo()),h=e.memoizedState,b=n.memoizedState,h.parent!==d?(h={parent:d,cache:d},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ui(n,Tr,d)):(d=b.cache,Ui(n,Tr,d),d!==h.cache&&gu(n,[Tr],o,!0))),zr(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(g(156,n.tag))}function Si(e){e.flags|=4}function Ff(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zh(n)){if(n=Ba.current,n!==null&&((gn&4194048)===gn?ci!==null:(gn&62914560)!==gn&&(gn&536870912)===0||n!==ci))throw bo=bu,Ad;e.flags|=8192}}function _l(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?dt():536870912,e.lanes|=n,Zs|=n)}function Oo(e,n){if(!vn)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function $n(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,d=0;if(n)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags&65011712,d|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=d,e.childLanes=o,n}function U1(e,n,o){var d=n.pendingProps;switch(du(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(n),null;case 1:return $n(n),null;case 3:return o=n.stateNode,d=null,e!==null&&(d=e.memoizedState.cache),n.memoizedState.cache!==d&&(n.flags|=2048),_i(Tr),Ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fo(n)?Si(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yd())),$n(n),null;case 26:return o=n.memoizedState,e===null?(Si(n),o!==null?($n(n),Ff(n,o)):($n(n),n.flags&=-16777217)):o?o!==e.memoizedState?(Si(n),$n(n),Ff(n,o)):($n(n),n.flags&=-16777217):(e.memoizedProps!==d&&Si(n),$n(n),n.flags&=-16777217),null;case 27:Tt(n),o=ze.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==d&&Si(n);else{if(!d){if(n.stateNode===null)throw Error(g(166));return $n(n),null}e=De.current,fo(n)?pd(n):(e=Fh(h,d,o),n.stateNode=e,Si(n))}return $n(n),null;case 5:if(Tt(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==d&&Si(n);else{if(!d){if(n.stateNode===null)throw Error(g(166));return $n(n),null}if(e=De.current,fo(n))pd(n);else{switch(h=Bl(ze.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof d.is=="string"?h.createElement("select",{is:d.is}):h.createElement("select"),d.multiple?e.multiple=!0:d.size&&(e.size=d.size);break;default:e=typeof d.is=="string"?h.createElement(o,{is:d.is}):h.createElement(o)}}e[An]=n,e[mt]=d;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;e:switch(Ur(e,o,d),o){case"button":case"input":case"select":case"textarea":e=!!d.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Si(n)}}return $n(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==d&&Si(n);else{if(typeof d!="string"&&n.stateNode===null)throw Error(g(166));if(e=ze.current,fo(n)){if(e=n.stateNode,o=n.memoizedProps,d=null,h=Qr,h!==null)switch(h.tag){case 27:case 5:d=h.memoizedProps}e[An]=n,e=!!(e.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Mh(e.nodeValue,o)),e||bs(n)}else e=Bl(e).createTextNode(d),e[An]=n,n.stateNode=e}return $n(n),null;case 13:if(d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fo(n),d!==null&&d.dehydrated!==null){if(e===null){if(!h)throw Error(g(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(g(317));h[An]=n}else ho(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$n(n),h=!1}else h=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=d!==null,e=e!==null&&e.memoizedState!==null,o){d=n.child,h=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(h=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==h&&(d.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),_l(n,n.updateQueue),$n(n),null;case 4:return Ve(),e===null&&Ac(n.stateNode.containerInfo),$n(n),null;case 10:return _i(n.type),$n(n),null;case 19:if(pe(Or),h=n.memoizedState,h===null)return $n(n),null;if(d=(n.flags&128)!==0,b=h.rendering,b===null)if(d)Oo(h,!1);else{if(ar!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=xl(e),b!==null){for(n.flags|=128,Oo(h,!1),e=b.updateQueue,n.updateQueue=e,_l(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)md(o,e),o=o.sibling;return Ne(Or,Or.current&1|2),n.child}e=e.sibling}h.tail!==null&&fe()>Cl&&(n.flags|=128,d=!0,Oo(h,!1),n.lanes=4194304)}else{if(!d)if(e=xl(b),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,_l(n,e),Oo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!vn)return $n(n),null}else 2*fe()-h.renderingStartTime>Cl&&o!==536870912&&(n.flags|=128,d=!0,Oo(h,!1),n.lanes=4194304);h.isBackwards?(b.sibling=n.child,n.child=b):(e=h.last,e!==null?e.sibling=b:n.child=b,h.last=b)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fe(),n.sibling=null,e=Or.current,Ne(Or,d?e&1|2:e&1),n):($n(n),null);case 22:case 23:return Ei(n),Cu(),d=n.memoizedState!==null,e!==null?e.memoizedState!==null!==d&&(n.flags|=8192):d&&(n.flags|=8192),d?(o&536870912)!==0&&(n.flags&128)===0&&($n(n),n.subtreeFlags&6&&(n.flags|=8192)):$n(n),o=n.updateQueue,o!==null&&_l(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),d=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048),e!==null&&pe(_s),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),_i(Tr),$n(n),null;case 25:return null;case 30:return null}throw Error(g(156,n.tag))}function F1(e,n){switch(du(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return _i(Tr),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Tt(n),null;case 13:if(Ei(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(g(340));ho()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return pe(Or),null;case 4:return Ve(),null;case 10:return _i(n.type),null;case 22:case 23:return Ei(n),Cu(),e!==null&&pe(_s),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return _i(Tr),null;case 25:return null;default:return null}}function Hf(e,n){switch(du(n),n.tag){case 3:_i(Tr),Ve();break;case 26:case 27:case 5:Tt(n);break;case 4:Ve();break;case 13:Ei(n);break;case 19:pe(Or);break;case 10:_i(n.type);break;case 22:case 23:Ei(n),Cu(),e!==null&&pe(_s);break;case 24:_i(Tr)}}function ko(e,n){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&e)===e){d=void 0;var b=o.create,U=o.inst;d=b(),U.destroy=d}o=o.next}while(o!==h)}}catch(ne){Fn(n,n.return,ne)}}function Yi(e,n,o){try{var d=n.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var b=h.next;d=b;do{if((d.tag&e)===e){var U=d.inst,ne=U.destroy;if(ne!==void 0){U.destroy=void 0,h=n;var xe=o,Ie=ne;try{Ie()}catch(Ye){Fn(h,xe,Ye)}}}d=d.next}while(d!==b)}}catch(Ye){Fn(n,n.return,Ye)}}function Gf(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Od(n,o)}catch(d){Fn(e,e.return,d)}}}function Vf(e,n,o){o.props=Es(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(d){Fn(e,n,d)}}function Io(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var d=e.stateNode;break;case 30:d=e.stateNode;break;default:d=e.stateNode}typeof o=="function"?e.refCleanup=o(d):o.current=d}}catch(h){Fn(e,n,h)}}function di(e,n){var o=e.ref,d=e.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(h){Fn(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Fn(e,n,h)}else o.current=null}function Xf(e){var n=e.type,o=e.memoizedProps,d=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(h){Fn(e,e.return,h)}}function $u(e,n,o){try{var d=e.stateNode;lm(d,e.type,o,n),d[mt]=n}catch(h){Fn(e,e.return,h)}}function qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ts(e.type)||e.tag===4}function ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ml));else if(d!==4&&(d===27&&ts(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(tc(e,n,o),e=e.sibling;e!==null;)tc(e,n,o),e=e.sibling}function Al(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(d!==4&&(d===27&&ts(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Al(e,n,o),e=e.sibling;e!==null;)Al(e,n,o),e=e.sibling}function Yf(e){var n=e.stateNode,o=e.memoizedProps;try{for(var d=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ur(n,d,o),n[An]=e,n[mt]=o}catch(b){Fn(e,e.return,b)}}var Ni=!1,hr=!1,nc=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function H1(e,n){if(e=e.containerInfo,Sc=Fl,e=f(e),p(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var h=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var U=0,ne=-1,xe=-1,Ie=0,Ye=0,Je=e,je=null;t:for(;;){for(var He;Je!==o||h!==0&&Je.nodeType!==3||(ne=U+h),Je!==b||d!==0&&Je.nodeType!==3||(xe=U+d),Je.nodeType===3&&(U+=Je.nodeValue.length),(He=Je.firstChild)!==null;)je=Je,Je=He;for(;;){if(Je===e)break t;if(je===o&&++Ie===h&&(ne=U),je===b&&++Ye===d&&(xe=U),(He=Je.nextSibling)!==null)break;Je=je,je=Je.parentNode}Je=He}o=ne===-1||xe===-1?null:{start:ne,end:xe}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nc={focusedElem:e,selectionRange:o},Fl=!1,Mr=n;Mr!==null;)if(n=Mr,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Mr=e;else for(;Mr!==null;){switch(n=Mr,b=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,o=n,h=b.memoizedProps,b=b.memoizedState,d=o.stateNode;try{var Ht=Es(o.type,h,o.elementType===o.type);e=d.getSnapshotBeforeUpdate(Ht,b),d.__reactInternalSnapshotBeforeUpdate=e}catch(Bt){Fn(o,o.return,Bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)kc(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(g(163))}if(e=n.sibling,e!==null){e.return=n.return,Mr=e;break}Mr=n.return}}function Zf(e,n,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(e,o),d&4&&ko(5,o);break;case 1:if(Ki(e,o),d&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(U){Fn(o,o.return,U)}else{var h=Es(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(U){Fn(o,o.return,U)}}d&64&&Gf(o),d&512&&Io(o,o.return);break;case 3:if(Ki(e,o),d&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Od(e,n)}catch(U){Fn(o,o.return,U)}}break;case 27:n===null&&d&4&&Yf(o);case 26:case 5:Ki(e,o),n===null&&d&4&&Xf(o),d&512&&Io(o,o.return);break;case 12:Ki(e,o);break;case 13:Ki(e,o),d&4&&Jf(e,o),d&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Q1.bind(null,o),gm(e,o))));break;case 22:if(d=o.memoizedState!==null||Ni,!d){n=n!==null&&n.memoizedState!==null||hr,h=Ni;var b=hr;Ni=d,(hr=n)&&!b?Zi(e,o,(o.subtreeFlags&8772)!==0):Ki(e,o),Ni=h,hr=b}break;case 30:break;default:Ki(e,o)}}function Wf(e){var n=e.alternate;n!==null&&(e.alternate=null,Wf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wn=null,ia=!1;function Ti(e,n,o){for(o=o.child;o!==null;)Qf(e,n,o),o=o.sibling}function Qf(e,n,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ht,o)}catch{}switch(o.tag){case 26:hr||di(o,n),Ti(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:hr||di(o,n);var d=Wn,h=ia;ts(o.type)&&(Wn=o.stateNode,ia=!1),Ti(e,n,o),Uo(o.stateNode),Wn=d,ia=h;break;case 5:hr||di(o,n);case 6:if(d=Wn,h=ia,Wn=null,Ti(e,n,o),Wn=d,ia=h,Wn!==null)if(ia)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(o.stateNode)}catch(b){Fn(o,n,b)}else try{Wn.removeChild(o.stateNode)}catch(b){Fn(o,n,b)}break;case 18:Wn!==null&&(ia?(e=Wn,Ph(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Ko(e)):Ph(Wn,o.stateNode));break;case 4:d=Wn,h=ia,Wn=o.stateNode.containerInfo,ia=!0,Ti(e,n,o),Wn=d,ia=h;break;case 0:case 11:case 14:case 15:hr||Yi(2,o,n),hr||Yi(4,o,n),Ti(e,n,o);break;case 1:hr||(di(o,n),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Vf(o,n,d)),Ti(e,n,o);break;case 21:Ti(e,n,o);break;case 22:hr=(d=hr)||o.memoizedState!==null,Ti(e,n,o),hr=d;break;default:Ti(e,n,o)}}function Jf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ko(e)}catch(o){Fn(n,n.return,o)}}function G1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kf),n;default:throw Error(g(435,e.tag))}}function rc(e,n){var o=G1(e);n.forEach(function(d){var h=J1.bind(null,e,d);o.has(d)||(o.add(d),d.then(h,h))})}function ya(e,n){var o=n.deletions;if(o!==null)for(var d=0;d<o.length;d++){var h=o[d],b=e,U=n,ne=U;e:for(;ne!==null;){switch(ne.tag){case 27:if(ts(ne.type)){Wn=ne.stateNode,ia=!1;break e}break;case 5:Wn=ne.stateNode,ia=!1;break e;case 3:case 4:Wn=ne.stateNode.containerInfo,ia=!0;break e}ne=ne.return}if(Wn===null)throw Error(g(160));Qf(b,U,h),Wn=null,ia=!1,b=h.alternate,b!==null&&(b.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$f(n,e),n=n.sibling}var Za=null;function $f(e,n){var o=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ya(n,e),ba(e),d&4&&(Yi(3,e,e.return),ko(3,e),Yi(5,e,e.return));break;case 1:ya(n,e),ba(e),d&512&&(hr||o===null||di(o,o.return)),d&64&&Ni&&(e=e.updateQueue,e!==null&&(d=e.callbacks,d!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var h=Za;if(ya(n,e),ba(e),d&512&&(hr||o===null||di(o,o.return)),d&4){var b=o!==null?o.memoizedState:null;if(d=e.memoizedState,o===null)if(d===null)if(e.stateNode===null){e:{d=e.type,o=e.memoizedProps,h=h.ownerDocument||h;t:switch(d){case"title":b=h.getElementsByTagName("title")[0],(!b||b[$r]||b[An]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=h.createElement(d),h.head.insertBefore(b,h.querySelector("head > title"))),Ur(b,d,o),b[An]=e,rn(b),d=b;break e;case"link":var U=Yh("link","href",h).get(d+(o.href||""));if(U){for(var ne=0;ne<U.length;ne++)if(b=U[ne],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){U.splice(ne,1);break t}}b=h.createElement(d),Ur(b,d,o),h.head.appendChild(b);break;case"meta":if(U=Yh("meta","content",h).get(d+(o.content||""))){for(ne=0;ne<U.length;ne++)if(b=U[ne],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){U.splice(ne,1);break t}}b=h.createElement(d),Ur(b,d,o),h.head.appendChild(b);break;default:throw Error(g(468,d))}b[An]=e,rn(b),d=b}e.stateNode=d}else Kh(h,e.type,e.stateNode);else e.stateNode=qh(h,d,e.memoizedProps);else b!==d?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,d===null?Kh(h,e.type,e.stateNode):qh(h,d,e.memoizedProps)):d===null&&e.stateNode!==null&&$u(e,e.memoizedProps,o.memoizedProps)}break;case 27:ya(n,e),ba(e),d&512&&(hr||o===null||di(o,o.return)),o!==null&&d&4&&$u(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ya(n,e),ba(e),d&512&&(hr||o===null||di(o,o.return)),e.flags&32){h=e.stateNode;try{tr(h,"")}catch(He){Fn(e,e.return,He)}}d&4&&e.stateNode!=null&&(h=e.memoizedProps,$u(e,h,o!==null?o.memoizedProps:h)),d&1024&&(nc=!0);break;case 6:if(ya(n,e),ba(e),d&4){if(e.stateNode===null)throw Error(g(162));d=e.memoizedProps,o=e.stateNode;try{o.nodeValue=d}catch(He){Fn(e,e.return,He)}}break;case 3:if(zl=null,h=Za,Za=jl(n.containerInfo),ya(n,e),Za=h,ba(e),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(n.containerInfo)}catch(He){Fn(e,e.return,He)}nc&&(nc=!1,eh(e));break;case 4:d=Za,Za=jl(e.stateNode.containerInfo),ya(n,e),ba(e),Za=d;break;case 12:ya(n,e),ba(e);break;case 13:ya(n,e),ba(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(uc=fe()),d&4&&(d=e.updateQueue,d!==null&&(e.updateQueue=null,rc(e,d)));break;case 22:h=e.memoizedState!==null;var xe=o!==null&&o.memoizedState!==null,Ie=Ni,Ye=hr;if(Ni=Ie||h,hr=Ye||xe,ya(n,e),hr=Ye,Ni=Ie,ba(e),d&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(o===null||xe||Ni||hr||Cs(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){xe=o=n;try{if(b=xe.stateNode,h)U=b.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{ne=xe.stateNode;var Je=xe.memoizedProps.style,je=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;ne.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(He){Fn(xe,xe.return,He)}}}else if(n.tag===6){if(o===null){xe=n;try{xe.stateNode.nodeValue=h?"":xe.memoizedProps}catch(He){Fn(xe,xe.return,He)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}d&4&&(d=e.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,rc(e,o))));break;case 19:ya(n,e),ba(e),d&4&&(d=e.updateQueue,d!==null&&(e.updateQueue=null,rc(e,d)));break;case 30:break;case 21:break;default:ya(n,e),ba(e)}}function ba(e){var n=e.flags;if(n&2){try{for(var o,d=e.return;d!==null;){if(qf(d)){o=d;break}d=d.return}if(o==null)throw Error(g(160));switch(o.tag){case 27:var h=o.stateNode,b=ec(e);Al(e,b,h);break;case 5:var U=o.stateNode;o.flags&32&&(tr(U,""),o.flags&=-33);var ne=ec(e);Al(e,ne,U);break;case 3:case 4:var xe=o.stateNode.containerInfo,Ie=ec(e);tc(e,Ie,xe);break;default:throw Error(g(161))}}catch(Ye){Fn(e,e.return,Ye)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function eh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;eh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zf(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),Cs(n);break;case 1:di(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Vf(n,n.return,o),Cs(n);break;case 27:Uo(n.stateNode);case 26:case 5:di(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function Zi(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var d=n.alternate,h=e,b=n,U=b.flags;switch(b.tag){case 0:case 11:case 15:Zi(h,b,o),ko(4,b);break;case 1:if(Zi(h,b,o),d=b,h=d.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Ie){Fn(d,d.return,Ie)}if(d=b,h=d.updateQueue,h!==null){var ne=d.stateNode;try{var xe=h.shared.hiddenCallbacks;if(xe!==null)for(h.shared.hiddenCallbacks=null,h=0;h<xe.length;h++)Td(xe[h],ne)}catch(Ie){Fn(d,d.return,Ie)}}o&&U&64&&Gf(b),Io(b,b.return);break;case 27:Yf(b);case 26:case 5:Zi(h,b,o),o&&d===null&&U&4&&Xf(b),Io(b,b.return);break;case 12:Zi(h,b,o);break;case 13:Zi(h,b,o),o&&U&4&&Jf(h,b);break;case 22:b.memoizedState===null&&Zi(h,b,o),Io(b,b.return);break;case 30:break;default:Zi(h,b,o)}n=n.sibling}}function ac(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&po(o))}function ic(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&po(e))}function fi(e,n,o,d){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)th(e,n,o,d),n=n.sibling}function th(e,n,o,d){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(e,n,o,d),h&2048&&ko(9,n);break;case 1:fi(e,n,o,d);break;case 3:fi(e,n,o,d),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&po(e)));break;case 12:if(h&2048){fi(e,n,o,d),e=n.stateNode;try{var b=n.memoizedProps,U=b.id,ne=b.onPostCommit;typeof ne=="function"&&ne(U,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(xe){Fn(n,n.return,xe)}}else fi(e,n,o,d);break;case 13:fi(e,n,o,d);break;case 23:break;case 22:b=n.stateNode,U=n.alternate,n.memoizedState!==null?b._visibility&2?fi(e,n,o,d):Ro(e,n):b._visibility&2?fi(e,n,o,d):(b._visibility|=2,qs(e,n,o,d,(n.subtreeFlags&10256)!==0)),h&2048&&ac(U,n);break;case 24:fi(e,n,o,d),h&2048&&ic(n.alternate,n);break;default:fi(e,n,o,d)}}function qs(e,n,o,d,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var b=e,U=n,ne=o,xe=d,Ie=U.flags;switch(U.tag){case 0:case 11:case 15:qs(b,U,ne,xe,h),ko(8,U);break;case 23:break;case 22:var Ye=U.stateNode;U.memoizedState!==null?Ye._visibility&2?qs(b,U,ne,xe,h):Ro(b,U):(Ye._visibility|=2,qs(b,U,ne,xe,h)),h&&Ie&2048&&ac(U.alternate,U);break;case 24:qs(b,U,ne,xe,h),h&&Ie&2048&&ic(U.alternate,U);break;default:qs(b,U,ne,xe,h)}n=n.sibling}}function Ro(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,d=n,h=d.flags;switch(d.tag){case 22:Ro(o,d),h&2048&&ac(d.alternate,d);break;case 24:Ro(o,d),h&2048&&ic(d.alternate,d);break;default:Ro(o,d)}n=n.sibling}}var Do=8192;function Ys(e){if(e.subtreeFlags&Do)for(e=e.child;e!==null;)nh(e),e=e.sibling}function nh(e){switch(e.tag){case 26:Ys(e),e.flags&Do&&e.memoizedState!==null&&Tm(Za,e.memoizedState,e.memoizedProps);break;case 5:Ys(e);break;case 3:case 4:var n=Za;Za=jl(e.stateNode.containerInfo),Ys(e),Za=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Do,Do=16777216,Ys(e),Do=n):Ys(e));break;default:Ys(e)}}function rh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Mo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];Mr=d,ih(d,e)}rh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ah(e),e=e.sibling}function ah(e){switch(e.tag){case 0:case 11:case 15:Mo(e),e.flags&2048&&Yi(9,e,e.return);break;case 3:Mo(e);break;case 12:Mo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,El(e)):Mo(e);break;default:Mo(e)}}function El(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var d=n[o];Mr=d,ih(d,e)}rh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),El(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,El(n));break;default:El(n)}e=e.sibling}}function ih(e,n){for(;Mr!==null;){var o=Mr;switch(o.tag){case 0:case 11:case 15:Yi(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:po(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Mr=d;else e:for(o=e;Mr!==null;){d=Mr;var h=d.sibling,b=d.return;if(Wf(d),d===o){Mr=null;break e}if(h!==null){h.return=b,Mr=h;break e}Mr=b}}}var V1={getCacheForType:function(e){var n=Xr(Tr),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},X1=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Vn=null,on=null,gn=0,Tn=0,wa=null,Wi=!1,Ks=!1,sc=!1,Oi=0,ar=0,Qi=0,Ss=0,oc=0,ja=0,Zs=0,Bo=null,sa=null,lc=!1,uc=0,Cl=1/0,Sl=null,Ji=null,Pr=0,$i=null,Ws=null,Qs=0,cc=0,dc=null,sh=null,jo=0,fc=null;function va(){if((Nn&2)!==0&&gn!==0)return gn&-gn;if(X.T!==null){var e=zs;return e!==0?e:bc()}return _n()}function oh(){ja===0&&(ja=(gn&536870912)===0||vn?Hr():536870912);var e=Ba.current;return e!==null&&(e.flags|=32),ja}function _a(e,n,o){(e===Vn&&(Tn===2||Tn===9)||e.cancelPendingCommit!==null)&&(Js(e,0),es(e,gn,ja,!1)),Mn(e,o),((Nn&2)===0||e!==Vn)&&(e===Vn&&((Nn&2)===0&&(Ss|=o),ar===4&&es(e,gn,ja,!1)),hi(e))}function lh(e,n,o){if((Nn&6)!==0)throw Error(g(327));var d=!o&&(n&124)===0&&(n&e.expiredLanes)===0||en(e,n),h=d?K1(e,n):gc(e,n,!0),b=d;do{if(h===0){Ks&&!d&&es(e,n,0,!1);break}else{if(o=e.current.alternate,b&&!q1(o)){h=gc(e,n,!1),b=!1;continue}if(h===2){if(b=n,e.errorRecoveryDisabledLanes&b)var U=0;else U=e.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){n=U;e:{var ne=e;h=Bo;var xe=ne.current.memoizedState.isDehydrated;if(xe&&(Js(ne,U).flags|=256),U=gc(ne,U,!1),U!==2){if(sc&&!xe){ne.errorRecoveryDisabledLanes|=b,Ss|=b,h=4;break e}b=sa,sa=h,b!==null&&(sa===null?sa=b:sa.push.apply(sa,b))}h=U}if(b=!1,h!==2)continue}}if(h===1){Js(e,0),es(e,n,0,!0);break}e:{switch(d=e,b=h,b){case 0:case 1:throw Error(g(345));case 4:if((n&4194048)!==n)break;case 6:es(d,n,ja,!Wi);break e;case 2:sa=null;break;case 3:case 5:break;default:throw Error(g(329))}if((n&62914560)===n&&(h=uc+300-fe(),10<h)){if(es(d,n,ja,!Wi),et(d,0,!0)!==0)break e;d.timeoutHandle=Lh(uh.bind(null,d,o,sa,Sl,lc,n,ja,Ss,Zs,Wi,b,2,-0,0),h);break e}uh(d,o,sa,Sl,lc,n,ja,Ss,Zs,Wi,b,0,-0,0)}}break}while(!0);hi(e)}function uh(e,n,o,d,h,b,U,ne,xe,Ie,Ye,Je,je,He){if(e.timeoutHandle=-1,Je=n.subtreeFlags,(Je&8192||(Je&16785408)===16785408)&&(Go={stylesheets:null,count:0,unsuspend:Nm},nh(n),Je=Om(),Je!==null)){e.cancelPendingCommit=Je(ph.bind(null,e,n,b,o,d,h,U,ne,xe,Ye,1,je,He)),es(e,b,U,!Ie);return}ph(e,n,b,o,d,h,U,ne,xe)}function q1(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var h=o[d],b=h.getSnapshot;h=h.value;try{if(!l(b(),h))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function es(e,n,o,d){n&=~oc,n&=~Ss,e.suspendedLanes|=n,e.pingedLanes&=~n,d&&(e.warmLanes|=n),d=e.expirationTimes;for(var h=n;0<h;){var b=31-St(h),U=1<<b;d[b]=-1,h&=~U}o!==0&&Rt(e,o,n)}function Nl(){return(Nn&6)===0?(Lo(0),!1):!0}function hc(){if(on!==null){if(Tn===0)var e=on.return;else e=on,vi=ws=null,ku(e),Vs=null,No=0,e=on;for(;e!==null;)Hf(e.alternate,e),e=e.return;on=null}}function Js(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,cm(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),hc(),Vn=e,on=o=yi(e.current,null),gn=n,Tn=0,wa=null,Wi=!1,Ks=en(e,n),sc=!1,Zs=ja=oc=Ss=Qi=ar=0,sa=Bo=null,lc=!1,(n&8)!==0&&(n|=n&32);var d=e.entangledLanes;if(d!==0)for(e=e.entanglements,d&=n;0<d;){var h=31-St(d),b=1<<h;n|=e[h],d&=~b}return Oi=n,Un(),o}function ch(e,n){nn=null,X.H=ml,n===yo||n===al?(n=Sd(),Tn=3):n===Ad?(n=Sd(),Tn=4):Tn=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wa=n,on===null&&(ar=1,bl(e,ut(n,e.current)))}function dh(){var e=X.H;return X.H=ml,e===null?ml:e}function fh(){var e=X.A;return X.A=V1,e}function mc(){ar=4,Wi||(gn&4194048)!==gn&&Ba.current!==null||(Ks=!0),(Qi&134217727)===0&&(Ss&134217727)===0||Vn===null||es(Vn,gn,ja,!1)}function gc(e,n,o){var d=Nn;Nn|=2;var h=dh(),b=fh();(Vn!==e||gn!==n)&&(Sl=null,Js(e,n)),n=!1;var U=ar;e:do try{if(Tn!==0&&on!==null){var ne=on,xe=wa;switch(Tn){case 8:hc(),U=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(n=!0);var Ie=Tn;if(Tn=0,wa=null,$s(e,ne,xe,Ie),o&&Ks){U=0;break e}break;default:Ie=Tn,Tn=0,wa=null,$s(e,ne,xe,Ie)}}Y1(),U=ar;break}catch(Ye){ch(e,Ye)}while(!0);return n&&e.shellSuspendCounter++,vi=ws=null,Nn=d,X.H=h,X.A=b,on===null&&(Vn=null,gn=0,Un()),U}function Y1(){for(;on!==null;)hh(on)}function K1(e,n){var o=Nn;Nn|=2;var d=dh(),h=fh();Vn!==e||gn!==n?(Sl=null,Cl=fe()+500,Js(e,n)):Ks=en(e,n);e:do try{if(Tn!==0&&on!==null){n=on;var b=wa;t:switch(Tn){case 1:Tn=0,wa=null,$s(e,n,b,1);break;case 2:case 9:if(Ed(b)){Tn=0,wa=null,mh(n);break}n=function(){Tn!==2&&Tn!==9||Vn!==e||(Tn=7),hi(e)},b.then(n,n);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:Ed(b)?(Tn=0,wa=null,mh(n)):(Tn=0,wa=null,$s(e,n,b,7));break;case 5:var U=null;switch(on.tag){case 26:U=on.memoizedState;case 5:case 27:var ne=on;if(!U||Zh(U)){Tn=0,wa=null;var xe=ne.sibling;if(xe!==null)on=xe;else{var Ie=ne.return;Ie!==null?(on=Ie,Tl(Ie)):on=null}break t}}Tn=0,wa=null,$s(e,n,b,5);break;case 6:Tn=0,wa=null,$s(e,n,b,6);break;case 8:hc(),ar=6;break e;default:throw Error(g(462))}}Z1();break}catch(Ye){ch(e,Ye)}while(!0);return vi=ws=null,X.H=d,X.A=h,Nn=o,on!==null?0:(Vn=null,gn=0,Un(),ar)}function Z1(){for(;on!==null&&!Ge();)hh(on)}function hh(e){var n=Uf(e.alternate,e,Oi);e.memoizedProps=e.pendingProps,n===null?Tl(e):on=n}function mh(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Mf(o,n,n.pendingProps,n.type,void 0,gn);break;case 11:n=Mf(o,n,n.pendingProps,n.type.render,n.ref,gn);break;case 5:ku(n);default:Hf(o,n),n=on=md(n,Oi),n=Uf(o,n,Oi)}e.memoizedProps=e.pendingProps,n===null?Tl(e):on=n}function $s(e,n,o,d){vi=ws=null,ku(n),Vs=null,No=0;var h=n.return;try{if(z1(e,h,n,o,gn)){ar=1,bl(e,ut(o,e.current)),on=null;return}}catch(b){if(h!==null)throw on=h,b;ar=1,bl(e,ut(o,e.current)),on=null;return}n.flags&32768?(vn||d===1?e=!0:Ks||(gn&536870912)!==0?e=!1:(Wi=e=!0,(d===2||d===9||d===3||d===6)&&(d=Ba.current,d!==null&&d.tag===13&&(d.flags|=16384))),gh(n,e)):Tl(n)}function Tl(e){var n=e;do{if((n.flags&32768)!==0){gh(n,Wi);return}e=n.return;var o=U1(n.alternate,n,Oi);if(o!==null){on=o;return}if(n=n.sibling,n!==null){on=n;return}on=n=e}while(n!==null);ar===0&&(ar=5)}function gh(e,n){do{var o=F1(e.alternate,e);if(o!==null){o.flags&=32767,on=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){on=e;return}on=e=o}while(e!==null);ar=6,on=null}function ph(e,n,o,d,h,b,U,ne,xe){e.cancelPendingCommit=null;do Ol();while(Pr!==0);if((Nn&6)!==0)throw Error(g(327));if(n!==null){if(n===e.current)throw Error(g(177));if(b=n.lanes|n.childLanes,b|=Ft,qe(e,o,b,U,ne,xe),e===Vn&&(on=Vn=null,gn=0),Ws=n,$i=e,Qs=o,cc=b,dc=h,sh=d,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$1(Ee,function(){return vh(),null})):(e.callbackNode=null,e.callbackPriority=0),d=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||d){d=X.T,X.T=null,h=ie.p,ie.p=2,U=Nn,Nn|=4;try{H1(e,n,o)}finally{Nn=U,ie.p=h,X.T=d}}Pr=1,xh(),yh(),bh()}}function xh(){if(Pr===1){Pr=0;var e=$i,n=Ws,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var d=ie.p;ie.p=2;var h=Nn;Nn|=4;try{$f(n,e);var b=Nc,U=f(e.containerInfo),ne=b.focusedElem,xe=b.selectionRange;if(U!==ne&&ne&&ne.ownerDocument&&c(ne.ownerDocument.documentElement,ne)){if(xe!==null&&p(ne)){var Ie=xe.start,Ye=xe.end;if(Ye===void 0&&(Ye=Ie),"selectionStart"in ne)ne.selectionStart=Ie,ne.selectionEnd=Math.min(Ye,ne.value.length);else{var Je=ne.ownerDocument||document,je=Je&&Je.defaultView||window;if(je.getSelection){var He=je.getSelection(),Ht=ne.textContent.length,Bt=Math.min(xe.start,Ht),Dn=xe.end===void 0?Bt:Math.min(xe.end,Ht);!He.extend&&Bt>Dn&&(U=Dn,Dn=Bt,Bt=U);var Ce=s(ne,Bt),ve=s(ne,Dn);if(Ce&&ve&&(He.rangeCount!==1||He.anchorNode!==Ce.node||He.anchorOffset!==Ce.offset||He.focusNode!==ve.node||He.focusOffset!==ve.offset)){var Oe=Je.createRange();Oe.setStart(Ce.node,Ce.offset),He.removeAllRanges(),Bt>Dn?(He.addRange(Oe),He.extend(ve.node,ve.offset)):(Oe.setEnd(ve.node,ve.offset),He.addRange(Oe))}}}}for(Je=[],He=ne;He=He.parentNode;)He.nodeType===1&&Je.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<Je.length;ne++){var We=Je[ne];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}Fl=!!Sc,Nc=Sc=null}finally{Nn=h,ie.p=d,X.T=o}}e.current=n,Pr=2}}function yh(){if(Pr===2){Pr=0;var e=$i,n=Ws,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var d=ie.p;ie.p=2;var h=Nn;Nn|=4;try{Zf(e,n.alternate,n)}finally{Nn=h,ie.p=d,X.T=o}}Pr=3}}function bh(){if(Pr===4||Pr===3){Pr=0,Pe();var e=$i,n=Ws,o=Qs,d=sh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pr=5:(Pr=0,Ws=$i=null,wh(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ji=null),dn(o),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ht,n,void 0,(n.current.flags&128)===128)}catch{}if(d!==null){n=X.T,h=ie.p,ie.p=2,X.T=null;try{for(var b=e.onRecoverableError,U=0;U<d.length;U++){var ne=d[U];b(ne.value,{componentStack:ne.stack})}}finally{X.T=n,ie.p=h}}(Qs&3)!==0&&Ol(),hi(e),h=e.pendingLanes,(o&4194090)!==0&&(h&42)!==0?e===fc?jo++:(jo=0,fc=e):jo=0,Lo(0)}}function wh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,po(n)))}function Ol(e){return xh(),yh(),bh(),vh()}function vh(){if(Pr!==5)return!1;var e=$i,n=cc;cc=0;var o=dn(Qs),d=X.T,h=ie.p;try{ie.p=32>o?32:o,X.T=null,o=dc,dc=null;var b=$i,U=Qs;if(Pr=0,Ws=$i=null,Qs=0,(Nn&6)!==0)throw Error(g(331));var ne=Nn;if(Nn|=4,ah(b.current),th(b,b.current,U,o),Nn=ne,Lo(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ht,b)}catch{}return!0}finally{ie.p=h,X.T=d,wh(e,n)}}function _h(e,n,o){n=ut(o,n),n=Vu(e.stateNode,n,2),e=Gi(e,n,2),e!==null&&(Mn(e,2),hi(e))}function Fn(e,n,o){if(e.tag===3)_h(e,e,o);else for(;n!==null;){if(n.tag===3){_h(n,e,o);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))){e=ut(o,e),o=Sf(2),d=Gi(n,o,2),d!==null&&(Nf(o,d,n,e),Mn(d,2),hi(d));break}}n=n.return}}function pc(e,n,o){var d=e.pingCache;if(d===null){d=e.pingCache=new X1;var h=new Set;d.set(n,h)}else h=d.get(n),h===void 0&&(h=new Set,d.set(n,h));h.has(o)||(sc=!0,h.add(o),e=W1.bind(null,e,n,o),n.then(e,e))}function W1(e,n,o){var d=e.pingCache;d!==null&&d.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Vn===e&&(gn&o)===o&&(ar===4||ar===3&&(gn&62914560)===gn&&300>fe()-uc?(Nn&2)===0&&Js(e,0):oc|=o,Zs===gn&&(Zs=0)),hi(e)}function Ah(e,n){n===0&&(n=dt()),e=Jn(e,n),e!==null&&(Mn(e,n),hi(e))}function Q1(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Ah(e,o)}function J1(e,n){var o=0;switch(e.tag){case 13:var d=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:d=e.stateNode;break;case 22:d=e.stateNode._retryCache;break;default:throw Error(g(314))}d!==null&&d.delete(n),Ah(e,o)}function $1(e,n){return yt(e,n)}var kl=null,eo=null,xc=!1,Il=!1,yc=!1,Ns=0;function hi(e){e!==eo&&e.next===null&&(eo===null?kl=eo=e:eo=eo.next=e),Il=!0,xc||(xc=!0,tm())}function Lo(e,n){if(!yc&&Il){yc=!0;do for(var o=!1,d=kl;d!==null;){if(e!==0){var h=d.pendingLanes;if(h===0)var b=0;else{var U=d.suspendedLanes,ne=d.pingedLanes;b=(1<<31-St(42|e)+1)-1,b&=h&~(U&~ne),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,Nh(d,b))}else b=gn,b=et(d,d===Vn?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||en(d,b)||(o=!0,Nh(d,b));d=d.next}while(o);yc=!1}}function em(){Eh()}function Eh(){Il=xc=!1;var e=0;Ns!==0&&(um()&&(e=Ns),Ns=0);for(var n=fe(),o=null,d=kl;d!==null;){var h=d.next,b=Ch(d,n);b===0?(d.next=null,o===null?kl=h:o.next=h,h===null&&(eo=o)):(o=d,(e!==0||(b&3)!==0)&&(Il=!0)),d=h}Lo(e)}function Ch(e,n){for(var o=e.suspendedLanes,d=e.pingedLanes,h=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var U=31-St(b),ne=1<<U,xe=h[U];xe===-1?((ne&o)===0||(ne&d)!==0)&&(h[U]=_r(ne,n)):xe<=n&&(e.expiredLanes|=ne),b&=~ne}if(n=Vn,o=gn,o=et(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),d=e.callbackNode,o===0||e===n&&(Tn===2||Tn===9)||e.cancelPendingCommit!==null)return d!==null&&d!==null&&z(d),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||en(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(d!==null&&z(d),dn(o)){case 2:case 8:o=Ke;break;case 32:o=Ee;break;case 268435456:o=tt;break;default:o=Ee}return d=Sh.bind(null,e),o=yt(o,d),e.callbackPriority=n,e.callbackNode=o,n}return d!==null&&d!==null&&z(d),e.callbackPriority=2,e.callbackNode=null,2}function Sh(e,n){if(Pr!==0&&Pr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ol()&&e.callbackNode!==o)return null;var d=gn;return d=et(e,e===Vn?d:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),d===0?null:(lh(e,d,n),Ch(e,fe()),e.callbackNode!=null&&e.callbackNode===o?Sh.bind(null,e):null)}function Nh(e,n){if(Ol())return null;lh(e,n,!0)}function tm(){dm(function(){(Nn&6)!==0?yt(we,em):Eh()})}function bc(){return Ns===0&&(Ns=Hr()),Ns}function Th(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function Oh(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function nm(e,n,o,d,h){if(n==="submit"&&o&&o.stateNode===h){var b=Th((h[mt]||null).action),U=d.submitter;U&&(n=(n=U[mt]||null)?Th(n.formAction):U.getAttribute("formAction"),n!==null&&(b=n,U=null));var ne=new Oa("action","action",null,d,h);e.push({event:ne,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ns!==0){var xe=U?Oh(h,U):new FormData(h);Pu(o,{pending:!0,data:xe,method:h.method,action:b},null,xe)}}else typeof b=="function"&&(ne.preventDefault(),xe=U?Oh(h,U):new FormData(h),Pu(o,{pending:!0,data:xe,method:h.method,action:b},b,xe))},currentTarget:h}]})}}for(var wc=0;wc<at.length;wc++){var vc=at[wc],rm=vc.toLowerCase(),am=vc[0].toUpperCase()+vc.slice(1);ot(rm,"on"+am)}ot(ye,"onAnimationEnd"),ot(Ae,"onAnimationIteration"),ot(Me,"onAnimationStart"),ot("dblclick","onDoubleClick"),ot("focusin","onFocus"),ot("focusout","onBlur"),ot(Fe,"onTransitionRun"),ot(Re,"onTransitionStart"),ot(Qe,"onTransitionCancel"),ot(nt,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),im=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function kh(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var d=e[o],h=d.event;d=d.listeners;e:{var b=void 0;if(n)for(var U=d.length-1;0<=U;U--){var ne=d[U],xe=ne.instance,Ie=ne.currentTarget;if(ne=ne.listener,xe!==b&&h.isPropagationStopped())break e;b=ne,h.currentTarget=Ie;try{b(h)}catch(Ye){yl(Ye)}h.currentTarget=null,b=xe}else for(U=0;U<d.length;U++){if(ne=d[U],xe=ne.instance,Ie=ne.currentTarget,ne=ne.listener,xe!==b&&h.isPropagationStopped())break e;b=ne,h.currentTarget=Ie;try{b(h)}catch(Ye){yl(Ye)}h.currentTarget=null,b=xe}}}}function ln(e,n){var o=n[mr];o===void 0&&(o=n[mr]=new Set);var d=e+"__bubble";o.has(d)||(Ih(n,e,2,!1),o.add(d))}function _c(e,n,o){var d=0;n&&(d|=4),Ih(o,e,d,n)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Rl]){e[Rl]=!0,os.forEach(function(o){o!=="selectionchange"&&(im.has(o)||_c(o,!1,e),_c(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Rl]||(n[Rl]=!0,_c("selectionchange",!1,n))}}function Ih(e,n,o,d){switch(t0(n)){case 2:var h=Rm;break;case 8:h=Dm;break;default:h=Lc}o=h.bind(null,n,o,e),h=void 0,!It||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),d?h!==void 0?e.addEventListener(n,o,{capture:!0,passive:h}):e.addEventListener(n,o,!0):h!==void 0?e.addEventListener(n,o,{passive:h}):e.addEventListener(n,o,!1)}function Ec(e,n,o,d,h){var b=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var U=d.tag;if(U===3||U===4){var ne=d.stateNode.containerInfo;if(ne===h)break;if(U===4)for(U=d.return;U!==null;){var xe=U.tag;if((xe===3||xe===4)&&U.stateNode.containerInfo===h)return;U=U.return}for(;ne!==null;){if(U=kn(ne),U===null)return;if(xe=U.tag,xe===5||xe===6||xe===26||xe===27){d=b=U;continue e}ne=ne.parentNode}}d=d.return}Lr(function(){var Ie=b,Ye=jr(o),Je=[];e:{var je=rt.get(e);if(je!==void 0){var He=Oa,Ht=e;switch(e){case"keypress":if(Ta(o)===0)break e;case"keydown":case"keyup":He=zi;break;case"focusin":Ht="focus",He=ha;break;case"focusout":Ht="blur",He=ha;break;case"beforeblur":case"afterblur":He=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Ds;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=mn;break;case ye:case Ae:case Me:He=ji;break;case nt:He=Xa;break;case"scroll":case"scrollend":He=cr;break;case"wheel":He=ga;break;case"copy":case"cut":case"paste":He=Xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=ti;break;case"toggle":case"beforetoggle":He=fs}var Bt=(n&4)!==0,Dn=!Bt&&(e==="scroll"||e==="scrollend"),Ce=Bt?je!==null?je+"Capture":null:je;Bt=[];for(var ve=Ie,Oe;ve!==null;){var We=ve;if(Oe=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Oe===null||Ce===null||(We=wt(ve,Ce),We!=null&&Bt.push(Po(ve,We,Oe))),Dn)break;ve=ve.return}0<Bt.length&&(je=new He(je,Ht,null,o,Ye),Je.push({event:je,listeners:Bt}))}}if((n&7)===0){e:{if(je=e==="mouseover"||e==="pointerover",He=e==="mouseout"||e==="pointerout",je&&o!==Na&&(Ht=o.relatedTarget||o.fromElement)&&(kn(Ht)||Ht[Wt]))break e;if((He||je)&&(je=Ye.window===Ye?Ye:(je=Ye.ownerDocument)?je.defaultView||je.parentWindow:window,He?(Ht=o.relatedTarget||o.toElement,He=Ie,Ht=Ht?kn(Ht):null,Ht!==null&&(Dn=_(Ht),Bt=Ht.tag,Ht!==Dn||Bt!==5&&Bt!==27&&Bt!==6)&&(Ht=null)):(He=null,Ht=Ie),He!==Ht)){if(Bt=Ds,We="onMouseLeave",Ce="onMouseEnter",ve="mouse",(e==="pointerout"||e==="pointerover")&&(Bt=ti,We="onPointerLeave",Ce="onPointerEnter",ve="pointer"),Dn=He==null?je:Yr(He),Oe=Ht==null?je:Yr(Ht),je=new Bt(We,ve+"leave",He,o,Ye),je.target=Dn,je.relatedTarget=Oe,We=null,kn(Ye)===Ie&&(Bt=new Bt(Ce,ve+"enter",Ht,o,Ye),Bt.target=Oe,Bt.relatedTarget=Dn,We=Bt),Dn=We,He&&Ht)t:{for(Bt=He,Ce=Ht,ve=0,Oe=Bt;Oe;Oe=to(Oe))ve++;for(Oe=0,We=Ce;We;We=to(We))Oe++;for(;0<ve-Oe;)Bt=to(Bt),ve--;for(;0<Oe-ve;)Ce=to(Ce),Oe--;for(;ve--;){if(Bt===Ce||Ce!==null&&Bt===Ce.alternate)break t;Bt=to(Bt),Ce=to(Ce)}Bt=null}else Bt=null;He!==null&&Rh(Je,je,He,Bt,!1),Ht!==null&&Dn!==null&&Rh(Je,Dn,Ht,Bt,!0)}}e:{if(je=Ie?Yr(Ie):window,He=je.nodeName&&je.nodeName.toLowerCase(),He==="select"||He==="input"&&je.type==="file")var xt=Bs;else if(ii(je))if(oi)xt=r;else{xt=G;var sn=li}else He=je.nodeName,!He||He.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Ie&&_t(Ie.elementType)&&(xt=Bs):xt=t;if(xt&&(xt=xt(e,Ie))){Sr(Je,xt,o,Ye);break e}sn&&sn(e,je,Ie),e==="focusout"&&Ie&&je.type==="number"&&Ie.memoizedProps.value!=null&&Te(je,"number",je.value)}switch(sn=Ie?Yr(Ie):window,e){case"focusin":(ii(sn)||sn.contentEditable==="true")&&(N=sn,B=Ie,V=null);break;case"focusout":V=B=N=null;break;case"mousedown":q=!0;break;case"contextmenu":case"mouseup":case"dragend":q=!1,re(Je,o,Ye);break;case"selectionchange":if(w)break;case"keydown":case"keyup":re(Je,o,Ye)}var Ct;if(gi)e:{switch(e){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ri?qa(e,o)&&(zt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(hs&&o.locale!=="ko"&&(ri||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ri&&(Ct=ta()):(ur=Ye,Fa="value"in ur?ur.value:ur.textContent,ri=!0)),sn=Dl(Ie,zt),0<sn.length&&(zt=new Va(zt,e,null,o,Ye),Je.push({event:zt,listeners:sn}),Ct?zt.data=Ct:(Ct=xi(o),Ct!==null&&(zt.data=Ct)))),(Ct=ni?ai(e,o):Ms(e,o))&&(zt=Dl(Ie,"onBeforeInput"),0<zt.length&&(sn=new Va("onBeforeInput","beforeinput",null,o,Ye),Je.push({event:sn,listeners:zt}),sn.data=Ct)),nm(Je,e,Ie,o,Ye)}kh(Je,n)})}function Po(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Dl(e,n){for(var o=n+"Capture",d=[];e!==null;){var h=e,b=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||b===null||(h=wt(e,o),h!=null&&d.unshift(Po(e,h,b)),h=wt(e,n),h!=null&&d.push(Po(e,h,b))),e.tag===3)return d;e=e.return}return[]}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rh(e,n,o,d,h){for(var b=n._reactName,U=[];o!==null&&o!==d;){var ne=o,xe=ne.alternate,Ie=ne.stateNode;if(ne=ne.tag,xe!==null&&xe===d)break;ne!==5&&ne!==26&&ne!==27||Ie===null||(xe=Ie,h?(Ie=wt(o,b),Ie!=null&&U.unshift(Po(o,Ie,xe))):h||(Ie=wt(o,b),Ie!=null&&U.push(Po(o,Ie,xe)))),o=o.return}U.length!==0&&e.push({event:n,listeners:U})}var sm=/\r\n?/g,om=/\u0000|\uFFFD/g;function Dh(e){return(typeof e=="string"?e:""+e).replace(sm,`
`).replace(om,"")}function Mh(e,n){return n=Dh(n),Dh(e)===n}function Ml(){}function Rn(e,n,o,d,h,b){switch(o){case"children":typeof d=="string"?n==="body"||n==="textarea"&&d===""||tr(e,d):(typeof d=="number"||typeof d=="bigint")&&n!=="body"&&tr(e,""+d);break;case"className":Pa(e,"class",d);break;case"tabIndex":Pa(e,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(e,o,d);break;case"style":Ir(e,d,b);break;case"data":if(n!=="object"){Pa(e,"data",d);break}case"src":case"href":if(d===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){e.removeAttribute(o);break}d=ca(""+d),e.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(n!=="input"&&Rn(e,n,"name",h.name,h,null),Rn(e,n,"formEncType",h.formEncType,h,null),Rn(e,n,"formMethod",h.formMethod,h,null),Rn(e,n,"formTarget",h.formTarget,h,null)):(Rn(e,n,"encType",h.encType,h,null),Rn(e,n,"method",h.method,h,null),Rn(e,n,"target",h.target,h,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){e.removeAttribute(o);break}d=ca(""+d),e.setAttribute(o,d);break;case"onClick":d!=null&&(e.onclick=Ml);break;case"onScroll":d!=null&&ln("scroll",e);break;case"onScrollEnd":d!=null&&ln("scrollend",e);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(g(61));if(o=d.__html,o!=null){if(h.children!=null)throw Error(g(60));e.innerHTML=o}}break;case"multiple":e.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":e.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){e.removeAttribute("xlink:href");break}o=ca(""+d),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,""+d):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":d===!0?e.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?e.setAttribute(o,d):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?e.setAttribute(o,d):e.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?e.removeAttribute(o):e.setAttribute(o,d);break;case"popover":ln("beforetoggle",e),ln("toggle",e),Ze(e,"popover",d);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ze(e,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ln.get(o)||o,Ze(e,o,d))}}function Cc(e,n,o,d,h,b){switch(o){case"style":Ir(e,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(g(61));if(o=d.__html,o!=null){if(h.children!=null)throw Error(g(60));e.innerHTML=o}}break;case"children":typeof d=="string"?tr(e,d):(typeof d=="number"||typeof d=="bigint")&&tr(e,""+d);break;case"onScroll":d!=null&&ln("scroll",e);break;case"onScrollEnd":d!=null&&ln("scrollend",e);break;case"onClick":d!=null&&(e.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),n=o.slice(2,h?o.length-7:void 0),b=e[mt]||null,b=b!=null?b[o]:null,typeof b=="function"&&e.removeEventListener(n,b,h),typeof d=="function")){typeof b!="function"&&b!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,d,h);break e}o in e?e[o]=d:d===!0?e.setAttribute(o,""):Ze(e,o,d)}}}function Ur(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ln("error",e),ln("load",e);var d=!1,h=!1,b;for(b in o)if(o.hasOwnProperty(b)){var U=o[b];if(U!=null)switch(b){case"src":d=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(g(137,n));default:Rn(e,n,b,U,o,null)}}h&&Rn(e,n,"srcSet",o.srcSet,o,null),d&&Rn(e,n,"src",o.src,o,null);return;case"input":ln("invalid",e);var ne=b=U=h=null,xe=null,Ie=null;for(d in o)if(o.hasOwnProperty(d)){var Ye=o[d];if(Ye!=null)switch(d){case"name":h=Ye;break;case"type":U=Ye;break;case"checked":xe=Ye;break;case"defaultChecked":Ie=Ye;break;case"value":b=Ye;break;case"defaultValue":ne=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(g(137,n));break;default:Rn(e,n,d,Ye,o,null)}}Kn(e,b,ne,xe,Ie,U,h,!1),yn(e);return;case"select":ln("invalid",e),d=U=b=null;for(h in o)if(o.hasOwnProperty(h)&&(ne=o[h],ne!=null))switch(h){case"value":b=ne;break;case"defaultValue":U=ne;break;case"multiple":d=ne;default:Rn(e,n,h,ne,o,null)}n=b,o=U,e.multiple=!!d,n!=null?ue(e,!!d,n,!1):o!=null&&ue(e,!!d,o,!0);return;case"textarea":ln("invalid",e),b=h=d=null;for(U in o)if(o.hasOwnProperty(U)&&(ne=o[U],ne!=null))switch(U){case"value":d=ne;break;case"defaultValue":h=ne;break;case"children":b=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(g(91));break;default:Rn(e,n,U,ne,o,null)}jn(e,d,h,b),yn(e);return;case"option":for(xe in o)if(o.hasOwnProperty(xe)&&(d=o[xe],d!=null))switch(xe){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Rn(e,n,xe,d,o,null)}return;case"dialog":ln("beforetoggle",e),ln("toggle",e),ln("cancel",e),ln("close",e);break;case"iframe":case"object":ln("load",e);break;case"video":case"audio":for(d=0;d<zo.length;d++)ln(zo[d],e);break;case"image":ln("error",e),ln("load",e);break;case"details":ln("toggle",e);break;case"embed":case"source":case"link":ln("error",e),ln("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in o)if(o.hasOwnProperty(Ie)&&(d=o[Ie],d!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(g(137,n));default:Rn(e,n,Ie,d,o,null)}return;default:if(_t(n)){for(Ye in o)o.hasOwnProperty(Ye)&&(d=o[Ye],d!==void 0&&Cc(e,n,Ye,d,o,void 0));return}}for(ne in o)o.hasOwnProperty(ne)&&(d=o[ne],d!=null&&Rn(e,n,ne,d,o,null))}function lm(e,n,o,d){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,b=null,U=null,ne=null,xe=null,Ie=null,Ye=null;for(He in o){var Je=o[He];if(o.hasOwnProperty(He)&&Je!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":xe=Je;default:d.hasOwnProperty(He)||Rn(e,n,He,null,d,Je)}}for(var je in d){var He=d[je];if(Je=o[je],d.hasOwnProperty(je)&&(He!=null||Je!=null))switch(je){case"type":b=He;break;case"name":h=He;break;case"checked":Ie=He;break;case"defaultChecked":Ye=He;break;case"value":U=He;break;case"defaultValue":ne=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(g(137,n));break;default:He!==Je&&Rn(e,n,je,He,d,Je)}}fn(e,U,ne,xe,Ie,Ye,b,h);return;case"select":He=U=ne=je=null;for(b in o)if(xe=o[b],o.hasOwnProperty(b)&&xe!=null)switch(b){case"value":break;case"multiple":He=xe;default:d.hasOwnProperty(b)||Rn(e,n,b,null,d,xe)}for(h in d)if(b=d[h],xe=o[h],d.hasOwnProperty(h)&&(b!=null||xe!=null))switch(h){case"value":je=b;break;case"defaultValue":ne=b;break;case"multiple":U=b;default:b!==xe&&Rn(e,n,h,b,d,xe)}n=ne,o=U,d=He,je!=null?ue(e,!!o,je,!1):!!d!=!!o&&(n!=null?ue(e,!!o,n,!0):ue(e,!!o,o?[]:"",!1));return;case"textarea":He=je=null;for(ne in o)if(h=o[ne],o.hasOwnProperty(ne)&&h!=null&&!d.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Rn(e,n,ne,null,d,h)}for(U in d)if(h=d[U],b=o[U],d.hasOwnProperty(U)&&(h!=null||b!=null))switch(U){case"value":je=h;break;case"defaultValue":He=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(g(91));break;default:h!==b&&Rn(e,n,U,h,d,b)}bt(e,je,He);return;case"option":for(var Ht in o)if(je=o[Ht],o.hasOwnProperty(Ht)&&je!=null&&!d.hasOwnProperty(Ht))switch(Ht){case"selected":e.selected=!1;break;default:Rn(e,n,Ht,null,d,je)}for(xe in d)if(je=d[xe],He=o[xe],d.hasOwnProperty(xe)&&je!==He&&(je!=null||He!=null))switch(xe){case"selected":e.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Rn(e,n,xe,je,d,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in o)je=o[Bt],o.hasOwnProperty(Bt)&&je!=null&&!d.hasOwnProperty(Bt)&&Rn(e,n,Bt,null,d,je);for(Ie in d)if(je=d[Ie],He=o[Ie],d.hasOwnProperty(Ie)&&je!==He&&(je!=null||He!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(g(137,n));break;default:Rn(e,n,Ie,je,d,He)}return;default:if(_t(n)){for(var Dn in o)je=o[Dn],o.hasOwnProperty(Dn)&&je!==void 0&&!d.hasOwnProperty(Dn)&&Cc(e,n,Dn,void 0,d,je);for(Ye in d)je=d[Ye],He=o[Ye],!d.hasOwnProperty(Ye)||je===He||je===void 0&&He===void 0||Cc(e,n,Ye,je,d,He);return}}for(var Ce in o)je=o[Ce],o.hasOwnProperty(Ce)&&je!=null&&!d.hasOwnProperty(Ce)&&Rn(e,n,Ce,null,d,je);for(Je in d)je=d[Je],He=o[Je],!d.hasOwnProperty(Je)||je===He||je==null&&He==null||Rn(e,n,Je,je,d,He)}var Sc=null,Nc=null;function Bl(e){return e.nodeType===9?e:e.ownerDocument}function Bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Tc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Oc=null;function um(){var e=window.event;return e&&e.type==="popstate"?e===Oc?!1:(Oc=e,!0):(Oc=null,!1)}var Lh=typeof setTimeout=="function"?setTimeout:void 0,cm=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(fm)}:Lh;function fm(e){setTimeout(function(){throw e})}function ts(e){return e==="head"}function Ph(e,n){var o=n,d=0,h=0;do{var b=o.nextSibling;if(e.removeChild(o),b&&b.nodeType===8)if(o=b.data,o==="/$"){if(0<d&&8>d){o=d;var U=e.ownerDocument;if(o&1&&Uo(U.documentElement),o&2&&Uo(U.body),o&4)for(o=U.head,Uo(o),U=o.firstChild;U;){var ne=U.nextSibling,xe=U.nodeName;U[$r]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||o.removeChild(U),U=ne}}if(h===0){e.removeChild(b),Ko(n);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:d=o.charCodeAt(0)-48;else d=0;o=b}while(o);Ko(n)}function kc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kc(o),Gr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function hm(e,n,o,d){for(;e.nodeType===1;){var h=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!d&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(d){if(!e[$r])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var b=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=Wa(e.nextSibling),e===null)break}return null}function mm(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Wa(e.nextSibling),e===null))return null;return e}function Ic(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gm(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var d=function(){n(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),e._reactRetry=d}}function Wa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Rc=null;function Uh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function Fh(e,n,o){switch(n=Bl(o),e){case"html":if(e=n.documentElement,!e)throw Error(g(452));return e;case"head":if(e=n.head,!e)throw Error(g(453));return e;case"body":if(e=n.body,!e)throw Error(g(454));return e;default:throw Error(g(451))}}function Uo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gr(e)}var La=new Map,Hh=new Set;function jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=ie.d;ie.d={f:pm,r:xm,D:ym,C:bm,L:wm,m:vm,X:Am,S:_m,M:Em};function pm(){var e=ki.f(),n=Nl();return e||n}function xm(e){var n=er(e);n!==null&&n.tag===5&&n.type==="form"?lf(n):ki.r(e)}var no=typeof document>"u"?null:document;function Gh(e,n,o){var d=no;if(d&&typeof n=="string"&&n){var h=Qn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Hh.has(h)||(Hh.add(h),e={rel:e,crossOrigin:o,href:n},d.querySelector(h)===null&&(n=d.createElement("link"),Ur(n,"link",e),rn(n),d.head.appendChild(n)))}}function ym(e){ki.D(e),Gh("dns-prefetch",e,null)}function bm(e,n){ki.C(e,n),Gh("preconnect",e,n)}function wm(e,n,o){ki.L(e,n,o);var d=no;if(d&&e&&n){var h='link[rel="preload"][as="'+Qn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Qn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Qn(o.imageSizes)+'"]')):h+='[href="'+Qn(e)+'"]';var b=h;switch(n){case"style":b=ro(e);break;case"script":b=ao(e)}La.has(b)||(e=O({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),La.set(b,e),d.querySelector(h)!==null||n==="style"&&d.querySelector(Fo(b))||n==="script"&&d.querySelector(Ho(b))||(n=d.createElement("link"),Ur(n,"link",e),rn(n),d.head.appendChild(n)))}}function vm(e,n){ki.m(e,n);var o=no;if(o&&e){var d=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Qn(d)+'"][href="'+Qn(e)+'"]',b=h;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ao(e)}if(!La.has(b)&&(e=O({rel:"modulepreload",href:e},n),La.set(b,e),o.querySelector(h)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ho(b)))return}d=o.createElement("link"),Ur(d,"link",e),rn(d),o.head.appendChild(d)}}}function _m(e,n,o){ki.S(e,n,o);var d=no;if(d&&e){var h=oa(d).hoistableStyles,b=ro(e);n=n||"default";var U=h.get(b);if(!U){var ne={loading:0,preload:null};if(U=d.querySelector(Fo(b)))ne.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":n},o),(o=La.get(b))&&Dc(e,o);var xe=U=d.createElement("link");rn(xe),Ur(xe,"link",e),xe._p=new Promise(function(Ie,Ye){xe.onload=Ie,xe.onerror=Ye}),xe.addEventListener("load",function(){ne.loading|=1}),xe.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Ll(U,n,d)}U={type:"stylesheet",instance:U,count:1,state:ne},h.set(b,U)}}}function Am(e,n){ki.X(e,n);var o=no;if(o&&e){var d=oa(o).hoistableScripts,h=ao(e),b=d.get(h);b||(b=o.querySelector(Ho(h)),b||(e=O({src:e,async:!0},n),(n=La.get(h))&&Mc(e,n),b=o.createElement("script"),rn(b),Ur(b,"link",e),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(h,b))}}function Em(e,n){ki.M(e,n);var o=no;if(o&&e){var d=oa(o).hoistableScripts,h=ao(e),b=d.get(h);b||(b=o.querySelector(Ho(h)),b||(e=O({src:e,async:!0,type:"module"},n),(n=La.get(h))&&Mc(e,n),b=o.createElement("script"),rn(b),Ur(b,"link",e),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(h,b))}}function Vh(e,n,o,d){var h=(h=ze.current)?jl(h):null;if(!h)throw Error(g(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=ro(o.href),o=oa(h).hoistableStyles,d=o.get(n),d||(d={type:"style",instance:null,count:0,state:null},o.set(n,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ro(o.href);var b=oa(h).hoistableStyles,U=b.get(e);if(U||(h=h.ownerDocument||h,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,U),(b=h.querySelector(Fo(e)))&&!b._p&&(U.instance=b,U.state.loading=5),La.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},La.set(e,o),b||Cm(h,e,o,U.state))),n&&d===null)throw Error(g(528,""));return U}if(n&&d!==null)throw Error(g(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ao(o),o=oa(h).hoistableScripts,d=o.get(n),d||(d={type:"script",instance:null,count:0,state:null},o.set(n,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(g(444,e))}}function ro(e){return'href="'+Qn(e)+'"'}function Fo(e){return'link[rel="stylesheet"]['+e+"]"}function Xh(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function Cm(e,n,o,d){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?d.loading=1:(n=e.createElement("link"),d.preload=n,n.addEventListener("load",function(){return d.loading|=1}),n.addEventListener("error",function(){return d.loading|=2}),Ur(n,"link",o),rn(n),e.head.appendChild(n))}function ao(e){return'[src="'+Qn(e)+'"]'}function Ho(e){return"script[async]"+e}function qh(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var d=e.querySelector('style[data-href~="'+Qn(o.href)+'"]');if(d)return n.instance=d,rn(d),d;var h=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(e.ownerDocument||e).createElement("style"),rn(d),Ur(d,"style",h),Ll(d,o.precedence,e),n.instance=d;case"stylesheet":h=ro(o.href);var b=e.querySelector(Fo(h));if(b)return n.state.loading|=4,n.instance=b,rn(b),b;d=Xh(o),(h=La.get(h))&&Dc(d,h),b=(e.ownerDocument||e).createElement("link"),rn(b);var U=b;return U._p=new Promise(function(ne,xe){U.onload=ne,U.onerror=xe}),Ur(b,"link",d),n.state.loading|=4,Ll(b,o.precedence,e),n.instance=b;case"script":return b=ao(o.src),(h=e.querySelector(Ho(b)))?(n.instance=h,rn(h),h):(d=o,(h=La.get(b))&&(d=O({},o),Mc(d,h)),e=e.ownerDocument||e,h=e.createElement("script"),rn(h),Ur(h,"link",d),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(g(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(d=n.instance,n.state.loading|=4,Ll(d,o.precedence,e));return n.instance}function Ll(e,n,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=d.length?d[d.length-1]:null,b=h,U=0;U<d.length;U++){var ne=d[U];if(ne.dataset.precedence===n)b=ne;else if(b!==h)break}b?b.parentNode.insertBefore(e,b.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Dc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Mc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var zl=null;function Yh(e,n,o){if(zl===null){var d=new Map,h=zl=new Map;h.set(o,d)}else h=zl,d=h.get(o),d||(d=new Map,h.set(o,d));if(d.has(e))return d;for(d.set(e,null),o=o.getElementsByTagName(e),h=0;h<o.length;h++){var b=o[h];if(!(b[$r]||b[An]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var U=b.getAttribute(n)||"";U=e+U;var ne=d.get(U);ne?ne.push(b):d.set(U,[b])}}return d}function Kh(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Sm(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Go=null;function Nm(){}function Tm(e,n,o){if(Go===null)throw Error(g(475));var d=Go;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ro(o.href),b=e.querySelector(Fo(h));if(b){e=b._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(d.count++,d=Pl.bind(d),e.then(d,d)),n.state.loading|=4,n.instance=b,rn(b);return}b=e.ownerDocument||e,o=Xh(o),(h=La.get(h))&&Dc(o,h),b=b.createElement("link"),rn(b);var U=b;U._p=new Promise(function(ne,xe){U.onload=ne,U.onerror=xe}),Ur(b,"link",o),n.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(d.count++,n=Pl.bind(d),e.addEventListener("load",n),e.addEventListener("error",n))}}function Om(){if(Go===null)throw Error(g(475));var e=Go;return e.stylesheets&&e.count===0&&Bc(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Pl(){if(this.count--,this.count===0){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ul=null;function Bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ul=new Map,n.forEach(km,e),Ul=null,Pl.call(e))}function km(e,n){if(!(n.state.loading&4)){var o=Ul.get(e);if(o)var d=o.get(null);else{o=new Map,Ul.set(e,o);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<h.length;b++){var U=h[b];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(o.set(U.dataset.precedence,U),d=U)}d&&o.set(null,d)}h=n.instance,U=h.getAttribute("data-precedence"),b=o.get(U)||d,b===d&&o.set(null,h),o.set(U,h),this.count++,d=Pl.bind(this),h.addEventListener("load",d),h.addEventListener("error",d),b?b.parentNode.insertBefore(h,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Vo={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function Im(e,n,o,d,h,b,U,ne){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=d,this.onUncaughtError=h,this.onCaughtError=b,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function Wh(e,n,o,d,h,b,U,ne,xe,Ie,Ye,Je){return e=new Im(e,n,o,U,ne,xe,Ie,Je),n=1,b===!0&&(n|=24),b=xa(3,null,null,n),e.current=b,b.stateNode=e,n=pu(),n.refCount++,e.pooledCache=n,n.refCount++,b.memoizedState={element:d,isDehydrated:o,cache:n},wu(b),e}function Qh(e){return e?(e=ra,e):ra}function Jh(e,n,o,d,h,b){h=Qh(h),d.context===null?d.context=h:d.pendingContext=h,d=Hi(n),d.payload={element:o},b=b===void 0?null:b,b!==null&&(d.callback=b),o=Gi(e,d,n),o!==null&&(_a(o,e,n),wo(o,e,n))}function $h(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function jc(e,n){$h(e,n),(e=e.alternate)&&$h(e,n)}function e0(e){if(e.tag===13){var n=Jn(e,67108864);n!==null&&_a(n,e,67108864),jc(e,67108864)}}var Fl=!0;function Rm(e,n,o,d){var h=X.T;X.T=null;var b=ie.p;try{ie.p=2,Lc(e,n,o,d)}finally{ie.p=b,X.T=h}}function Dm(e,n,o,d){var h=X.T;X.T=null;var b=ie.p;try{ie.p=8,Lc(e,n,o,d)}finally{ie.p=b,X.T=h}}function Lc(e,n,o,d){if(Fl){var h=zc(d);if(h===null)Ec(e,n,d,Hl,o),n0(e,d);else if(Bm(h,e,n,o,d))d.stopPropagation();else if(n0(e,d),n&4&&-1<Mm.indexOf(e)){for(;h!==null;){var b=er(h);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var U=jt(b.pendingLanes);if(U!==0){var ne=b;for(ne.pendingLanes|=2,ne.entangledLanes|=2;U;){var xe=1<<31-St(U);ne.entanglements[1]|=xe,U&=~xe}hi(b),(Nn&6)===0&&(Cl=fe()+500,Lo(0))}}break;case 13:ne=Jn(b,2),ne!==null&&_a(ne,b,2),Nl(),jc(b,2)}if(b=zc(d),b===null&&Ec(e,n,d,Hl,o),b===h)break;h=b}h!==null&&d.stopPropagation()}else Ec(e,n,d,null,o)}}function zc(e){return e=jr(e),Pc(e)}var Hl=null;function Pc(e){if(Hl=null,e=kn(e),e!==null){var n=_(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=I(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Hl=e,null}function t0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case we:return 2;case Ke:return 8;case Ee:case ke:return 32;case tt:return 268435456;default:return 32}default:return 32}}var Uc=!1,ns=null,rs=null,as=null,Xo=new Map,qo=new Map,is=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(e,n){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(n.pointerId)}}function Yo(e,n,o,d,h,b){return e===null||e.nativeEvent!==b?(e={blockedOn:n,domEventName:o,eventSystemFlags:d,nativeEvent:b,targetContainers:[h]},n!==null&&(n=er(n),n!==null&&e0(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Bm(e,n,o,d,h){switch(n){case"focusin":return ns=Yo(ns,e,n,o,d,h),!0;case"dragenter":return rs=Yo(rs,e,n,o,d,h),!0;case"mouseover":return as=Yo(as,e,n,o,d,h),!0;case"pointerover":var b=h.pointerId;return Xo.set(b,Yo(Xo.get(b)||null,e,n,o,d,h)),!0;case"gotpointercapture":return b=h.pointerId,qo.set(b,Yo(qo.get(b)||null,e,n,o,d,h)),!0}return!1}function r0(e){var n=kn(e.target);if(n!==null){var o=_(n);if(o!==null){if(n=o.tag,n===13){if(n=I(o),n!==null){e.blockedOn=n,xn(e.priority,function(){if(o.tag===13){var d=va();d=On(d);var h=Jn(o,d);h!==null&&_a(h,o,d),jc(o,d)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=zc(e.nativeEvent);if(o===null){o=e.nativeEvent;var d=new o.constructor(o.type,o);Na=d,o.target.dispatchEvent(d),Na=null}else return n=er(o),n!==null&&e0(n),e.blockedOn=o,!1;n.shift()}return!0}function a0(e,n,o){Gl(e)&&o.delete(n)}function jm(){Uc=!1,ns!==null&&Gl(ns)&&(ns=null),rs!==null&&Gl(rs)&&(rs=null),as!==null&&Gl(as)&&(as=null),Xo.forEach(a0),qo.forEach(a0)}function Vl(e,n){e.blockedOn===n&&(e.blockedOn=null,Uc||(Uc=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,jm)))}var Xl=null;function i0(e){Xl!==e&&(Xl=e,A.unstable_scheduleCallback(A.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var n=0;n<e.length;n+=3){var o=e[n],d=e[n+1],h=e[n+2];if(typeof d!="function"){if(Pc(d||o)===null)continue;break}var b=er(o);b!==null&&(e.splice(n,3),n-=3,Pu(b,{pending:!0,data:h,method:o.method,action:d},d,h))}}))}function Ko(e){function n(xe){return Vl(xe,e)}ns!==null&&Vl(ns,e),rs!==null&&Vl(rs,e),as!==null&&Vl(as,e),Xo.forEach(n),qo.forEach(n);for(var o=0;o<is.length;o++){var d=is[o];d.blockedOn===e&&(d.blockedOn=null)}for(;0<is.length&&(o=is[0],o.blockedOn===null);)r0(o),o.blockedOn===null&&is.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var h=o[d],b=o[d+1],U=h[mt]||null;if(typeof b=="function")U||i0(o);else if(U){var ne=null;if(b&&b.hasAttribute("formAction")){if(h=b,U=b[mt]||null)ne=U.formAction;else if(Pc(h)!==null)continue}else ne=U.action;typeof ne=="function"?o[d+1]=ne:(o.splice(d,3),d-=3),i0(o)}}}function Fc(e){this._internalRoot=e}ql.prototype.render=Fc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(g(409));var o=n.current,d=va();Jh(o,d,e,n,null,null)},ql.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jh(e.current,2,null,e,null,null),Nl(),n[Wt]=null}};function ql(e){this._internalRoot=e}ql.prototype.unstable_scheduleHydration=function(e){if(e){var n=_n();e={blockedOn:null,target:e,priority:n};for(var o=0;o<is.length&&n!==0&&n<is[o].priority;o++);is.splice(o,0,e),o===0&&r0(e)}};var s0=k.version;if(s0!=="19.1.1")throw Error(g(527,s0,"19.1.1"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(g(188)):(e=Object.keys(e).join(","),Error(g(268,e)));return e=S(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Lm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{ht=Yl.inject(Lm),kt=Yl}catch{}}return Wo.createRoot=function(e,n){if(!T(e))throw Error(g(299));var o=!1,d="",h=_f,b=Af,U=Ef,ne=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(ne=n.unstable_transitionCallbacks)),n=Wh(e,1,!1,null,null,o,d,h,b,U,ne,null),e[Wt]=n.current,Ac(e),new Fc(n)},Wo.hydrateRoot=function(e,n,o){if(!T(e))throw Error(g(299));var d=!1,h="",b=_f,U=Af,ne=Ef,xe=null,Ie=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(U=o.onCaughtError),o.onRecoverableError!==void 0&&(ne=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(xe=o.unstable_transitionCallbacks),o.formState!==void 0&&(Ie=o.formState)),n=Wh(e,1,!0,n,o??null,d,h,b,U,ne,xe,Ie),n.context=Qh(null),o=n.current,d=va(),d=On(d),h=Hi(d),h.callback=null,Gi(o,h,d),o=d,n.current.lanes=o,Mn(n,o),hi(n),e[Wt]=n.current,Ac(e),new ql(n)},Wo.version="19.1.1",Wo}var p0;function Km(){if(p0)return Vc.exports;p0=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(k){console.error(k)}}return A(),Vc.exports=Ym(),Vc.exports}var Zm=Km();const Wm=Rs(Zm);var Zl={exports:{}},Qm=Zl.exports,x0;function Jm(){return x0||(x0=1,(function(A,k){(function(x,g){A.exports=g()})(Qm,function(){var x=function(a,s){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])})(a,s)},g=function(){return(g=Object.assign||function(a){for(var s,c=1,f=arguments.length;c<f;c++)for(var p in s=arguments[c])Object.prototype.hasOwnProperty.call(s,p)&&(a[p]=s[p]);return a}).apply(this,arguments)};function T(a,s,c){for(var f,p=0,w=s.length;p<w;p++)!f&&p in s||((f=f||Array.prototype.slice.call(s,0,p))[p]=s[p]);return a.concat(f||Array.prototype.slice.call(s))}var _=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ea,I=Object.keys,R=Array.isArray;function S(a,s){return typeof s!="object"||I(s).forEach(function(c){a[c]=s[c]}),a}typeof Promise>"u"||_.Promise||(_.Promise=Promise);var y=Object.getPrototypeOf,O={}.hasOwnProperty;function D(a,s){return O.call(a,s)}function F(a,s){typeof s=="function"&&(s=s(y(a))),(typeof Reflect>"u"?I:Reflect.ownKeys)(s).forEach(function(c){Y(a,c,s[c])})}var L=Object.defineProperty;function Y(a,s,c,f){L(a,s,S(c&&D(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},f))}function P(a){return{from:function(s){return a.prototype=Object.create(s.prototype),Y(a.prototype,"constructor",a),{extend:F.bind(null,a.prototype)}}}}var Z=Object.getOwnPropertyDescriptor,ee=[].slice;function te(a,s,c){return ee.call(a,s,c)}function Q(a,s){return s(a)}function m(a){if(!a)throw new Error("Assertion Failed")}function E(a){_.setImmediate?setImmediate(a):setTimeout(a,0)}function C(a,s){if(typeof s=="string"&&D(a,s))return a[s];if(!s)return a;if(typeof s!="string"){for(var c=[],f=0,p=s.length;f<p;++f){var w=C(a,s[f]);c.push(w)}return c}var N=s.indexOf(".");if(N!==-1){var B=a[s.substr(0,N)];return B==null?void 0:C(B,s.substr(N+1))}}function M(a,s,c){if(a&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof s!="string"&&"length"in s){m(typeof c!="string"&&"length"in c);for(var f=0,p=s.length;f<p;++f)M(a,s[f],c[f])}else{var w,N,B=s.indexOf(".");B!==-1?(w=s.substr(0,B),(N=s.substr(B+1))===""?c===void 0?R(a)&&!isNaN(parseInt(w))?a.splice(w,1):delete a[w]:a[w]=c:M(B=!(B=a[w])||!D(a,w)?a[w]={}:B,N,c)):c===void 0?R(a)&&!isNaN(parseInt(s))?a.splice(s,1):delete a[s]:a[s]=c}}function W(a){var s,c={};for(s in a)D(a,s)&&(c[s]=a[s]);return c}var H=[].concat;function ae(a){return H.apply([],a)}var ht="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ae([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(s){return s+a+"Array"})}))).filter(function(a){return _[a]}),me=new Set(ht.map(function(a){return _[a]})),J=null;function ge(a){return J=new WeakMap,a=(function s(c){if(!c||typeof c!="object")return c;var f=J.get(c);if(f)return f;if(R(c)){f=[],J.set(c,f);for(var p=0,w=c.length;p<w;++p)f.push(s(c[p]))}else if(me.has(c.constructor))f=c;else{var N,B=y(c);for(N in f=B===Object.prototype?{}:Object.create(B),J.set(c,f),c)D(c,N)&&(f[N]=s(c[N]))}return f})(a),J=null,a}var j={}.toString;function $(a){return j.call(a).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ie=typeof X=="symbol"?function(a){var s;return a!=null&&(s=a[X])&&s.apply(a)}:function(){return null};function Se(a,s){return s=a.indexOf(s),0<=s&&a.splice(s,1),0<=s}var _e={};function se(a){var s,c,f,p;if(arguments.length===1){if(R(a))return a.slice();if(this===_e&&typeof a=="string")return[a];if(p=ie(a)){for(c=[];!(f=p.next()).done;)c.push(f.value);return c}if(a==null)return[a];if(typeof(s=a.length)!="number")return[a];for(c=new Array(s);s--;)c[s]=a[s];return c}for(s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return c}var le=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},it=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(it),pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ne(a,s){this.name=a,this.message=s}function De(a,s){return a+". Errors: "+Object.keys(s).map(function(c){return s[c].toString()}).filter(function(c,f,p){return p.indexOf(c)===f}).join(`
`)}function Be(a,s,c,f){this.failures=s,this.failedKeys=f,this.successCount=c,this.message=De(a,s)}function ze(a,s){this.name="BulkError",this.failures=Object.keys(s).map(function(c){return s[c]}),this.failuresByPos=s,this.message=De(a,this.failures)}P(Ne).from(Error).extend({toString:function(){return this.name+": "+this.message}}),P(Be).from(Ne),P(ze).from(Ne);var $e=dr.reduce(function(a,s){return a[s]=s+"Error",a},{}),Xe=Ne,Ve=dr.reduce(function(a,s){var c=s+"Error";function f(p,w){this.name=c,p?typeof p=="string"?(this.message="".concat(p).concat(w?`
 `+w:""),this.inner=w||null):typeof p=="object"&&(this.message="".concat(p.name," ").concat(p.message),this.inner=p):(this.message=pe[s]||c,this.inner=null)}return P(f).from(Xe),a[s]=f,a},{});Ve.Syntax=SyntaxError,Ve.Type=TypeError,Ve.Range=RangeError;var Dt=it.reduce(function(a,s){return a[s+"Error"]=Ve[s],a},{}),Tt=dr.reduce(function(a,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(a[s+"Error"]=Ve[s]),a},{});function vt(){}function yt(a){return a}function z(a,s){return a==null||a===yt?s:function(c){return s(a(c))}}function Ge(a,s){return function(){a.apply(this,arguments),s.apply(this,arguments)}}function Pe(a,s){return a===vt?s:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var f=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var w=s.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?Ge(f,this.onsuccess):f),p&&(this.onerror=this.onerror?Ge(p,this.onerror):p),w!==void 0?w:c}}function fe(a,s){return a===vt?s:function(){a.apply(this,arguments);var c=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?Ge(c,this.onsuccess):c),f&&(this.onerror=this.onerror?Ge(f,this.onerror):f)}}function oe(a,s){return a===vt?s:function(c){var f=a.apply(this,arguments);S(c,f);var p=this.onsuccess,w=this.onerror;return this.onsuccess=null,this.onerror=null,c=s.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?Ge(p,this.onsuccess):p),w&&(this.onerror=this.onerror?Ge(w,this.onerror):w),f===void 0?c===void 0?void 0:c:S(f,c)}}function we(a,s){return a===vt?s:function(){return s.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function Ke(a,s){return a===vt?s:function(){var c=a.apply(this,arguments);if(c&&typeof c.then=="function"){for(var f=this,p=arguments.length,w=new Array(p);p--;)w[p]=arguments[p];return c.then(function(){return s.apply(f,w)})}return s.apply(this,arguments)}}Tt.ModifyError=Be,Tt.DexieError=Ne,Tt.BulkError=ze;var Ee=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ke(a){Ee=a}var tt={},ct=100,ht=typeof Promise>"u"?[]:(function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,y(a),a];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,y(s),a]})(),it=ht[0],dr=ht[1],ht=ht[2],dr=dr&&dr.then,kt=it&&it.constructor,At=!!ht,St=function(a,s){en.push([a,s]),Yn&&(queueMicrotask(dn),Yn=!1)},Fr=!0,Yn=!0,vr=[],Ot=[],st=yt,jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:vt,pgp:!1,env:{},finalize:vt},et=jt,en=[],_r=0,Hr=[];function dt(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=et;if(typeof a!="function"){if(a!==tt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qe(this,this._value))}this._state=null,this._value=null,++s.ref,(function c(f,p){try{p(function(w){if(f._state===null){if(w===f)throw new TypeError("A promise cannot be resolved with itself.");var N=f._lib&&_n();w&&typeof w.then=="function"?c(f,function(B,V){w instanceof dt?w._then(B,V):w.then(B,V)}):(f._state=!0,f._value=w,Rt(f)),N&&xn()}},qe.bind(null,f))}catch(w){qe(f,w)}})(this,a)}var Vt={get:function(){var a=et,s=gt;function c(f,p){var w=this,N=!a.global&&(a!==et||s!==gt),B=N&&!er(),V=new dt(function(q,re){Mt(w,new Mn(or(f,a,N,B),or(p,a,N,B),q,re,a))});return this._consoleTask&&(V._consoleTask=this._consoleTask),V}return c.prototype=tt,c},set:function(a){Y(this,"then",a&&a.prototype===tt?Vt:{get:function(){return a},set:Vt.set})}};function Mn(a,s,c,f,p){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof s=="function"?s:null,this.resolve=c,this.reject=f,this.psd=p}function qe(a,s){var c,f;Ot.push(s),a._state===null&&(c=a._lib&&_n(),s=st(s),a._state=!1,a._value=s,f=a,vr.some(function(p){return p._value===f._value})||vr.push(f),Rt(a),c&&xn())}function Rt(a){var s=a._listeners;a._listeners=[];for(var c=0,f=s.length;c<f;++c)Mt(a,s[c]);var p=a._PSD;--p.ref||p.finalize(),_r===0&&(++_r,St(function(){--_r==0&&Cn()},[]))}function Mt(a,s){if(a._state!==null){var c=a._state?s.onFulfilled:s.onRejected;if(c===null)return(a._state?s.resolve:s.reject)(a._value);++s.psd.ref,++_r,St(On,[c,a,s])}else a._listeners.push(s)}function On(a,s,c){try{var f,p=s._value;!s._state&&Ot.length&&(Ot=[]),f=Ee&&s._consoleTask?s._consoleTask.run(function(){return a(p)}):a(p),s._state||Ot.indexOf(p)!==-1||(function(w){for(var N=vr.length;N;)if(vr[--N]._value===w._value)return vr.splice(N,1)})(s),c.resolve(f)}catch(w){c.reject(w)}finally{--_r==0&&Cn(),--c.psd.ref||c.psd.finalize()}}function dn(){Ca(jt,function(){_n()&&xn()})}function _n(){var a=Fr;return Yn=Fr=!1,a}function xn(){var a,s,c;do for(;0<en.length;)for(a=en,en=[],c=a.length,s=0;s<c;++s){var f=a[s];f[0].apply(null,f[1])}while(0<en.length);Yn=Fr=!0}function Cn(){var a=vr;vr=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var s=Hr.slice(0),c=s.length;c;)s[--c]()}function An(a){return new dt(tt,!1,a)}function mt(a,s){var c=et;return function(){var f=_n(),p=et;try{return rn(c,!0),a.apply(this,arguments)}catch(w){s&&s(w)}finally{rn(p,!1),f&&xn()}}}F(dt.prototype,{then:Vt,_then:function(a,s){Mt(this,new Mn(null,null,a,s,et))},catch:function(a){if(arguments.length===1)return this.then(null,a);var s=a,c=arguments[1];return typeof s=="function"?this.then(null,function(f){return(f instanceof s?c:An)(f)}):this.then(null,function(f){return(f&&f.name===s?c:An)(f)})},finally:function(a){return this.then(function(s){return dt.resolve(a()).then(function(){return s})},function(s){return dt.resolve(a()).then(function(){return An(s)})})},timeout:function(a,s){var c=this;return a<1/0?new dt(function(f,p){var w=setTimeout(function(){return p(new Ve.Timeout(s))},a);c.then(f,p).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(dt.prototype,Symbol.toStringTag,"Dexie.Promise"),jt.env=os(),F(dt,{all:function(){var a=se.apply(null,arguments).map(Yr);return new dt(function(s,c){a.length===0&&s([]);var f=a.length;a.forEach(function(p,w){return dt.resolve(p).then(function(N){a[w]=N,--f||s(a)},c)})})},resolve:function(a){return a instanceof dt?a:a&&typeof a.then=="function"?new dt(function(s,c){a.then(s,c)}):new dt(tt,!0,a)},reject:An,race:function(){var a=se.apply(null,arguments).map(Yr);return new dt(function(s,c){a.map(function(f){return dt.resolve(f).then(s,c)})})},PSD:{get:function(){return et},set:function(a){return et=a}},totalEchoes:{get:function(){return gt}},newPSD:Gr,usePSD:Ca,scheduler:{get:function(){return St},set:function(a){St=a}},rejectionMapper:{get:function(){return st},set:function(a){st=a}},follow:function(a,s){return new dt(function(c,f){return Gr(function(p,w){var N=et;N.unhandleds=[],N.onunhandled=w,N.finalize=Ge(function(){var B,V=this;B=function(){V.unhandleds.length===0?p():w(V.unhandleds[0])},Hr.push(function q(){B(),Hr.splice(Hr.indexOf(q),1)}),++_r,St(function(){--_r==0&&Cn()},[])},N.finalize),a()},s,c,f)})}}),kt&&(kt.allSettled&&Y(dt,"allSettled",function(){var a=se.apply(null,arguments).map(Yr);return new dt(function(s){a.length===0&&s([]);var c=a.length,f=new Array(c);a.forEach(function(p,w){return dt.resolve(p).then(function(N){return f[w]={status:"fulfilled",value:N}},function(N){return f[w]={status:"rejected",reason:N}}).then(function(){return--c||s(f)})})})}),kt.any&&typeof AggregateError<"u"&&Y(dt,"any",function(){var a=se.apply(null,arguments).map(Yr);return new dt(function(s,c){a.length===0&&c(new AggregateError([]));var f=a.length,p=new Array(f);a.forEach(function(w,N){return dt.resolve(w).then(function(B){return s(B)},function(B){p[N]=B,--f||c(new AggregateError(p))})})})}),kt.withResolvers&&(dt.withResolvers=kt.withResolvers));var Wt={awaits:0,echoes:0,id:0},mr=0,Jr=[],Ar=0,gt=0,$r=0;function Gr(a,s,c,f){var p=et,w=Object.create(p);return w.parent=p,w.ref=0,w.global=!1,w.id=++$r,jt.env,w.env=At?{Promise:dt,PromiseProp:{value:dt,configurable:!0,writable:!0},all:dt.all,race:dt.race,allSettled:dt.allSettled,any:dt.any,resolve:dt.resolve,reject:dt.reject}:{},s&&S(w,s),++p.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},f=Ca(w,a,c,f),w.ref===0&&w.finalize(),f}function kn(){return Wt.id||(Wt.id=++mr),++Wt.awaits,Wt.echoes+=ct,Wt.id}function er(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*ct,!0)}function Yr(a){return Wt.echoes&&a&&a.constructor===kt?(kn(),a.then(function(s){return er(),s},function(s){return er(),Ut(s)})):a}function oa(){var a=Jr[Jr.length-1];Jr.pop(),rn(a,!1)}function rn(a,s){var c,f=et;(s?!Wt.echoes||Ar++&&a===et:!Ar||--Ar&&a===et)||queueMicrotask(s?(function(p){++gt,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),Jr.push(et),rn(p,!0)}).bind(null,a):oa),a!==et&&(et=a,f===jt&&(jt.env=os()),At&&(c=jt.env.Promise,s=a.env,(f.global||a.global)&&(Object.defineProperty(_,"Promise",s.PromiseProp),c.all=s.all,c.race=s.race,c.resolve=s.resolve,c.reject=s.reject,s.allSettled&&(c.allSettled=s.allSettled),s.any&&(c.any=s.any))))}function os(){var a=_.Promise;return At?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(_,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Ca(a,s,c,f,p){var w=et;try{return rn(a,!0),s(c,f,p)}finally{rn(w,!1)}}function or(a,s,c,f){return typeof a!="function"?a:function(){var p=et;c&&kn(),rn(s,!0);try{return a.apply(this,arguments)}finally{rn(p,!1),f&&queueMicrotask(er)}}}function Hn(a){Promise===kt&&Wt.echoes===0?Ar===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+dr).indexOf("[native code]")===-1&&(kn=er=vt);var Ut=dt.reject,la="￿",lr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Mi="String expected.",Ze=[],Pa="__dbnames",cn="readonly",ea="readwrite";function Sa(a,s){return a?s?function(){return a.apply(this,arguments)&&s.apply(this,arguments)}:a:s}var Qt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Jt(a){return typeof a!="string"||/\./.test(a)?function(s){return s}:function(s){return s[a]===void 0&&a in s&&delete(s=ge(s))[a],s}}function qt(){throw Ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Yt(a,s){try{var c=mi(a),f=mi(s);if(c!==f)return c==="Array"?1:f==="Array"?-1:c==="binary"?1:f==="binary"?-1:c==="string"?1:f==="string"?-1:c==="Date"?1:f!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return s<a?1:a<s?-1:0;case"binary":return(function(p,w){for(var N=p.length,B=w.length,V=N<B?N:B,q=0;q<V;++q)if(p[q]!==w[q])return p[q]<w[q]?-1:1;return N===B?0:N<B?-1:1})(Er(a),Er(s));case"Array":return(function(p,w){for(var N=p.length,B=w.length,V=N<B?N:B,q=0;q<V;++q){var re=Yt(p[q],w[q]);if(re!==0)return re}return N===B?0:N<B?-1:1})(a,s)}}catch{}return NaN}function mi(a){var s=typeof a;return s!="object"?s:ArrayBuffer.isView(a)?"binary":(a=$(a),a==="ArrayBuffer"?"binary":a)}function Er(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}function Bn(a,s,c){var f=a.schema.yProps;return f?(s&&0<c.numFailures&&(s=s.filter(function(p,w){return!c.failures[w]})),Promise.all(f.map(function(p){return p=p.updatesTable,s?a.db.table(p).where("k").anyOf(s).delete():a.db.table(p).clear()})).then(function(){return c})):c}var ua=(yn.prototype._trans=function(a,s,c){var f=this._tx||et.trans,p=this.name,w=Ee&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function N(q,re,K){if(!K.schema[p])throw new Ve.NotFound("Table "+p+" not part of transaction");return s(K.idbtrans,K)}var B=_n();try{var V=f&&f.db._novip===this.db._novip?f===et.trans?f._promise(a,N,c):Gr(function(){return f._promise(a,N,c)},{trans:f,transless:et.transless||et}):(function q(re,K,he,ce){if(re.idbdb&&(re._state.openComplete||et.letThrough||re._vip)){var de=re._createTransaction(K,he,re._dbSchema);try{de.create(),re._state.PR1398_maxLoop=3}catch(be){return be.name===$e.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return q(re,K,he,ce)})):Ut(be)}return de._promise(K,function(be,ye){return Gr(function(){return et.trans=de,ce(be,ye,de)})}).then(function(be){if(K==="readwrite")try{de.idbtrans.commit()}catch{}return K==="readonly"?be:de._completion.then(function(){return be})})}if(re._state.openComplete)return Ut(new Ve.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return Ut(new Ve.DatabaseClosed);re.open().catch(vt)}return re._state.dbReadyPromise.then(function(){return q(re,K,he,ce)})})(this.db,a,[this.name],N);return w&&(V._consoleTask=w,V=V.catch(function(q){return console.trace(q),Ut(q)})),V}finally{B&&xn()}},yn.prototype.get=function(a,s){var c=this;return a&&a.constructor===Object?this.where(a).first(s):a==null?Ut(new Ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return c.core.get({trans:f,key:a}).then(function(p){return c.hook.reading.fire(p)})}).then(s)},yn.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(R(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var s=I(a);if(s.length===1)return this.where(s[0]).equals(a[s[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(B){if(B.compound&&s.every(function(q){return 0<=B.keyPath.indexOf(q)})){for(var V=0;V<s.length;++V)if(s.indexOf(B.keyPath[V])===-1)return!1;return!0}return!1}).sort(function(B,V){return B.keyPath.length-V.keyPath.length})[0];if(c&&this.db._maxKey!==la){var w=c.keyPath.slice(0,s.length);return this.where(w).equals(w.map(function(V){return a[V]}))}!c&&Ee&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var f=this.schema.idxByName;function p(B,V){return Yt(B,V)===0}var N=s.reduce(function(K,V){var q=K[0],re=K[1],K=f[V],he=a[V];return[q||K,q||!K?Sa(re,K&&K.multi?function(ce){return ce=C(ce,V),R(ce)&&ce.some(function(de){return p(he,de)})}:function(ce){return p(he,C(ce,V))}):re]},[null,null]),w=N[0],N=N[1];return w?this.where(w.name).equals(a[w.keyPath]).filter(N):c?this.filter(N):this.where(s).equals("")},yn.prototype.filter=function(a){return this.toCollection().and(a)},yn.prototype.count=function(a){return this.toCollection().count(a)},yn.prototype.offset=function(a){return this.toCollection().offset(a)},yn.prototype.limit=function(a){return this.toCollection().limit(a)},yn.prototype.each=function(a){return this.toCollection().each(a)},yn.prototype.toArray=function(a){return this.toCollection().toArray(a)},yn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},yn.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,R(a)?"[".concat(a.join("+"),"]"):a))},yn.prototype.reverse=function(){return this.toCollection().reverse()},yn.prototype.mapToClass=function(a){var s,c=this.db,f=this.name;function p(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof qt&&((function(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function re(){this.constructor=V}x(V,q),V.prototype=q===null?Object.create(q):(re.prototype=q.prototype,new re)})(p,s=a),Object.defineProperty(p.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),p.prototype.table=function(){return f},a=p);for(var w=new Set,N=a.prototype;N;N=y(N))Object.getOwnPropertyNames(N).forEach(function(V){return w.add(V)});function B(V){if(!V)return V;var q,re=Object.create(a.prototype);for(q in V)if(!w.has(q))try{re[q]=V[q]}catch{}return re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=B,this.hook("reading",B),a},yn.prototype.defineClass=function(){return this.mapToClass(function(a){S(this,a)})},yn.prototype.add=function(a,s){var c=this,f=this.schema.primKey,p=f.auto,w=f.keyPath,N=a;return w&&p&&(N=Jt(w)(a)),this._trans("readwrite",function(B){return c.core.mutate({trans:B,type:"add",keys:s!=null?[s]:null,values:[N]})}).then(function(B){return B.numFailures?dt.reject(B.failures[0]):B.lastResult}).then(function(B){if(w)try{M(a,w,B)}catch{}return B})},yn.prototype.update=function(a,s){return typeof a!="object"||R(a)?this.where(":id").equals(a).modify(s):(a=C(a,this.schema.primKey.keyPath),a===void 0?Ut(new Ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(s))},yn.prototype.put=function(a,s){var c=this,f=this.schema.primKey,p=f.auto,w=f.keyPath,N=a;return w&&p&&(N=Jt(w)(a)),this._trans("readwrite",function(B){return c.core.mutate({trans:B,type:"put",values:[N],keys:s!=null?[s]:null})}).then(function(B){return B.numFailures?dt.reject(B.failures[0]):B.lastResult}).then(function(B){if(w)try{M(a,w,B)}catch{}return B})},yn.prototype.delete=function(a){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"delete",keys:[a]}).then(function(f){return Bn(s,[a],f)}).then(function(f){return f.numFailures?dt.reject(f.failures[0]):void 0})})},yn.prototype.clear=function(){var a=this;return this._trans("readwrite",function(s){return a.core.mutate({trans:s,type:"deleteRange",range:Qt}).then(function(c){return Bn(a,null,c)})}).then(function(s){return s.numFailures?dt.reject(s.failures[0]):void 0})},yn.prototype.bulkGet=function(a){var s=this;return this._trans("readonly",function(c){return s.core.getMany({keys:a,trans:c}).then(function(f){return f.map(function(p){return s.hook.reading.fire(p)})})})},yn.prototype.bulkAdd=function(a,s,c){var f=this,p=Array.isArray(s)?s:void 0,w=(c=c||(p?void 0:s))?c.allKeys:void 0;return this._trans("readwrite",function(N){var q=f.schema.primKey,B=q.auto,q=q.keyPath;if(q&&p)throw new Ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(p&&p.length!==a.length)throw new Ve.InvalidArgument("Arguments objects and keys must have the same length");var V=a.length,q=q&&B?a.map(Jt(q)):a;return f.core.mutate({trans:N,type:"add",keys:p,values:q,wantResults:w}).then(function(de){var K=de.numFailures,he=de.results,ce=de.lastResult,de=de.failures;if(K===0)return w?he:ce;throw new ze("".concat(f.name,".bulkAdd(): ").concat(K," of ").concat(V," operations failed"),de)})})},yn.prototype.bulkPut=function(a,s,c){var f=this,p=Array.isArray(s)?s:void 0,w=(c=c||(p?void 0:s))?c.allKeys:void 0;return this._trans("readwrite",function(N){var q=f.schema.primKey,B=q.auto,q=q.keyPath;if(q&&p)throw new Ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(p&&p.length!==a.length)throw new Ve.InvalidArgument("Arguments objects and keys must have the same length");var V=a.length,q=q&&B?a.map(Jt(q)):a;return f.core.mutate({trans:N,type:"put",keys:p,values:q,wantResults:w}).then(function(de){var K=de.numFailures,he=de.results,ce=de.lastResult,de=de.failures;if(K===0)return w?he:ce;throw new ze("".concat(f.name,".bulkPut(): ").concat(K," of ").concat(V," operations failed"),de)})})},yn.prototype.bulkUpdate=function(a){var s=this,c=this.core,f=a.map(function(N){return N.key}),p=a.map(function(N){return N.changes}),w=[];return this._trans("readwrite",function(N){return c.getMany({trans:N,keys:f,cache:"clone"}).then(function(B){var V=[],q=[];a.forEach(function(K,he){var ce=K.key,de=K.changes,be=B[he];if(be){for(var ye=0,Ae=Object.keys(de);ye<Ae.length;ye++){var Me=Ae[ye],Fe=de[Me];if(Me===s.schema.primKey.keyPath){if(Yt(Fe,ce)!==0)throw new Ve.Constraint("Cannot update primary key in bulkUpdate()")}else M(be,Me,Fe)}w.push(he),V.push(ce),q.push(be)}});var re=V.length;return c.mutate({trans:N,type:"put",keys:V,values:q,updates:{keys:f,changeSpecs:p}}).then(function(K){var he=K.numFailures,ce=K.failures;if(he===0)return re;for(var de=0,be=Object.keys(ce);de<be.length;de++){var ye,Ae=be[de],Me=w[Number(Ae)];Me!=null&&(ye=ce[Ae],delete ce[Ae],ce[Me]=ye)}throw new ze("".concat(s.name,".bulkUpdate(): ").concat(he," of ").concat(re," operations failed"),ce)})})})},yn.prototype.bulkDelete=function(a){var s=this,c=a.length;return this._trans("readwrite",function(f){return s.core.mutate({trans:f,type:"delete",keys:a}).then(function(p){return Bn(s,a,p)})}).then(function(N){var p=N.numFailures,w=N.lastResult,N=N.failures;if(p===0)return w;throw new ze("".concat(s.name,".bulkDelete(): ").concat(p," of ").concat(c," operations failed"),N)})},yn);function yn(){}function En(a){function s(N,B){if(B){for(var V=arguments.length,q=new Array(V-1);--V;)q[V-1]=arguments[V];return c[N].subscribe.apply(null,q),a}if(typeof N=="string")return c[N]}var c={};s.addEventType=w;for(var f=1,p=arguments.length;f<p;++f)w(arguments[f]);return s;function w(N,B,V){if(typeof N!="object"){var q;B=B||we;var re={subscribers:[],fire:V=V||vt,subscribe:function(K){re.subscribers.indexOf(K)===-1&&(re.subscribers.push(K),re.fire=B(re.fire,K))},unsubscribe:function(K){re.subscribers=re.subscribers.filter(function(he){return he!==K}),re.fire=re.subscribers.reduce(B,V)}};return c[N]=s[N]=re}I(q=N).forEach(function(K){var he=q[K];if(R(he))w(K,q[K][0],q[K][1]);else{if(he!=="asap")throw new Ve.InvalidArgument("Invalid event config");var ce=w(K,yt,function(){for(var de=arguments.length,be=new Array(de);de--;)be[de]=arguments[de];ce.subscribers.forEach(function(ye){E(function(){ye.apply(null,be)})})})}})}}function Cr(a,s){return P(s).from({prototype:a}),s}function Qa(a,s){return!(a.filter||a.algorithm||a.or)&&(s?a.justLimit:!a.replayFilter)}function Qn(a,s){a.filter=Sa(a.filter,s)}function fn(a,s,c){var f=a.replayFilter;a.replayFilter=f?function(){return Sa(f(),s())}:s,a.justLimit=c&&!f}function Kn(a,s){if(a.isPrimKey)return s.primaryKey;var c=s.getIndexByKeyPath(a.index);if(!c)throw new Ve.Schema("KeyPath "+a.index+" on object store "+s.name+" is not indexed");return c}function Te(a,s,c){var f=Kn(a,s.schema);return s.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function ue(a,s,c,f){var p=a.replayFilter?Sa(a.filter,a.replayFilter()):a.filter;if(a.or){var w={},N=function(B,V,q){var re,K;p&&!p(V,q,function(he){return V.stop(he)},function(he){return V.fail(he)})||((K=""+(re=V.primaryKey))=="[object ArrayBuffer]"&&(K=""+new Uint8Array(re)),D(w,K)||(w[K]=!0,s(B,V,q)))};return Promise.all([a.or._iterate(N,c),bt(Te(a,f,c),a.algorithm,N,!a.keysOnly&&a.valueMapper)])}return bt(Te(a,f,c),Sa(a.algorithm,p),s,!a.keysOnly&&a.valueMapper)}function bt(a,s,c,f){var p=mt(f?function(w,N,B){return c(f(w),N,B)}:c);return a.then(function(w){if(w)return w.start(function(){var N=function(){return w.continue()};s&&!s(w,function(B){return N=B},function(B){w.stop(B),N=vt},function(B){w.fail(B),N=vt})||p(w.value,w,function(B){return N=B}),N()})})}var jn=(tr.prototype.execute=function(a){var s=this["@@propmod"];if(s.add!==void 0){var c=s.add;if(R(c))return T(T([],R(a)?a:[],!0),c).sort();if(typeof c=="number")return(Number(a)||0)+c;if(typeof c=="bigint")try{return BigInt(a)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(s.remove!==void 0){var f=s.remove;if(R(f))return R(a)?a.filter(function(p){return!f.includes(p)}).sort():[];if(typeof f=="number")return Number(a)-f;if(typeof f=="bigint")try{return BigInt(a)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return c=(c=s.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof a=="string"&&a.startsWith(c)?s.replacePrefix[1]+a.substring(c.length):a},tr);function tr(a){this["@@propmod"]=a}var lo=(tn.prototype._read=function(a,s){var c=this._ctx;return c.error?c.table._trans(null,Ut.bind(null,c.error)):c.table._trans("readonly",a).then(s)},tn.prototype._write=function(a){var s=this._ctx;return s.error?s.table._trans(null,Ut.bind(null,s.error)):s.table._trans("readwrite",a,"locked")},tn.prototype._addAlgorithm=function(a){var s=this._ctx;s.algorithm=Sa(s.algorithm,a)},tn.prototype._iterate=function(a,s){return ue(this._ctx,a,s,this._ctx.table.core)},tn.prototype.clone=function(a){var s=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return a&&S(c,a),s._ctx=c,s},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(a){var s=this._ctx;return this._read(function(c){return ue(s,a,c,s.table.core)})},tn.prototype.count=function(a){var s=this;return this._read(function(c){var f=s._ctx,p=f.table.core;if(Qa(f,!0))return p.count({trans:c,query:{index:Kn(f,p.schema),range:f.range}}).then(function(N){return Math.min(N,f.limit)});var w=0;return ue(f,function(){return++w,!1},c,p).then(function(){return w})}).then(a)},tn.prototype.sortBy=function(a,s){var c=a.split(".").reverse(),f=c[0],p=c.length-1;function w(V,q){return q?w(V[c[q]],q-1):V[f]}var N=this._ctx.dir==="next"?1:-1;function B(V,q){return Yt(w(V,p),w(q,p))*N}return this.toArray(function(V){return V.sort(B)}).then(s)},tn.prototype.toArray=function(a){var s=this;return this._read(function(c){var f=s._ctx;if(f.dir==="next"&&Qa(f,!0)&&0<f.limit){var p=f.valueMapper,w=Kn(f,f.table.core.schema);return f.table.core.query({trans:c,limit:f.limit,values:!0,query:{index:w,range:f.range}}).then(function(B){return B=B.result,p?B.map(p):B})}var N=[];return ue(f,function(B){return N.push(B)},c,f.table.core).then(function(){return N})},a)},tn.prototype.offset=function(a){var s=this._ctx;return a<=0||(s.offset+=a,Qa(s)?fn(s,function(){var c=a;return function(f,p){return c===0||(c===1?--c:p(function(){f.advance(c),c=0}),!1)}}):fn(s,function(){var c=a;return function(){return--c<0}})),this},tn.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),fn(this._ctx,function(){var s=a;return function(c,f,p){return--s<=0&&f(p),0<=s}},!0),this},tn.prototype.until=function(a,s){return Qn(this._ctx,function(c,f,p){return!a(c.value)||(f(p),s)}),this},tn.prototype.first=function(a){return this.limit(1).toArray(function(s){return s[0]}).then(a)},tn.prototype.last=function(a){return this.reverse().first(a)},tn.prototype.filter=function(a){var s;return Qn(this._ctx,function(c){return a(c.value)}),(s=this._ctx).isMatch=Sa(s.isMatch,a),this},tn.prototype.and=function(a){return this.filter(a)},tn.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(a){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(c,f){a(f.key,f)})},tn.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},tn.prototype.eachPrimaryKey=function(a){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(c,f){a(f.primaryKey,f)})},tn.prototype.keys=function(a){var s=this._ctx;s.keysOnly=!s.isMatch;var c=[];return this.each(function(f,p){c.push(p.key)}).then(function(){return c}).then(a)},tn.prototype.primaryKeys=function(a){var s=this._ctx;if(s.dir==="next"&&Qa(s,!0)&&0<s.limit)return this._read(function(f){var p=Kn(s,s.table.core.schema);return s.table.core.query({trans:f,values:!1,limit:s.limit,query:{index:p,range:s.range}})}).then(function(f){return f.result}).then(a);s.keysOnly=!s.isMatch;var c=[];return this.each(function(f,p){c.push(p.primaryKey)}).then(function(){return c}).then(a)},tn.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},tn.prototype.firstKey=function(a){return this.limit(1).keys(function(s){return s[0]}).then(a)},tn.prototype.lastKey=function(a){return this.reverse().firstKey(a)},tn.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var s={};return Qn(this._ctx,function(p){var f=p.primaryKey.toString(),p=D(s,f);return s[f]=!0,!p}),this},tn.prototype.modify=function(a){var s=this,c=this._ctx;return this._write(function(f){var p,w,N;N=typeof a=="function"?a:(p=I(a),w=p.length,function(Ae){for(var Me=!1,Fe=0;Fe<w;++Fe){var Re=p[Fe],Qe=a[Re],nt=C(Ae,Re);Qe instanceof jn?(M(Ae,Re,Qe.execute(nt)),Me=!0):nt!==Qe&&(M(Ae,Re,Qe),Me=!0)}return Me});var B=c.table.core,K=B.schema.primaryKey,V=K.outbound,q=K.extractKey,re=200,K=s.db._options.modifyChunkSize;K&&(re=typeof K=="object"?K[B.name]||K["*"]||200:K);function he(Ae,Re){var Fe=Re.failures,Re=Re.numFailures;de+=Ae-Re;for(var Qe=0,nt=I(Fe);Qe<nt.length;Qe++){var rt=nt[Qe];ce.push(Fe[rt])}}var ce=[],de=0,be=[],ye=a===Ir;return s.clone().primaryKeys().then(function(Ae){function Me(Re){var Qe=Math.min(re,Ae.length-Re),nt=Ae.slice(Re,Re+Qe);return(ye?Promise.resolve([]):B.getMany({trans:f,keys:nt,cache:"immutable"})).then(function(rt){var at=[],ot=[],ft=V?[]:null,ut=ye?nt:[];if(!ye)for(var Nt=0;Nt<Qe;++Nt){var Kt=rt[Nt],Ft={value:ge(Kt),primKey:Ae[Re+Nt]};N.call(Ft,Ft.value,Ft)!==!1&&(Ft.value==null?ut.push(Ae[Re+Nt]):V||Yt(q(Kt),q(Ft.value))===0?(ot.push(Ft.value),V&&ft.push(Ae[Re+Nt])):(ut.push(Ae[Re+Nt]),at.push(Ft.value)))}return Promise.resolve(0<at.length&&B.mutate({trans:f,type:"add",values:at}).then(function(Un){for(var Lt in Un.failures)ut.splice(parseInt(Lt),1);he(at.length,Un)})).then(function(){return(0<ot.length||Fe&&typeof a=="object")&&B.mutate({trans:f,type:"put",keys:ft,values:ot,criteria:Fe,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<Re}).then(function(Un){return he(ot.length,Un)})}).then(function(){return(0<ut.length||Fe&&ye)&&B.mutate({trans:f,type:"delete",keys:ut,criteria:Fe,isAdditionalChunk:0<Re}).then(function(Un){return Bn(c.table,ut,Un)}).then(function(Un){return he(ut.length,Un)})}).then(function(){return Ae.length>Re+Qe&&Me(Re+re)})})}var Fe=Qa(c)&&c.limit===1/0&&(typeof a!="function"||ye)&&{index:c.index,range:c.range};return Me(0).then(function(){if(0<ce.length)throw new Be("Error modifying one or more objects",ce,de,be);return Ae.length})})})},tn.prototype.delete=function(){var a=this._ctx,s=a.range;return!Qa(a)||a.table.schema.yProps||!a.isPrimKey&&s.type!==3?this.modify(Ir):this._write(function(c){var f=a.table.core.schema.primaryKey,p=s;return a.table.core.count({trans:c,query:{index:f,range:p}}).then(function(w){return a.table.core.mutate({trans:c,type:"deleteRange",range:p}).then(function(V){var B=V.failures,V=V.numFailures;if(V)throw new Be("Could not delete some values",Object.keys(B).map(function(q){return B[q]}),w-V);return w-V})})})},tn);function tn(){}var Ir=function(a,s){return s.value=null};function _t(a,s){return a<s?-1:a===s?0:1}function Ln(a,s){return s<a?-1:a===s?0:1}function Rr(a,s,c){return a=a instanceof Ua?new a.Collection(a):a,a._ctx.error=new(c||TypeError)(s),a}function ca(a){return new a.Collection(a,function(){return da("")}).limit(0)}function Na(a,s,c,f){var p,w,N,B,V,q,re,K=c.length;if(!c.every(function(de){return typeof de=="string"}))return Rr(a,Mi);function he(de){p=de==="next"?function(ye){return ye.toUpperCase()}:function(ye){return ye.toLowerCase()},w=de==="next"?function(ye){return ye.toLowerCase()}:function(ye){return ye.toUpperCase()},N=de==="next"?_t:Ln;var be=c.map(function(ye){return{lower:w(ye),upper:p(ye)}}).sort(function(ye,Ae){return N(ye.lower,Ae.lower)});B=be.map(function(ye){return ye.upper}),V=be.map(function(ye){return ye.lower}),re=(q=de)==="next"?"":f}he("next"),a=new a.Collection(a,function(){return jr(B[0],V[K-1]+f)}),a._ondirectionchange=function(de){he(de)};var ce=0;return a._addAlgorithm(function(de,be,ye){var Ae=de.key;if(typeof Ae!="string")return!1;var Me=w(Ae);if(s(Me,V,ce))return!0;for(var Fe=null,Re=ce;Re<K;++Re){var Qe=(function(nt,rt,at,ot,ft,ut){for(var Nt=Math.min(nt.length,ot.length),Kt=-1,Ft=0;Ft<Nt;++Ft){var Un=rt[Ft];if(Un!==ot[Ft])return ft(nt[Ft],at[Ft])<0?nt.substr(0,Ft)+at[Ft]+at.substr(Ft+1):ft(nt[Ft],ot[Ft])<0?nt.substr(0,Ft)+ot[Ft]+at.substr(Ft+1):0<=Kt?nt.substr(0,Kt)+rt[Kt]+at.substr(Kt+1):null;ft(nt[Ft],Un)<0&&(Kt=Ft)}return Nt<ot.length&&ut==="next"?nt+at.substr(nt.length):Nt<nt.length&&ut==="prev"?nt.substr(0,at.length):Kt<0?null:nt.substr(0,Kt)+ot[Kt]+at.substr(Kt+1)})(Ae,Me,B[Re],V[Re],N,q);Qe===null&&Fe===null?ce=Re+1:(Fe===null||0<N(Fe,Qe))&&(Fe=Qe)}return be(Fe!==null?function(){de.continue(Fe+re)}:ye),!1}),a}function jr(a,s,c,f){return{type:2,lower:a,upper:s,lowerOpen:c,upperOpen:f}}function da(a){return{type:1,lower:a,upper:a}}var Ua=(Object.defineProperty($t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),$t.prototype.between=function(a,s,c,f){c=c!==!1,f=f===!0;try{return 0<this._cmp(a,s)||this._cmp(a,s)===0&&(c||f)&&(!c||!f)?ca(this):new this.Collection(this,function(){return jr(a,s,!c,!f)})}catch{return Rr(this,lr)}},$t.prototype.equals=function(a){return a==null?Rr(this,lr):new this.Collection(this,function(){return da(a)})},$t.prototype.above=function(a){return a==null?Rr(this,lr):new this.Collection(this,function(){return jr(a,void 0,!0)})},$t.prototype.aboveOrEqual=function(a){return a==null?Rr(this,lr):new this.Collection(this,function(){return jr(a,void 0,!1)})},$t.prototype.below=function(a){return a==null?Rr(this,lr):new this.Collection(this,function(){return jr(void 0,a,!1,!0)})},$t.prototype.belowOrEqual=function(a){return a==null?Rr(this,lr):new this.Collection(this,function(){return jr(void 0,a)})},$t.prototype.startsWith=function(a){return typeof a!="string"?Rr(this,Mi):this.between(a,a+la,!0,!0)},$t.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):Na(this,function(s,c){return s.indexOf(c[0])===0},[a],la)},$t.prototype.equalsIgnoreCase=function(a){return Na(this,function(s,c){return s===c[0]},[a],"")},$t.prototype.anyOfIgnoreCase=function(){var a=se.apply(_e,arguments);return a.length===0?ca(this):Na(this,function(s,c){return c.indexOf(s)!==-1},a,"")},$t.prototype.startsWithAnyOfIgnoreCase=function(){var a=se.apply(_e,arguments);return a.length===0?ca(this):Na(this,function(s,c){return c.some(function(f){return s.indexOf(f)===0})},a,la)},$t.prototype.anyOf=function(){var a=this,s=se.apply(_e,arguments),c=this._cmp;try{s.sort(c)}catch{return Rr(this,lr)}if(s.length===0)return ca(this);var f=new this.Collection(this,function(){return jr(s[0],s[s.length-1])});f._ondirectionchange=function(w){c=w==="next"?a._ascending:a._descending,s.sort(c)};var p=0;return f._addAlgorithm(function(w,N,B){for(var V=w.key;0<c(V,s[p]);)if(++p===s.length)return N(B),!1;return c(V,s[p])===0||(N(function(){w.continue(s[p])}),!1)}),f},$t.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},$t.prototype.noneOf=function(){var a=se.apply(_e,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return Rr(this,lr)}var s=a.reduce(function(c,f){return c?c.concat([[c[c.length-1][1],f]]):[[-1/0,f]]},null);return s.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},$t.prototype.inAnyRange=function(Ae,s){var c=this,f=this._cmp,p=this._ascending,w=this._descending,N=this._min,B=this._max;if(Ae.length===0)return ca(this);if(!Ae.every(function(Me){return Me[0]!==void 0&&Me[1]!==void 0&&p(Me[0],Me[1])<=0}))return Rr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ve.InvalidArgument);var V=!s||s.includeLowers!==!1,q=s&&s.includeUppers===!0,re,K=p;function he(Me,Fe){return K(Me[0],Fe[0])}try{(re=Ae.reduce(function(Me,Fe){for(var Re=0,Qe=Me.length;Re<Qe;++Re){var nt=Me[Re];if(f(Fe[0],nt[1])<0&&0<f(Fe[1],nt[0])){nt[0]=N(nt[0],Fe[0]),nt[1]=B(nt[1],Fe[1]);break}}return Re===Qe&&Me.push(Fe),Me},[])).sort(he)}catch{return Rr(this,lr)}var ce=0,de=q?function(Me){return 0<p(Me,re[ce][1])}:function(Me){return 0<=p(Me,re[ce][1])},be=V?function(Me){return 0<w(Me,re[ce][0])}:function(Me){return 0<=w(Me,re[ce][0])},ye=de,Ae=new this.Collection(this,function(){return jr(re[0][0],re[re.length-1][1],!V,!q)});return Ae._ondirectionchange=function(Me){K=Me==="next"?(ye=de,p):(ye=be,w),re.sort(he)},Ae._addAlgorithm(function(Me,Fe,Re){for(var Qe,nt=Me.key;ye(nt);)if(++ce===re.length)return Fe(Re),!1;return!de(Qe=nt)&&!be(Qe)||(c._cmp(nt,re[ce][1])===0||c._cmp(nt,re[ce][0])===0||Fe(function(){K===p?Me.continue(re[ce][0]):Me.continue(re[ce][1])}),!1)}),Ae},$t.prototype.startsWithAnyOf=function(){var a=se.apply(_e,arguments);return a.every(function(s){return typeof s=="string"})?a.length===0?ca(this):this.inAnyRange(a.map(function(s){return[s,s+la]})):Rr(this,"startsWithAnyOf() only works with strings")},$t);function $t(){}function gr(a){return mt(function(s){return Lr(s),a(s.target.error),!1})}function Lr(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var wt="storagemutated",Kr="x-storagemutated-1",It=En(null,wt),Xn=(ur.prototype._lock=function(){return m(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},ur.prototype._unlock=function(){if(m(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Ca(a[1],a[0])}catch{}}return this},ur.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},ur.prototype.create=function(a){var s=this;if(!this.mode)return this;var c=this.db.idbdb,f=this.db._state.dbOpenError;if(m(!this.idbtrans),!a&&!c)switch(f&&f.name){case"DatabaseClosedError":throw new Ve.DatabaseClosed(f);case"MissingAPIError":throw new Ve.MissingAPI(f.message,f);default:throw new Ve.OpenFailed(f)}if(!this.active)throw new Ve.TransactionInactive;return m(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mt(function(p){Lr(p),s._reject(a.error)}),a.onabort=mt(function(p){Lr(p),s.active&&s._reject(new Ve.Abort(a.error)),s.active=!1,s.on("abort").fire(p)}),a.oncomplete=mt(function(){s.active=!1,s._resolve(),"mutatedParts"in a&&It.storagemutated.fire(a.mutatedParts)}),this},ur.prototype._promise=function(a,s,c){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return Ut(new Ve.ReadOnly("Transaction is readonly"));if(!this.active)return Ut(new Ve.TransactionInactive);if(this._locked())return new dt(function(w,N){f._blockedFuncs.push([function(){f._promise(a,s,c).then(w,N)},et])});if(c)return Gr(function(){var w=new dt(function(N,B){f._lock();var V=s(N,B,f);V&&V.then&&V.then(N,B)});return w.finally(function(){return f._unlock()}),w._lib=!0,w});var p=new dt(function(w,N){var B=s(w,N,f);B&&B.then&&B.then(w,N)});return p._lib=!0,p},ur.prototype._root=function(){return this.parent?this.parent._root():this},ur.prototype.waitFor=function(a){var s,c=this._root(),f=dt.resolve(a);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return f}):(c._waitingFor=f,c._waitingQueue=[],s=c.idbtrans.objectStore(c.storeNames[0]),(function w(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(s.get(-1/0).onsuccess=w)})());var p=c._waitingFor;return new dt(function(w,N){f.then(function(B){return c._waitingQueue.push(mt(w.bind(null,B)))},function(B){return c._waitingQueue.push(mt(N.bind(null,B)))}).finally(function(){c._waitingFor===p&&(c._waitingFor=null)})})},ur.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ve.Abort))},ur.prototype.table=function(a){var s=this._memoizedTables||(this._memoizedTables={});if(D(s,a))return s[a];var c=this.schema[a];if(!c)throw new Ve.NotFound("Table "+a+" not part of transaction");return c=new this.db.Table(a,c,this),c.core=this.db.core.table(a),s[a]=c},ur);function ur(){}function Fa(a,s,c,f,p,w,N,B){return{name:a,keyPath:s,unique:c,multi:f,auto:p,compound:w,src:(c&&!N?"&":"")+(f?"*":"")+(p?"++":"")+Ja(s),type:B}}function Ja(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function ta(a,s,c){return{name:a,primKey:s,indexes:c,mappedClass:null,idxByName:(f=function(p){return[p.name,p]},c.reduce(function(p,w,N){return N=f(w,N),N&&(p[N[0]]=N[1]),p},{}))};var f}var Ta=function(a){try{return a.only([[]]),Ta=function(){return[[]]},[[]]}catch{return Ta=function(){return la},la}};function na(a){return a==null?function(){}:typeof a=="string"?(s=a).split(".").length===1?function(c){return c[s]}:function(c){return C(c,s)}:function(c){return C(c,a)};var s}function Ha(a){return[].slice.call(a)}var nr=0;function Vr(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function Oa(a,s,V){function f(ye){if(ye.type===3)return null;if(ye.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ce=ye.lower,de=ye.upper,be=ye.lowerOpen,ye=ye.upperOpen;return ce===void 0?de===void 0?null:s.upperBound(de,!!ye):de===void 0?s.lowerBound(ce,!!be):s.bound(ce,de,!!be,!!ye)}function p(he){var ce,de=he.name;return{name:de,schema:he,mutate:function(be){var ye=be.trans,Ae=be.type,Me=be.keys,Fe=be.values,Re=be.range;return new Promise(function(Qe,nt){Qe=mt(Qe);var rt=ye.objectStore(de),at=rt.keyPath==null,ot=Ae==="put"||Ae==="add";if(!ot&&Ae!=="delete"&&Ae!=="deleteRange")throw new Error("Invalid operation type: "+Ae);var ft,ut=(Me||Fe||{length:1}).length;if(Me&&Fe&&Me.length!==Fe.length)throw new Error("Given keys array must have same length as given values array.");if(ut===0)return Qe({numFailures:0,failures:{},results:[],lastResult:void 0});function Nt(yr){++Un,Lr(yr)}var Kt=[],Ft=[],Un=0;if(Ae==="deleteRange"){if(Re.type===4)return Qe({numFailures:Un,failures:Ft,results:[],lastResult:void 0});Re.type===3?Kt.push(ft=rt.clear()):Kt.push(ft=rt.delete(f(Re)))}else{var at=ot?at?[Fe,Me]:[Fe,null]:[Me,null],Lt=at[0],xr=at[1];if(ot)for(var Jn=0;Jn<ut;++Jn)Kt.push(ft=xr&&xr[Jn]!==void 0?rt[Ae](Lt[Jn],xr[Jn]):rt[Ae](Lt[Jn])),ft.onerror=Nt;else for(Jn=0;Jn<ut;++Jn)Kt.push(ft=rt[Ae](Lt[Jn])),ft.onerror=Nt}function ms(yr){yr=yr.target.result,Kt.forEach(function(ra,co){return ra.error!=null&&(Ft[co]=ra.error)}),Qe({numFailures:Un,failures:Ft,results:Ae==="delete"?Me:Kt.map(function(ra){return ra.result}),lastResult:yr})}ft.onerror=function(yr){Nt(yr),ms(yr)},ft.onsuccess=ms})},getMany:function(be){var ye=be.trans,Ae=be.keys;return new Promise(function(Me,Fe){Me=mt(Me);for(var Re,Qe=ye.objectStore(de),nt=Ae.length,rt=new Array(nt),at=0,ot=0,ft=function(Kt){Kt=Kt.target,rt[Kt._pos]=Kt.result,++ot===at&&Me(rt)},ut=gr(Fe),Nt=0;Nt<nt;++Nt)Ae[Nt]!=null&&((Re=Qe.get(Ae[Nt]))._pos=Nt,Re.onsuccess=ft,Re.onerror=ut,++at);at===0&&Me(rt)})},get:function(be){var ye=be.trans,Ae=be.key;return new Promise(function(Me,Fe){Me=mt(Me);var Re=ye.objectStore(de).get(Ae);Re.onsuccess=function(Qe){return Me(Qe.target.result)},Re.onerror=gr(Fe)})},query:(ce=q,function(be){return new Promise(function(ye,Ae){ye=mt(ye);var Me,Fe,Re,at=be.trans,Qe=be.values,nt=be.limit,ft=be.query,rt=nt===1/0?void 0:nt,ot=ft.index,ft=ft.range,at=at.objectStore(de),ot=ot.isPrimaryKey?at:at.index(ot.name),ft=f(ft);if(nt===0)return ye({result:[]});ce?((rt=Qe?ot.getAll(ft,rt):ot.getAllKeys(ft,rt)).onsuccess=function(ut){return ye({result:ut.target.result})},rt.onerror=gr(Ae)):(Me=0,Fe=!Qe&&"openKeyCursor"in ot?ot.openKeyCursor(ft):ot.openCursor(ft),Re=[],Fe.onsuccess=function(ut){var Nt=Fe.result;return Nt?(Re.push(Qe?Nt.value:Nt.primaryKey),++Me===nt?ye({result:Re}):void Nt.continue()):ye({result:Re})},Fe.onerror=gr(Ae))})}),openCursor:function(be){var ye=be.trans,Ae=be.values,Me=be.query,Fe=be.reverse,Re=be.unique;return new Promise(function(Qe,nt){Qe=mt(Qe);var ot=Me.index,rt=Me.range,at=ye.objectStore(de),at=ot.isPrimaryKey?at:at.index(ot.name),ot=Fe?Re?"prevunique":"prev":Re?"nextunique":"next",ft=!Ae&&"openKeyCursor"in at?at.openKeyCursor(f(rt),ot):at.openCursor(f(rt),ot);ft.onerror=gr(nt),ft.onsuccess=mt(function(ut){var Nt,Kt,Ft,Un,Lt=ft.result;Lt?(Lt.___id=++nr,Lt.done=!1,Nt=Lt.continue.bind(Lt),Kt=(Kt=Lt.continuePrimaryKey)&&Kt.bind(Lt),Ft=Lt.advance.bind(Lt),Un=function(){throw new Error("Cursor not stopped")},Lt.trans=ye,Lt.stop=Lt.continue=Lt.continuePrimaryKey=Lt.advance=function(){throw new Error("Cursor not started")},Lt.fail=mt(nt),Lt.next=function(){var xr=this,Jn=1;return this.start(function(){return Jn--?xr.continue():xr.stop()}).then(function(){return xr})},Lt.start=function(xr){function Jn(){if(ft.result)try{xr()}catch(yr){Lt.fail(yr)}else Lt.done=!0,Lt.start=function(){throw new Error("Cursor behind last entry")},Lt.stop()}var ms=new Promise(function(yr,ra){yr=mt(yr),ft.onerror=gr(ra),Lt.fail=ra,Lt.stop=function(co){Lt.stop=Lt.continue=Lt.continuePrimaryKey=Lt.advance=Un,yr(co)}});return ft.onsuccess=mt(function(yr){ft.onsuccess=Jn,Jn()}),Lt.continue=Nt,Lt.continuePrimaryKey=Kt,Lt.advance=Ft,Jn(),ms},Qe(Lt)):Qe(null)},nt)})},count:function(be){var ye=be.query,Ae=be.trans,Me=ye.index,Fe=ye.range;return new Promise(function(Re,Qe){var nt=Ae.objectStore(de),rt=Me.isPrimaryKey?nt:nt.index(Me.name),nt=f(Fe),rt=nt?rt.count(nt):rt.count();rt.onsuccess=mt(function(at){return Re(at.target.result)}),rt.onerror=gr(Qe)})}}}var w,N,B,re=(N=V,B=Ha((w=a).objectStoreNames),{schema:{name:w.name,tables:B.map(function(he){return N.objectStore(he)}).map(function(he){var ce=he.keyPath,ye=he.autoIncrement,de=R(ce),be={},ye={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ce==null,compound:de,keyPath:ce,autoIncrement:ye,unique:!0,extractKey:na(ce)},indexes:Ha(he.indexNames).map(function(Ae){return he.index(Ae)}).map(function(Re){var Me=Re.name,Fe=Re.unique,Qe=Re.multiEntry,Re=Re.keyPath,Qe={name:Me,compound:R(Re),keyPath:Re,unique:Fe,multiEntry:Qe,extractKey:na(Re)};return be[Vr(Re)]=Qe}),getIndexByKeyPath:function(Ae){return be[Vr(Ae)]}};return be[":id"]=ye.primaryKey,ce!=null&&(be[Vr(ce)]=ye.primaryKey),ye})},hasGetAll:0<B.length&&"getAll"in N.objectStore(B[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),V=re.schema,q=re.hasGetAll,re=V.tables.map(p),K={};return re.forEach(function(he){return K[he.name]=he}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(he){if(!K[he])throw new Error("Table '".concat(he,"' not found"));return K[he]},MIN_KEY:-1/0,MAX_KEY:Ta(s),schema:V}}function fa(a,s,c,f){var p=c.IDBKeyRange;return c.indexedDB,{dbcore:(f=Oa(s,p,f),a.dbcore.reduce(function(w,N){return N=N.create,g(g({},w),N(w))},f))}}function cr(a,f){var c=f.db,f=fa(a._middlewares,c,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(p){var w=p.name;a.core.schema.tables.some(function(N){return N.name===w})&&(p.core=a.core.table(w),a[w]instanceof a.Table&&(a[w].core=p.core))})}function Ga(a,s,c,f){c.forEach(function(p){var w=f[p];s.forEach(function(N){var B=(function V(q,re){return Z(q,re)||(q=y(q))&&V(q,re)})(N,p);(!B||"value"in B&&B.value===void 0)&&(N===a.Transaction.prototype||N instanceof a.Transaction?Y(N,p,{get:function(){return this.table(p)},set:function(V){L(this,p,{value:V,writable:!0,configurable:!0,enumerable:!0})}}):N[p]=new a.Table(p,w))})})}function $a(a,s){s.forEach(function(c){for(var f in c)c[f]instanceof a.Table&&delete c[f]})}function ei(a,s){return a._cfg.version-s._cfg.version}function Bi(a,s,c,f){var p=a._dbSchema;c.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=ta("$meta",Ue("")[0],[]),a._storeNames.push("$meta"));var w=a._createTransaction("readwrite",a._storeNames,p);w.create(c),w._completion.catch(f);var N=w._reject.bind(w),B=et.transless||et;Gr(function(){return et.trans=w,et.transless=B,s!==0?(cr(a,c),q=s,((V=w).storeNames.includes("$meta")?V.table("$meta").get("version").then(function(re){return re??q}):dt.resolve(q)).then(function(re){return he=re,ce=w,de=c,be=[],re=(K=a)._versions,ye=K._dbSchema=Zr(0,K.idbdb,de),(re=re.filter(function(Ae){return Ae._cfg.version>=he})).length!==0?(re.forEach(function(Ae){be.push(function(){var Me=ye,Fe=Ae._cfg.dbschema;ji(K,Me,de),ji(K,Fe,de),ye=K._dbSchema=Fe;var Re=ls(Me,Fe);Re.add.forEach(function(ot){hn(de,ot[0],ot[1].primKey,ot[1].indexes)}),Re.change.forEach(function(ot){if(ot.recreate)throw new Ve.Upgrade("Not yet support for changing primary key");var ft=de.objectStore(ot.name);ot.add.forEach(function(ut){return ha(ft,ut)}),ot.change.forEach(function(ut){ft.deleteIndex(ut.name),ha(ft,ut)}),ot.del.forEach(function(ut){return ft.deleteIndex(ut)})});var Qe=Ae._cfg.contentUpgrade;if(Qe&&Ae._cfg.version>he){cr(K,de),ce._memoizedTables={};var nt=W(Fe);Re.del.forEach(function(ot){nt[ot]=Me[ot]}),$a(K,[K.Transaction.prototype]),Ga(K,[K.Transaction.prototype],I(nt),nt),ce.schema=nt;var rt,at=le(Qe);return at&&kn(),Re=dt.follow(function(){var ot;(rt=Qe(ce))&&at&&(ot=er.bind(null,null),rt.then(ot,ot))}),rt&&typeof rt.then=="function"?dt.resolve(rt):Re.then(function(){return rt})}}),be.push(function(Me){var Fe,Re,Qe=Ae._cfg.dbschema;Fe=Qe,Re=Me,[].slice.call(Re.db.objectStoreNames).forEach(function(nt){return Fe[nt]==null&&Re.db.deleteObjectStore(nt)}),$a(K,[K.Transaction.prototype]),Ga(K,[K.Transaction.prototype],K._storeNames,K._dbSchema),ce.schema=K._dbSchema}),be.push(function(Me){K.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(K.idbdb.version/10)===Ae._cfg.version?(K.idbdb.deleteObjectStore("$meta"),delete K._dbSchema.$meta,K._storeNames=K._storeNames.filter(function(Fe){return Fe!=="$meta"})):Me.objectStore("$meta").put(Ae._cfg.version,"version"))})}),(function Ae(){return be.length?dt.resolve(be.shift()(ce.idbtrans)).then(Ae):dt.resolve()})().then(function(){us(ye,de)})):dt.resolve();var K,he,ce,de,be,ye}).catch(N)):(I(p).forEach(function(re){hn(c,re,p[re].primKey,p[re].indexes)}),cr(a,c),void dt.follow(function(){return a.on.populate.fire(w)}).catch(N));var V,q})}function Ds(a,s){us(a._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var c=Zr(0,a.idbdb,s);ji(a,a._dbSchema,s);for(var f=0,p=ls(c,a._dbSchema).change;f<p.length;f++){var w=(function(N){if(N.change.length||N.recreate)return console.warn("Unable to patch indexes of table ".concat(N.name," because it has changes on the type of index or primary key.")),{value:void 0};var B=s.objectStore(N.name);N.add.forEach(function(V){Ee&&console.debug("Dexie upgrade patch: Creating missing index ".concat(N.name,".").concat(V.src)),ha(B,V)})})(p[f]);if(typeof w=="object")return w.value}}function ls(a,s){var c,f={del:[],add:[],change:[]};for(c in a)s[c]||f.del.push(c);for(c in s){var p=a[c],w=s[c];if(p){var N={name:c,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(p.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||p.primKey.auto!==w.primKey.auto)N.recreate=!0,f.change.push(N);else{var B=p.idxByName,V=w.idxByName,q=void 0;for(q in B)V[q]||N.del.push(q);for(q in V){var re=B[q],K=V[q];re?re.src!==K.src&&N.change.push(K):N.add.push(K)}(0<N.del.length||0<N.add.length||0<N.change.length)&&f.change.push(N)}}else f.add.push([c,w])}return f}function hn(a,s,c,f){var p=a.db.createObjectStore(s,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return f.forEach(function(w){return ha(p,w)}),p}function us(a,s){I(a).forEach(function(c){s.db.objectStoreNames.contains(c)||(Ee&&console.debug("Dexie: Creating missing table",c),hn(s,c,a[c].primKey,a[c].indexes))})}function ha(a,s){a.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function Zr(a,s,c){var f={};return te(s.objectStoreNames,0).forEach(function(p){for(var w=c.objectStore(p),N=Fa(Ja(q=w.keyPath),q||"",!0,!1,!!w.autoIncrement,q&&typeof q!="string",!0),B=[],V=0;V<w.indexNames.length;++V){var re=w.index(w.indexNames[V]),q=re.keyPath,re=Fa(re.name,q,!!re.unique,!!re.multiEntry,!1,q&&typeof q!="string",!1);B.push(re)}f[p]=ta(p,N,B)}),f}function ji(a,s,c){for(var f=c.db.objectStoreNames,p=0;p<f.length;++p){var w=f[p],N=c.objectStore(w);a._hasGetAll="getAll"in N;for(var B=0;B<N.indexNames.length;++B){var V=N.indexNames[B],q=N.index(V).keyPath,re=typeof q=="string"?q:"["+te(q).join("+")+"]";!s[w]||(q=s[w].idxByName[re])&&(q.name=V,delete s[w].idxByName[re],s[w].idxByName[V]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_.WorkerGlobalScope&&_ instanceof _.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Ue(a){return a.split(",").map(function(s,c){var w=s.split(":"),f=(p=w[1])===null||p===void 0?void 0:p.trim(),p=(s=w[0].trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Fa(p,w||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),R(w),c===0,f)})}var Xt=(Gn.prototype._createTableSchema=ta,Gn.prototype._parseIndexSyntax=Ue,Gn.prototype._parseStoresSpec=function(a,s){var c=this;I(a).forEach(function(f){if(a[f]!==null){var p=c._parseIndexSyntax(a[f]),w=p.shift();if(!w)throw new Ve.Schema("Invalid schema for table "+f+": "+a[f]);if(w.unique=!0,w.multi)throw new Ve.Schema("Primary key cannot be multiEntry*");p.forEach(function(N){if(N.auto)throw new Ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!N.keyPath)throw new Ve.Schema("Index must have a name and cannot be an empty string")}),p=c._createTableSchema(f,w,p),s[f]=p}})},Gn.prototype.stores=function(c){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?S(this._cfg.storesSource,c):c;var c=s._versions,f={},p={};return c.forEach(function(w){S(f,w._cfg.storesSource),p=w._cfg.dbschema={},w._parseStoresSpec(f,p)}),s._dbSchema=p,$a(s,[s._allTables,s,s.Transaction.prototype]),Ga(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],I(p),p),s._storeNames=I(p),this},Gn.prototype.upgrade=function(a){return this._cfg.contentUpgrade=Ke(this._cfg.contentUpgrade||vt,a),this},Gn);function Gn(){}function Va(a,s){var c=a._dbNamesDB;return c||(c=a._dbNamesDB=new Zn(Pa,{addons:[],indexedDB:a,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Li(a){return a&&typeof a.databases=="function"}function cs(a){return Gr(function(){return et.letThrough=!0,a()})}function ds(a){return!("from"in a)}var pr=function(a,s){if(!this){var c=new pr;return a&&"d"in a&&S(c,a),c}S(this,arguments.length?{d:1,from:a,to:1<arguments.length?s:a}:{d:0})};function ma(a,s,c){var f=Yt(s,c);if(!isNaN(f)){if(0<f)throw RangeError();if(ds(a))return S(a,{from:s,to:c,d:1});var p=a.l,f=a.r;if(Yt(c,a.from)<0)return p?ma(p,s,c):a.l={from:s,to:c,d:1,l:null,r:null},ti(a);if(0<Yt(s,a.to))return f?ma(f,s,c):a.r={from:s,to:c,d:1,l:null,r:null},ti(a);Yt(s,a.from)<0&&(a.from=s,a.l=null,a.d=f?f.d+1:1),0<Yt(c,a.to)&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1),c=!a.r,p&&!a.l&&zn(a,p),f&&c&&zn(a,f)}}function zn(a,s){ds(s)||(function c(f,V){var w=V.from,N=V.to,B=V.l,V=V.r;ma(f,w,N),B&&c(f,B),V&&c(f,V)})(a,s)}function zi(a,s){var c=Sn(s),f=c.next();if(f.done)return!1;for(var p=f.value,w=Sn(a),N=w.next(p.from),B=N.value;!f.done&&!N.done;){if(Yt(B.from,p.to)<=0&&0<=Yt(B.to,p.from))return!0;Yt(p.from,B.from)<0?p=(f=c.next(B.from)).value:B=(N=w.next(p.from)).value}return!1}function Sn(a){var s=ds(a)?null:{s:0,n:a};return{next:function(c){for(var f=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,f)for(;s.n.l&&Yt(c,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!f||Yt(c,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function ti(a){var s,c,f=(((s=a.r)===null||s===void 0?void 0:s.d)||0)-(((c=a.l)===null||c===void 0?void 0:c.d)||0),p=1<f?"r":f<-1?"l":"";p&&(s=p=="r"?"l":"r",c=g({},a),f=a[p],a.from=f.from,a.to=f.to,a[p]=f[p],c[p]=f[s],(a[s]=c).d=ka(c)),a.d=ka(a)}function ka(c){var s=c.r,c=c.l;return(s?c?Math.max(s.d,c.d):s.d:c?c.d:0)+1}function mn(a,s){return I(s).forEach(function(c){a[c]?zn(a[c],s[c]):a[c]=(function f(p){var w,N,B={};for(w in p)D(p,w)&&(N=p[w],B[w]=!N||typeof N!="object"||me.has(N.constructor)?N:f(N));return B})(s[c])}),a}function Et(a,s){return a.all||s.all||Object.keys(a).some(function(c){return s[c]&&zi(s[c],a[c])})}F(pr.prototype,((dr={add:function(a){return zn(this,a),this},addKey:function(a){return ma(this,a,a),this},addKeys:function(a){var s=this;return a.forEach(function(c){return ma(s,c,c)}),this},hasKey:function(a){var s=Sn(this).next(a).value;return s&&Yt(s.from,a)<=0&&0<=Yt(s.to,a)}})[X]=function(){return Sn(this)},dr));var Xa={},wn={},ga=!1;function pa(a){mn(wn,a),ga||(ga=!0,setTimeout(function(){ga=!1,fs(wn,!(wn={}))},0))}function fs(a,s){s===void 0&&(s=!1);var c=new Set;if(a.all)for(var f=0,p=Object.values(Xa);f<p.length;f++)Wr(N=p[f],a,c,s);else for(var w in a){var N,B=/^idb\:\/\/(.*)\/(.*)\//.exec(w);B&&(w=B[1],B=B[2],(N=Xa["idb://".concat(w,"/").concat(B)])&&Wr(N,a,c,s))}c.forEach(function(V){return V()})}function Wr(a,s,c,f){for(var p=[],w=0,N=Object.entries(a.queries.query);w<N.length;w++){for(var B=N[w],V=B[0],q=[],re=0,K=B[1];re<K.length;re++){var he=K[re];Et(s,he.obsSet)?he.subscribers.forEach(function(ye){return c.add(ye)}):f&&q.push(he)}f&&p.push([V,q])}if(f)for(var ce=0,de=p;ce<de.length;ce++){var be=de[ce],V=be[0],q=be[1];a.queries.query[V]=q}}function gi(a){var s=a._state,c=a._deps.indexedDB;if(s.isBeingOpened||a.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?Ut(s.dbOpenError):a});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var f=s.openCanceller,p=Math.round(10*a.verno),w=!1;function N(){if(s.openCanceller!==f)throw new Ve.DatabaseClosed("db.open() was cancelled")}function B(){return new dt(function(he,ce){if(N(),!c)throw new Ve.MissingAPI;var de=a.name,be=s.autoSchema||!p?c.open(de):c.open(de,p);if(!be)throw new Ve.MissingAPI;be.onerror=gr(ce),be.onblocked=mt(a._fireOnBlocked),be.onupgradeneeded=mt(function(ye){var Ae;re=be.transaction,s.autoSchema&&!a._options.allowEmptyDB?(be.onerror=Lr,re.abort(),be.result.close(),(Ae=c.deleteDatabase(de)).onsuccess=Ae.onerror=mt(function(){ce(new Ve.NoSuchDatabase("Database ".concat(de," doesnt exist")))})):(re.onerror=gr(ce),ye=ye.oldVersion>Math.pow(2,62)?0:ye.oldVersion,K=ye<1,a.idbdb=be.result,w&&Ds(a,re),Bi(a,ye/10,re,ce))},ce),be.onsuccess=mt(function(){re=null;var ye,Ae,Me,Fe,Re,Qe=a.idbdb=be.result,nt=te(Qe.objectStoreNames);if(0<nt.length)try{var rt=Qe.transaction((Fe=nt).length===1?Fe[0]:Fe,"readonly");if(s.autoSchema)Ae=Qe,Me=rt,(ye=a).verno=Ae.version/10,Me=ye._dbSchema=Zr(0,Ae,Me),ye._storeNames=te(Ae.objectStoreNames,0),Ga(ye,[ye._allTables],I(Me),Me);else if(ji(a,a._dbSchema,rt),((Re=ls(Zr(0,(Re=a).idbdb,rt),Re._dbSchema)).add.length||Re.change.some(function(at){return at.add.length||at.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Qe.close(),p=Qe.version+1,w=!0,he(B());cr(a,rt)}catch{}Ze.push(a),Qe.onversionchange=mt(function(at){s.vcFired=!0,a.on("versionchange").fire(at)}),Qe.onclose=mt(function(at){a.on("close").fire(at)}),K&&(Re=a._deps,rt=de,Qe=Re.indexedDB,Re=Re.IDBKeyRange,Li(Qe)||rt===Pa||Va(Qe,Re).put({name:rt}).catch(vt)),he()},ce)}).catch(function(he){switch(he==null?void 0:he.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),B();break;case"VersionError":if(0<p)return p=0,B()}return dt.reject(he)})}var V,q=s.dbReadyResolve,re=null,K=!1;return dt.race([f,(typeof navigator>"u"?dt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(he){function ce(){return indexedDB.databases().finally(he)}V=setInterval(ce,100),ce()}).finally(function(){return clearInterval(V)}):Promise.resolve()).then(B)]).then(function(){return N(),s.onReadyBeingFired=[],dt.resolve(cs(function(){return a.on.ready.fire(a.vip)})).then(function he(){if(0<s.onReadyBeingFired.length){var ce=s.onReadyBeingFired.reduce(Ke,vt);return s.onReadyBeingFired=[],dt.resolve(cs(function(){return ce(a.vip)})).then(he)}})}).finally(function(){s.openCanceller===f&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(he){s.dbOpenError=he;try{re&&re.abort()}catch{}return f===s.openCanceller&&a._close(),Ut(he)}).finally(function(){s.openComplete=!0,q()}).then(function(){var he;return K&&(he={},a.tables.forEach(function(ce){ce.schema.indexes.forEach(function(de){de.name&&(he["idb://".concat(a.name,"/").concat(ce.name,"/").concat(de.name)]=new pr(-1/0,[[[]]]))}),he["idb://".concat(a.name,"/").concat(ce.name,"/")]=he["idb://".concat(a.name,"/").concat(ce.name,"/:dels")]=new pr(-1/0,[[[]]])}),It(wt).fire(he),fs(he,!0)),a})}function Ia(a){function s(w){return a.next(w)}var c=p(s),f=p(function(w){return a.throw(w)});function p(w){return function(V){var B=w(V),V=B.value;return B.done?V:V&&typeof V.then=="function"?V.then(c,f):R(V)?Promise.all(V).then(c,f):c(V)}}return p(s)()}function ni(a,s,c){for(var f=R(a)?a.slice():[a],p=0;p<c;++p)f.push(s);return f}var hs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return g(g({},a),{table:function(s){var c=a.table(s),f=c.schema,p={},w=[];function N(K,he,ce){var de=Vr(K),be=p[de]=p[de]||[],ye=K==null?0:typeof K=="string"?1:K.length,Ae=0<he,Ae=g(g({},ce),{name:Ae?"".concat(de,"(virtual-from:").concat(ce.name,")"):ce.name,lowLevelIndex:ce,isVirtual:Ae,keyTail:he,keyLength:ye,extractKey:na(K),unique:!Ae&&ce.unique});return be.push(Ae),Ae.isPrimaryKey||w.push(Ae),1<ye&&N(ye===2?K[0]:K.slice(0,ye-1),he+1,ce),be.sort(function(Me,Fe){return Me.keyTail-Fe.keyTail}),Ae}s=N(f.primaryKey.keyPath,0,f.primaryKey),p[":id"]=[s];for(var B=0,V=f.indexes;B<V.length;B++){var q=V[B];N(q.keyPath,0,q)}function re(K){var he,ce=K.query.index;return ce.isVirtual?g(g({},K),{query:{index:ce.lowLevelIndex,range:(he=K.query.range,ce=ce.keyTail,{type:he.type===1?2:he.type,lower:ni(he.lower,he.lowerOpen?a.MAX_KEY:a.MIN_KEY,ce),lowerOpen:!0,upper:ni(he.upper,he.upperOpen?a.MIN_KEY:a.MAX_KEY,ce),upperOpen:!0})}}):K}return g(g({},c),{schema:g(g({},f),{primaryKey:s,indexes:w,getIndexByKeyPath:function(K){return(K=p[Vr(K)])&&K[0]}}),count:function(K){return c.count(re(K))},query:function(K){return c.query(re(K))},openCursor:function(K){var he=K.query.index,ce=he.keyTail,de=he.isVirtual,be=he.keyLength;return de?c.openCursor(re(K)).then(function(Ae){return Ae&&ye(Ae)}):c.openCursor(K);function ye(Ae){return Object.create(Ae,{continue:{value:function(Me){Me!=null?Ae.continue(ni(Me,K.reverse?a.MAX_KEY:a.MIN_KEY,ce)):K.unique?Ae.continue(Ae.key.slice(0,be).concat(K.reverse?a.MIN_KEY:a.MAX_KEY,ce)):Ae.continue()}},continuePrimaryKey:{value:function(Me,Fe){Ae.continuePrimaryKey(ni(Me,a.MAX_KEY,ce),Fe)}},primaryKey:{get:function(){return Ae.primaryKey}},key:{get:function(){var Me=Ae.key;return be===1?Me[0]:Me.slice(0,be)}},value:{get:function(){return Ae.value}}})}}})}})}};function pi(a,s,c,f){return c=c||{},f=f||"",I(a).forEach(function(p){var w,N,B;D(s,p)?(w=a[p],N=s[p],typeof w=="object"&&typeof N=="object"&&w&&N?(B=$(w))!==$(N)?c[f+p]=s[p]:B==="Object"?pi(w,N,c,f+p+"."):w!==N&&(c[f+p]=s[p]):w!==N&&(c[f+p]=s[p])):c[f+p]=void 0}),I(s).forEach(function(p){D(a,p)||(c[f+p]=s[p])}),c}function Pi(a,s){return s.type==="delete"?s.keys:s.keys||s.values.map(a.extractKey)}var qa={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return g(g({},a),{table:function(s){var c=a.table(s),f=c.schema.primaryKey;return g(g({},c),{mutate:function(p){var w=et.trans,N=w.table(s).hook,B=N.deleting,V=N.creating,q=N.updating;switch(p.type){case"add":if(V.fire===vt)break;return w._promise("readwrite",function(){return re(p)},!0);case"put":if(V.fire===vt&&q.fire===vt)break;return w._promise("readwrite",function(){return re(p)},!0);case"delete":if(B.fire===vt)break;return w._promise("readwrite",function(){return re(p)},!0);case"deleteRange":if(B.fire===vt)break;return w._promise("readwrite",function(){return(function K(he,ce,de){return c.query({trans:he,values:!1,query:{index:f,range:ce},limit:de}).then(function(be){var ye=be.result;return re({type:"delete",keys:ye,trans:he}).then(function(Ae){return 0<Ae.numFailures?Promise.reject(Ae.failures[0]):ye.length<de?{failures:[],numFailures:0,lastResult:void 0}:K(he,g(g({},ce),{lower:ye[ye.length-1],lowerOpen:!0}),de)})})})(p.trans,p.range,1e4)},!0)}return c.mutate(p);function re(K){var he,ce,de,be=et.trans,ye=K.keys||Pi(f,K);if(!ye)throw new Error("Keys missing");return(K=K.type==="add"||K.type==="put"?g(g({},K),{keys:ye}):g({},K)).type!=="delete"&&(K.values=T([],K.values)),K.keys&&(K.keys=T([],K.keys)),he=c,de=ye,((ce=K).type==="add"?Promise.resolve([]):he.getMany({trans:ce.trans,keys:de,cache:"immutable"})).then(function(Ae){var Me=ye.map(function(Fe,Re){var Qe,nt,rt,at=Ae[Re],ot={onerror:null,onsuccess:null};return K.type==="delete"?B.fire.call(ot,Fe,at,be):K.type==="add"||at===void 0?(Qe=V.fire.call(ot,Fe,K.values[Re],be),Fe==null&&Qe!=null&&(K.keys[Re]=Fe=Qe,f.outbound||M(K.values[Re],f.keyPath,Fe))):(Qe=pi(at,K.values[Re]),(nt=q.fire.call(ot,Qe,Fe,at,be))&&(rt=K.values[Re],Object.keys(nt).forEach(function(ft){D(rt,ft)?rt[ft]=nt[ft]:M(rt,ft,nt[ft])}))),ot});return c.mutate(K).then(function(Fe){for(var Re=Fe.failures,Qe=Fe.results,nt=Fe.numFailures,Fe=Fe.lastResult,rt=0;rt<ye.length;++rt){var at=(Qe||ye)[rt],ot=Me[rt];at==null?ot.onerror&&ot.onerror(Re[rt]):ot.onsuccess&&ot.onsuccess(K.type==="put"&&Ae[rt]?K.values[rt]:at)}return{failures:Re,results:Qe,numFailures:nt,lastResult:Fe}}).catch(function(Fe){return Me.forEach(function(Re){return Re.onerror&&Re.onerror(Fe)}),Promise.reject(Fe)})})}}})}})}};function xi(a,s,c){try{if(!s||s.keys.length<a.length)return null;for(var f=[],p=0,w=0;p<s.keys.length&&w<a.length;++p)Yt(s.keys[p],a[w])===0&&(f.push(c?ge(s.values[p]):s.values[p]),++w);return f.length===a.length?f:null}catch{return null}}var ri={stack:"dbcore",level:-1,create:function(a){return{table:function(s){var c=a.table(s);return g(g({},c),{getMany:function(f){if(!f.cache)return c.getMany(f);var p=xi(f.keys,f.trans._cache,f.cache==="clone");return p?dt.resolve(p):c.getMany(f).then(function(w){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?ge(w):w},w})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),c.mutate(f)}})}}}};function ai(a,s){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function Ms(a,s){switch(a){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ra={stack:"dbcore",level:0,name:"Observability",create:function(a){var s=a.schema.name,c=new pr(a.MIN_KEY,a.MAX_KEY);return g(g({},a),{transaction:function(f,p,w){if(et.subscr&&p!=="readonly")throw new Ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return a.transaction(f,p,w)},table:function(f){var p=a.table(f),w=p.schema,N=w.primaryKey,K=w.indexes,B=N.extractKey,V=N.outbound,q=N.autoIncrement&&K.filter(function(ce){return ce.compound&&ce.keyPath.includes(N.keyPath)}),re=g(g({},p),{mutate:function(ce){function de(ft){return ft="idb://".concat(s,"/").concat(f,"/").concat(ft),Fe[ft]||(Fe[ft]=new pr)}var be,ye,Ae,Me=ce.trans,Fe=ce.mutatedParts||(ce.mutatedParts={}),Re=de(""),Qe=de(":dels"),nt=ce.type,ot=ce.type==="deleteRange"?[ce.range]:ce.type==="delete"?[ce.keys]:ce.values.length<50?[Pi(N,ce).filter(function(ft){return ft}),ce.values]:[],rt=ot[0],at=ot[1],ot=ce.trans._cache;return R(rt)?(Re.addKeys(rt),(ot=nt==="delete"||rt.length===at.length?xi(rt,ot):null)||Qe.addKeys(rt),(ot||at)&&(be=de,ye=ot,Ae=at,w.indexes.forEach(function(ft){var ut=be(ft.name||"");function Nt(Ft){return Ft!=null?ft.extractKey(Ft):null}function Kt(Ft){return ft.multiEntry&&R(Ft)?Ft.forEach(function(Un){return ut.addKey(Un)}):ut.addKey(Ft)}(ye||Ae).forEach(function(Ft,xr){var Lt=ye&&Nt(ye[xr]),xr=Ae&&Nt(Ae[xr]);Yt(Lt,xr)!==0&&(Lt!=null&&Kt(Lt),xr!=null&&Kt(xr))})}))):rt?(at={from:(at=rt.lower)!==null&&at!==void 0?at:a.MIN_KEY,to:(at=rt.upper)!==null&&at!==void 0?at:a.MAX_KEY},Qe.add(at),Re.add(at)):(Re.add(c),Qe.add(c),w.indexes.forEach(function(ft){return de(ft.name).add(c)})),p.mutate(ce).then(function(ft){return!rt||ce.type!=="add"&&ce.type!=="put"||(Re.addKeys(ft.results),q&&q.forEach(function(ut){for(var Nt=ce.values.map(function(Lt){return ut.extractKey(Lt)}),Kt=ut.keyPath.findIndex(function(Lt){return Lt===N.keyPath}),Ft=0,Un=ft.results.length;Ft<Un;++Ft)Nt[Ft][Kt]=ft.results[Ft];de(ut.name).addKeys(Nt)})),Me.mutatedParts=mn(Me.mutatedParts||{},Fe),ft})}}),K=function(de){var be=de.query,de=be.index,be=be.range;return[de,new pr((de=be.lower)!==null&&de!==void 0?de:a.MIN_KEY,(be=be.upper)!==null&&be!==void 0?be:a.MAX_KEY)]},he={get:function(ce){return[N,new pr(ce.key)]},getMany:function(ce){return[N,new pr().addKeys(ce.keys)]},count:K,query:K,openCursor:K};return I(he).forEach(function(ce){re[ce]=function(de){var be=et.subscr,ye=!!be,Ae=ai(et,p)&&Ms(ce,de)?de.obsSet={}:be;if(ye){var Me=function(at){return at="idb://".concat(s,"/").concat(f,"/").concat(at),Ae[at]||(Ae[at]=new pr)},Fe=Me(""),Re=Me(":dels"),be=he[ce](de),ye=be[0],be=be[1];if((ce==="query"&&ye.isPrimaryKey&&!de.values?Re:Me(ye.name||"")).add(be),!ye.isPrimaryKey){if(ce!=="count"){var Qe=ce==="query"&&V&&de.values&&p.query(g(g({},de),{values:!1}));return p[ce].apply(this,arguments).then(function(at){if(ce==="query"){if(V&&de.values)return Qe.then(function(Nt){return Nt=Nt.result,Fe.addKeys(Nt),at});var ot=de.values?at.result.map(B):at.result;(de.values?Fe:Re).addKeys(ot)}else if(ce==="openCursor"){var ft=at,ut=de.values;return ft&&Object.create(ft,{key:{get:function(){return Re.addKey(ft.primaryKey),ft.key}},primaryKey:{get:function(){var Nt=ft.primaryKey;return Re.addKey(Nt),Nt}},value:{get:function(){return ut&&Fe.addKey(ft.primaryKey),ft.value}}})}return at})}Re.add(c)}}return p[ce].apply(this,arguments)}}),re}})}};function ii(a,s,c){if(c.numFailures===0)return s;if(s.type==="deleteRange")return null;var f=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return c.numFailures===f?null:(s=g({},s),R(s.keys)&&(s.keys=s.keys.filter(function(p,w){return!(w in c.failures)})),"values"in s&&R(s.values)&&(s.values=s.values.filter(function(p,w){return!(w in c.failures)})),s)}function Sr(a,s){return c=a,((f=s).lower===void 0||(f.lowerOpen?0<Yt(c,f.lower):0<=Yt(c,f.lower)))&&(a=a,(s=s).upper===void 0||(s.upperOpen?Yt(a,s.upper)<0:Yt(a,s.upper)<=0));var c,f}function Ya(a,s,he,f,p,w){if(!he||he.length===0)return a;var N=s.query.index,B=N.multiEntry,V=s.query.range,q=f.schema.primaryKey.extractKey,re=N.extractKey,K=(N.lowLevelIndex||N).extractKey,he=he.reduce(function(ce,de){var be=ce,ye=[];if(de.type==="add"||de.type==="put")for(var Ae=new pr,Me=de.values.length-1;0<=Me;--Me){var Fe,Re=de.values[Me],Qe=q(Re);Ae.hasKey(Qe)||(Fe=re(Re),(B&&R(Fe)?Fe.some(function(ft){return Sr(ft,V)}):Sr(Fe,V))&&(Ae.addKey(Qe),ye.push(Re)))}switch(de.type){case"add":var nt=new pr().addKeys(s.values?ce.map(function(ut){return q(ut)}):ce),be=ce.concat(s.values?ye.filter(function(ut){return ut=q(ut),!nt.hasKey(ut)&&(nt.addKey(ut),!0)}):ye.map(function(ut){return q(ut)}).filter(function(ut){return!nt.hasKey(ut)&&(nt.addKey(ut),!0)}));break;case"put":var rt=new pr().addKeys(de.values.map(function(ut){return q(ut)}));be=ce.filter(function(ut){return!rt.hasKey(s.values?q(ut):ut)}).concat(s.values?ye:ye.map(function(ut){return q(ut)}));break;case"delete":var at=new pr().addKeys(de.keys);be=ce.filter(function(ut){return!at.hasKey(s.values?q(ut):ut)});break;case"deleteRange":var ot=de.range;be=ce.filter(function(ut){return!Sr(q(ut),ot)})}return be},a);return he===a?a:(he.sort(function(ce,de){return Yt(K(ce),K(de))||Yt(q(ce),q(de))}),s.limit&&s.limit<1/0&&(he.length>s.limit?he.length=s.limit:a.length===s.limit&&he.length<s.limit&&(p.dirty=!0)),w?Object.freeze(he):he)}function Nr(a,s){return Yt(a.lower,s.lower)===0&&Yt(a.upper,s.upper)===0&&!!a.lowerOpen==!!s.lowerOpen&&!!a.upperOpen==!!s.upperOpen}function uo(a,s){return(function(c,f,p,w){if(c===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=Yt(c,f))===0){if(p&&w)return 0;if(p)return 1;if(w)return-1}return f})(a.lower,s.lower,a.lowerOpen,s.lowerOpen)<=0&&0<=(function(c,f,p,w){if(c===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=Yt(c,f))===0){if(p&&w)return 0;if(p)return-1;if(w)return 1}return f})(a.upper,s.upper,a.upperOpen,s.upperOpen)}function si(a,s,c,f){a.subscribers.add(c),f.addEventListener("abort",function(){var p,w;a.subscribers.delete(c),a.subscribers.size===0&&(p=a,w=s,setTimeout(function(){p.subscribers.size===0&&Se(w,p)},3e3))})}var Bs={stack:"dbcore",level:0,name:"Cache",create:function(a){var s=a.schema.name;return g(g({},a),{transaction:function(c,f,p){var w,N,B=a.transaction(c,f,p);return f==="readwrite"&&(N=(w=new AbortController).signal,p=function(V){return function(){if(w.abort(),f==="readwrite"){for(var q=new Set,re=0,K=c;re<K.length;re++){var he=K[re],ce=Xa["idb://".concat(s,"/").concat(he)];if(ce){var de=a.table(he),be=ce.optimisticOps.filter(function(ut){return ut.trans===B});if(B._explicit&&V&&B.mutatedParts)for(var ye=0,Ae=Object.values(ce.queries.query);ye<Ae.length;ye++)for(var Me=0,Fe=(nt=Ae[ye]).slice();Me<Fe.length;Me++)Et((rt=Fe[Me]).obsSet,B.mutatedParts)&&(Se(nt,rt),rt.subscribers.forEach(function(ut){return q.add(ut)}));else if(0<be.length){ce.optimisticOps=ce.optimisticOps.filter(function(ut){return ut.trans!==B});for(var Re=0,Qe=Object.values(ce.queries.query);Re<Qe.length;Re++)for(var nt,rt,at,ot=0,ft=(nt=Qe[Re]).slice();ot<ft.length;ot++)(rt=ft[ot]).res!=null&&B.mutatedParts&&(V&&!rt.dirty?(at=Object.isFrozen(rt.res),at=Ya(rt.res,rt.req,be,de,rt,at),rt.dirty?(Se(nt,rt),rt.subscribers.forEach(function(ut){return q.add(ut)})):at!==rt.res&&(rt.res=at,rt.promise=dt.resolve({result:at}))):(rt.dirty&&Se(nt,rt),rt.subscribers.forEach(function(ut){return q.add(ut)})))}}}q.forEach(function(ut){return ut()})}}},B.addEventListener("abort",p(!1),{signal:N}),B.addEventListener("error",p(!1),{signal:N}),B.addEventListener("complete",p(!0),{signal:N})),B},table:function(c){var f=a.table(c),p=f.schema.primaryKey;return g(g({},f),{mutate:function(w){var N=et.trans;if(p.outbound||N.db._options.cache==="disabled"||N.explicit||N.idbtrans.mode!=="readwrite")return f.mutate(w);var B=Xa["idb://".concat(s,"/").concat(c)];return B?(N=f.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||Pi(p,w).some(function(V){return V==null}))?(B.optimisticOps.push(w),w.mutatedParts&&pa(w.mutatedParts),N.then(function(V){0<V.numFailures&&(Se(B.optimisticOps,w),(V=ii(0,w,V))&&B.optimisticOps.push(V),w.mutatedParts&&pa(w.mutatedParts))}),N.catch(function(){Se(B.optimisticOps,w),w.mutatedParts&&pa(w.mutatedParts)})):N.then(function(V){var q=ii(0,g(g({},w),{values:w.values.map(function(re,K){var he;return V.failures[K]?re:(re=(he=p.keyPath)!==null&&he!==void 0&&he.includes(".")?ge(re):g({},re),M(re,p.keyPath,V.results[K]),re)})}),V);B.optimisticOps.push(q),queueMicrotask(function(){return w.mutatedParts&&pa(w.mutatedParts)})}),N):f.mutate(w)},query:function(w){if(!ai(et,f)||!Ms("query",w))return f.query(w);var N=((q=et.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",K=et,B=K.requery,V=K.signal,q=(function(de,be,ye,Ae){var Me=Xa["idb://".concat(de,"/").concat(be)];if(!Me)return[];if(!(be=Me.queries[ye]))return[null,!1,Me,null];var Fe=be[(Ae.query?Ae.query.index.name:null)||""];if(!Fe)return[null,!1,Me,null];switch(ye){case"query":var Re=Fe.find(function(Qe){return Qe.req.limit===Ae.limit&&Qe.req.values===Ae.values&&Nr(Qe.req.query.range,Ae.query.range)});return Re?[Re,!0,Me,Fe]:[Fe.find(function(Qe){return("limit"in Qe.req?Qe.req.limit:1/0)>=Ae.limit&&(!Ae.values||Qe.req.values)&&uo(Qe.req.query.range,Ae.query.range)}),!1,Me,Fe];case"count":return Re=Fe.find(function(Qe){return Nr(Qe.req.query.range,Ae.query.range)}),[Re,!!Re,Me,Fe]}})(s,c,"query",w),re=q[0],K=q[1],he=q[2],ce=q[3];return re&&K?re.obsSet=w.obsSet:(K=f.query(w).then(function(de){var be=de.result;if(re&&(re.res=be),N){for(var ye=0,Ae=be.length;ye<Ae;++ye)Object.freeze(be[ye]);Object.freeze(be)}else de.result=ge(be);return de}).catch(function(de){return ce&&re&&Se(ce,re),Promise.reject(de)}),re={obsSet:w.obsSet,promise:K,subscribers:new Set,type:"query",req:w,dirty:!1},ce?ce.push(re):(ce=[re],(he=he||(Xa["idb://".concat(s,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=ce)),si(re,ce,B,V),re.promise.then(function(de){return{result:Ya(de.result,w,he==null?void 0:he.optimisticOps,f,re,N)}})}})}})}};function oi(a,s){return new Proxy(a,{get:function(c,f,p){return f==="db"?s:Reflect.get(c,f,p)}})}var Zn=(Pn.prototype.version=function(a){if(isNaN(a)||a<.1)throw new Ve.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new Ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var s=this._versions,c=s.filter(function(f){return f._cfg.version===a})[0];return c||(c=new this.Version(a),s.push(c),s.sort(ei),c.stores({}),this._state.autoSchema=!1,c)},Pn.prototype._whenReady=function(a){var s=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?a():new dt(function(c,f){if(s._state.openComplete)return f(new Ve.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void f(new Ve.DatabaseClosed);s.open().catch(vt)}s._state.dbReadyPromise.then(c,f)}).then(a)},Pn.prototype.use=function(a){var s=a.stack,c=a.create,f=a.level,p=a.name;return p&&this.unuse({stack:s,name:p}),a=this._middlewares[s]||(this._middlewares[s]=[]),a.push({stack:s,create:c,level:f??10,name:p}),a.sort(function(w,N){return w.level-N.level}),this},Pn.prototype.unuse=function(a){var s=a.stack,c=a.name,f=a.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(p){return f?p.create!==f:!!c&&p.name!==c})),this},Pn.prototype.open=function(){var a=this;return Ca(jt,function(){return gi(a)})},Pn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var a=this._state,s=Ze.indexOf(this);if(0<=s&&Ze.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new dt(function(c){a.dbReadyResolve=c}),a.openCanceller=new dt(function(c,f){a.cancelOpen=f}))},Pn.prototype.close=function(c){var s=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;s?(c.isBeingOpened&&c.cancelOpen(new Ve.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new Ve.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},Pn.prototype.delete=function(a){var s=this;a===void 0&&(a={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new dt(function(p,w){function N(){s.close(a);var B=s._deps.indexedDB.deleteDatabase(s.name);B.onsuccess=mt(function(){var V,q,re;V=s._deps,q=s.name,re=V.indexedDB,V=V.IDBKeyRange,Li(re)||q===Pa||Va(re,V).delete(q).catch(vt),p()}),B.onerror=gr(w),B.onblocked=s._fireOnBlocked}if(c)throw new Ve.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(N):N()})},Pn.prototype.backendDB=function(){return this.idbdb},Pn.prototype.isOpen=function(){return this.idbdb!==null},Pn.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Pn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pn.prototype,"tables",{get:function(){var a=this;return I(this._allTables).map(function(s){return a._allTables[s]})},enumerable:!1,configurable:!0}),Pn.prototype.transaction=function(){var a=(function(s,c,f){var p=arguments.length;if(p<2)throw new Ve.InvalidArgument("Too few arguments");for(var w=new Array(p-1);--p;)w[p-1]=arguments[p];return f=w.pop(),[s,ae(w),f]}).apply(this,arguments);return this._transaction.apply(this,a)},Pn.prototype._transaction=function(a,s,c){var f=this,p=et.trans;p&&p.db===this&&a.indexOf("!")===-1||(p=null);var w,N,B=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(N=s.map(function(q){if(q=q instanceof f.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),a=="r"||a===cn)w=cn;else{if(a!="rw"&&a!=ea)throw new Ve.InvalidArgument("Invalid transaction mode: "+a);w=ea}if(p){if(p.mode===cn&&w===ea){if(!B)throw new Ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");p=null}p&&N.forEach(function(q){if(p&&p.storeNames.indexOf(q)===-1){if(!B)throw new Ve.SubTransaction("Table "+q+" not included in parent transaction.");p=null}}),B&&p&&!p.active&&(p=null)}}catch(q){return p?p._promise(null,function(re,K){K(q)}):Ut(q)}var V=(function q(re,K,he,ce,de){return dt.resolve().then(function(){var be=et.transless||et,ye=re._createTransaction(K,he,re._dbSchema,ce);if(ye.explicit=!0,be={trans:ye,transless:be},ce)ye.idbtrans=ce.idbtrans;else try{ye.create(),ye.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(Fe){return Fe.name===$e.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return q(re,K,he,null,de)})):Ut(Fe)}var Ae,Me=le(de);return Me&&kn(),be=dt.follow(function(){var Fe;(Ae=de.call(ye,ye))&&(Me?(Fe=er.bind(null,null),Ae.then(Fe,Fe)):typeof Ae.next=="function"&&typeof Ae.throw=="function"&&(Ae=Ia(Ae)))},be),(Ae&&typeof Ae.then=="function"?dt.resolve(Ae).then(function(Fe){return ye.active?Fe:Ut(new Ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):be.then(function(){return Ae})).then(function(Fe){return ce&&ye._resolve(),ye._completion.then(function(){return Fe})}).catch(function(Fe){return ye._reject(Fe),Ut(Fe)})})}).bind(null,this,w,N,p,c);return p?p._promise(w,V,"lock"):et.trans?Ca(et.transless,function(){return f._whenReady(V)}):this._whenReady(V)},Pn.prototype.table=function(a){if(!D(this._allTables,a))throw new Ve.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Pn);function Pn(a,s){var c=this;this._middlewares={},this.verno=0;var f=Pn.dependencies;this._options=s=g({addons:Pn.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},f=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p,w,N,B,V,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:vt,dbReadyPromise:null,cancelOpen:vt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};q.dbReadyPromise=new dt(function(K){q.dbReadyResolve=K}),q.openCanceller=new dt(function(K,he){q.cancelOpen=he}),this._state=q,this.name=a,this.on=En(this,"populate","blocked","versionchange","close",{ready:[Ke,vt]}),this.once=function(K,he){var ce=function(){for(var de=[],be=0;be<arguments.length;be++)de[be]=arguments[be];c.on(K).unsubscribe(ce),he.apply(c,de)};return c.on(K,ce)},this.on.ready.subscribe=Q(this.on.ready.subscribe,function(K){return function(he,ce){Pn.vip(function(){var de,be=c._state;be.openComplete?(be.dbOpenError||dt.resolve().then(he),ce&&K(he)):be.onReadyBeingFired?(be.onReadyBeingFired.push(he),ce&&K(he)):(K(he),de=c,ce||K(function ye(){de.on.ready.unsubscribe(he),de.on.ready.unsubscribe(ye)}))})}}),this.Collection=(p=this,Cr(lo.prototype,function(Ae,ye){this.db=p;var ce=Qt,de=null;if(ye)try{ce=ye()}catch(Me){de=Me}var be=Ae._ctx,ye=be.table,Ae=ye.hook.reading.fire;this._ctx={table:ye,index:be.index,isPrimKey:!be.index||ye.schema.primKey.keyPath&&be.index===ye.schema.primKey.name,range:ce,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:de,or:be.or,valueMapper:Ae!==yt?Ae:null}})),this.Table=(w=this,Cr(ua.prototype,function(K,he,ce){this.db=w,this._tx=ce,this.name=K,this.schema=he,this.hook=w._allTables[K]?w._allTables[K].hook:En(null,{creating:[Pe,vt],reading:[z,yt],updating:[oe,vt],deleting:[fe,vt]})})),this.Transaction=(N=this,Cr(Xn.prototype,function(K,he,ce,de,be){var ye=this;K!=="readonly"&&he.forEach(function(Ae){Ae=(Ae=ce[Ae])===null||Ae===void 0?void 0:Ae.yProps,Ae&&(he=he.concat(Ae.map(function(Me){return Me.updatesTable})))}),this.db=N,this.mode=K,this.storeNames=he,this.schema=ce,this.chromeTransactionDurability=de,this.idbtrans=null,this.on=En(this,"complete","error","abort"),this.parent=be||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new dt(function(Ae,Me){ye._resolve=Ae,ye._reject=Me}),this._completion.then(function(){ye.active=!1,ye.on.complete.fire()},function(Ae){var Me=ye.active;return ye.active=!1,ye.on.error.fire(Ae),ye.parent?ye.parent._reject(Ae):Me&&ye.idbtrans&&ye.idbtrans.abort(),Ut(Ae)})})),this.Version=(B=this,Cr(Xt.prototype,function(K){this.db=B,this._cfg={version:K,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(V=this,Cr(Ua.prototype,function(K,he,ce){if(this.db=V,this._ctx={table:K,index:he===":id"?null:he,or:ce},this._cmp=this._ascending=Yt,this._descending=function(de,be){return Yt(be,de)},this._max=function(de,be){return 0<Yt(de,be)?de:be},this._min=function(de,be){return Yt(de,be)<0?de:be},this._IDBKeyRange=V._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ve.MissingAPI})),this.on("versionchange",function(K){0<K.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(K){!K.newVersion||K.newVersion<K.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(K.oldVersion/10))}),this._maxKey=Ta(s.IDBKeyRange),this._createTransaction=function(K,he,ce,de){return new c.Transaction(K,he,ce,c._options.chromeTransactionDurability,de)},this._fireOnBlocked=function(K){c.on("blocked").fire(K),Ze.filter(function(he){return he.name===c.name&&he!==c&&!he._state.vcFired}).map(function(he){return he.on("versionchange").fire(K)})},this.use(ri),this.use(Bs),this.use(Ra),this.use(hs),this.use(qa);var re=new Proxy(this,{get:function(K,he,ce){if(he==="_vip")return!0;if(he==="table")return function(be){return oi(c.table(be),re)};var de=Reflect.get(K,he,ce);return de instanceof ua?oi(de,re):he==="tables"?de.map(function(be){return oi(be,re)}):he==="_createTransaction"?function(){return oi(de.apply(this,arguments),re)}:de}});this.vip=re,f.forEach(function(K){return K(c)})}var Ka,dr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",an=(li.prototype.subscribe=function(a,s,c){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:s,complete:c})},li.prototype[dr]=function(){return this},li);function li(a){this._subscribe=a}try{Ka={indexedDB:_.indexedDB||_.mozIndexedDB||_.webkitIndexedDB||_.msIndexedDB,IDBKeyRange:_.IDBKeyRange||_.webkitIDBKeyRange}}catch{Ka={indexedDB:null,IDBKeyRange:null}}function G(a){var s,c=!1,f=new an(function(p){var w=le(a),N,B=!1,V={},q={},re={get closed(){return B},unsubscribe:function(){B||(B=!0,N&&N.abort(),K&&It.storagemutated.unsubscribe(ce))}};p.start&&p.start(re);var K=!1,he=function(){return Hn(de)},ce=function(be){mn(V,be),Et(q,V)&&he()},de=function(){var be,ye,Ae;!B&&Ka.indexedDB&&(V={},be={},N&&N.abort(),N=new AbortController,Ae=(function(Me){var Fe=_n();try{w&&kn();var Re=Gr(a,Me);return Re=w?Re.finally(er):Re}finally{Fe&&xn()}})(ye={subscr:be,signal:N.signal,requery:he,querier:a,trans:null}),Promise.resolve(Ae).then(function(Me){c=!0,s=Me,B||ye.signal.aborted||(V={},(function(Fe){for(var Re in Fe)if(D(Fe,Re))return;return 1})(q=be)||K||(It(wt,ce),K=!0),Hn(function(){return!B&&p.next&&p.next(Me)}))},function(Me){c=!1,["DatabaseClosedError","AbortError"].includes(Me==null?void 0:Me.name)||B||Hn(function(){B||p.error&&p.error(Me)})}))};return setTimeout(he,0),re});return f.hasValue=function(){return c},f.getValue=function(){return s},f}var t=Zn;function r(a){var s=l;try{l=!0,It.storagemutated.fire(a),fs(a,!0)}finally{l=s}}F(t,g(g({},Tt),{delete:function(a){return new t(a,{addons:[]}).delete()},exists:function(a){return new t(a,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return s=t.dependencies,c=s.indexedDB,s=s.IDBKeyRange,(Li(c)?Promise.resolve(c.databases()).then(function(f){return f.map(function(p){return p.name}).filter(function(p){return p!==Pa})}):Va(c,s).toCollection().primaryKeys()).then(a)}catch{return Ut(new Ve.MissingAPI)}var s,c},defineClass:function(){return function(a){S(this,a)}},ignoreTransaction:function(a){return et.trans?Ca(et.transless,a):a()},vip:cs,async:function(a){return function(){try{var s=Ia(a.apply(this,arguments));return s&&typeof s.then=="function"?s:dt.resolve(s)}catch(c){return Ut(c)}}},spawn:function(a,s,c){try{var f=Ia(a.apply(c,s||[]));return f&&typeof f.then=="function"?f:dt.resolve(f)}catch(p){return Ut(p)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(a,s){return s=dt.resolve(typeof a=="function"?t.ignoreTransaction(a):a).timeout(s||6e4),et.trans?et.trans.waitFor(s):s},Promise:dt,debug:{get:function(){return Ee},set:function(a){ke(a)}},derive:P,extend:S,props:F,override:Q,Events:En,on:It,liveQuery:G,extendObservabilitySet:mn,getByKeyPath:C,setByKeyPath:M,delByKeyPath:function(a,s){typeof s=="string"?M(a,s,void 0):"length"in s&&[].map.call(s,function(c){M(a,c,void 0)})},shallowClone:W,deepClone:ge,getObjectDiff:pi,cmp:Yt,asap:E,minKey:-1/0,addons:[],connections:Ze,errnames:$e,dependencies:Ka,cache:Xa,semVer:"4.2.0",version:"4.2.0".split(".").map(function(a){return parseInt(a)}).reduce(function(a,s,c){return a+s/Math.pow(10,2*c)})})),t.maxKey=Ta(t.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(It(wt,function(a){l||(a=new CustomEvent(Kr,{detail:a}),l=!0,dispatchEvent(a),l=!1)}),addEventListener(Kr,function(a){a=a.detail,l||r(a)}));var i,l=!1,u=function(){};return typeof BroadcastChannel<"u"&&((u=function(){(i=new BroadcastChannel(Kr)).onmessage=function(a){return a.data&&r(a.data)}})(),typeof i.unref=="function"&&i.unref(),It(wt,function(a){l||i.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Zn.disableBfCache&&a.persisted){Ee&&console.debug("Dexie: handling persisted pagehide"),i!=null&&i.close();for(var s=0,c=Ze;s<c.length;s++)c[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Zn.disableBfCache&&a.persisted&&(Ee&&console.debug("Dexie: handling persisted pageshow"),u(),r({all:new pr(-1/0,[[]])}))})),dt.rejectionMapper=function(a,s){return!a||a instanceof Ne||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Dt[a.name]?a:(s=new Dt[a.name](s||a.message,a),"stack"in a&&Y(s,"stack",{get:function(){return this.inner.stack}}),s)},ke(Ee),g(Zn,Object.freeze({__proto__:null,Dexie:Zn,liveQuery:G,Entity:qt,cmp:Yt,PropModification:jn,replacePrefix:function(a,s){return new jn({replacePrefix:[a,s]})},add:function(a){return new jn({add:a})},remove:function(a){return new jn({remove:a})},default:Zn,RangeSet:pr,mergeRanges:zn,rangesOverlap:zi}),{default:Zn}),Zn})})(Zl)),Zl.exports}var $m=Jm();const Wc=Rs($m),y0=Symbol.for("Dexie"),oo=globalThis[y0]||(globalThis[y0]=Wc);if(Wc.semVer!==oo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wc.semVer} and ${oo.semVer}`);const{liveQuery:Vx,mergeRanges:Xx,rangesOverlap:qx,RangeSet:Yx,cmp:Kx,Entity:Zx,PropModification:Wx,replacePrefix:Qx,add:Jx,remove:$x,DexieYProvider:e3}=oo;function eg(A,k,x){var g,T;typeof A=="function"?(g=k||[],T=x):(g=[],T=k);var _=pn.useRef({hasResult:!1,result:T,error:null}),I=pn.useReducer(function(y){return y+1},0);I[0];var R=I[1],S=pn.useMemo(function(){var y=typeof A=="function"?A():A;if(!y||typeof y.subscribe!="function")throw A===y?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!_.current.hasResult&&typeof window<"u"&&(typeof y.hasValue!="function"||y.hasValue()))if(typeof y.getValue=="function")_.current.result=y.getValue(),_.current.hasResult=!0;else{var O=y.subscribe(function(D){_.current.result=D,_.current.hasResult=!0});typeof O=="function"?O():O.unsubscribe()}return y},g);if(pn.useDebugValue(_.current.result),pn.useEffect(function(){var y=S.subscribe(function(O){var D=_.current;(D.error!==null||D.result!==O)&&(D.error=null,D.result=O,D.hasResult=!0,R())},function(O){var D=_.current;D.error!==O&&(D.error=O,R())});return typeof y=="function"?y:y.unsubscribe.bind(y)},g),_.current.error)throw _.current.error;return _.current.result}function au(A,k,x){return eg(function(){return oo.liveQuery(A)},k||[],x)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(A){var k=oo.DexieYProvider;k&&k.release(A)});const Pt=new oo("StaticLinkDB");Pt.version(1).stores({bundles:"id, title, createdAt, updatedAt"});Pt.version(2).stores({bundles:"id, title, createdAt, updatedAt, isArchived"});Pt.version(3).stores({bundles:"id, title, createdAt, updatedAt, isArchived, isDeleted"});const iu=()=>{const A=au(async()=>(await Pt.bundles.toArray()).filter(m=>m.isDeleted!==!0).sort((m,E)=>{const C=m.updatedAt?new Date(m.updatedAt).getTime():0,M=E.updatedAt?new Date(E.updatedAt).getTime():0;return(isNaN(M)?0:M)-(isNaN(C)?0:C)}),[]),k=Le.useCallback(async te=>{const Q={id:crypto.randomUUID(),title:te,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),items:[]};return await Pt.bundles.add(Q),Q.id},[]),x=Le.useCallback(async te=>{const Q={...te,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await Pt.bundles.add(Q),Q.id},[]),g=Le.useCallback(async te=>{const Q=await Pt.bundles.get(te);if(Q){const m={...JSON.parse(JSON.stringify(Q)),id:crypto.randomUUID(),title:`${Q.title} (Copy)`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isDeleted:!1,deletedAt:void 0};await Pt.bundles.add(m)}},[]),T=Le.useCallback(async(te,Q)=>{await Pt.transaction("rw","bundles",async()=>{const m=await Pt.bundles.get(te);if(m){const E={...m,...Q,updatedAt:new Date().toISOString()};await Pt.bundles.put(E)}})},[]),_=Le.useCallback(async te=>{await Pt.transaction("rw","bundles",async()=>{const Q=await Pt.bundles.get(te);Q&&await Pt.bundles.put({...Q,isDeleted:!0,deletedAt:new Date().toISOString(),isPinned:!1})})},[]),I=Le.useCallback(async te=>{await Pt.transaction("rw","bundles",async()=>{const Q=await Pt.bundles.where("id").anyOf(Array.from(te)).toArray();for(const m of Q)m.isDeleted=!0,m.deletedAt=new Date().toISOString(),m.isPinned=!1;await Pt.bundles.bulkPut(Q)})},[]),R=Le.useCallback(async te=>{await Pt.transaction("rw","bundles",async()=>{const Q=await Pt.bundles.where("id").anyOf(Array.from(te)).toArray();for(const m of Q)m.isArchived=!0,m.isPinned=!1;await Pt.bundles.bulkPut(Q)})},[]),S=Le.useCallback(async te=>{await Pt.transaction("rw","bundles",async()=>{const Q=await Pt.bundles.get(te);Q&&await Pt.bundles.put({...Q,isDeleted:!1,deletedAt:void 0})})},[]),y=Le.useCallback(async te=>{await Pt.bundles.delete(te)},[]),O=Le.useCallback(async(te,Q)=>{const E=(await Pt.bundles.where("id").anyOf(te).toArray()).flatMap(W=>W.items),C=JSON.parse(JSON.stringify(E)),M={id:crypto.randomUUID(),title:Q,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),items:C};return await Pt.bundles.add(M),M.id},[]),D=Le.useCallback(async(te,Q)=>{await Pt.transaction("rw","bundles",async()=>{const m=await Pt.bundles.get(te);m&&(m.items.push(Q),m.updatedAt=new Date().toISOString(),await Pt.bundles.put(m))})},[]),F=Le.useCallback(async(te,Q)=>{await Pt.transaction("rw","bundles",async()=>{const m=await Pt.bundles.get(te);m&&(m.items.push(...Q),m.updatedAt=new Date().toISOString(),await Pt.bundles.put(m))})},[]),L=Le.useCallback(async(te,Q,m)=>{await Pt.transaction("rw","bundles",async()=>{const E=await Pt.bundles.get(te);if(E){const C=E.items.findIndex(M=>M.id===Q);C>-1&&(E.items[C]={...E.items[C],...m},E.updatedAt=new Date().toISOString(),await Pt.bundles.put(E))}})},[]),Y=Le.useCallback(async(te,Q)=>{await Pt.transaction("rw","bundles",async()=>{const m=await Pt.bundles.get(te);if(m){const E=m.items.findIndex(C=>C.id===Q);if(E>-1){const C=m.items[E],M={...JSON.parse(JSON.stringify(C)),id:crypto.randomUUID(),createdAt:new Date().toISOString(),title:`${C.title} (Copy)`,isPinned:!1};m.items.splice(E+1,0,M),m.updatedAt=new Date().toISOString(),await Pt.bundles.put(m)}}})},[]),P=Le.useCallback(async(te,Q)=>{await Pt.transaction("rw","bundles",async()=>{const m=await Pt.bundles.get(te);m&&(m.items=m.items.filter(E=>E.id!==Q),m.updatedAt=new Date().toISOString(),await Pt.bundles.put(m))})},[]),Z=Le.useCallback(async(te,Q)=>{await Pt.transaction("rw","bundles",async()=>{const m=await Pt.bundles.get(te);m&&(m.items=m.items.filter(E=>!Q.has(E.id)),m.updatedAt=new Date().toISOString(),await Pt.bundles.put(m))})},[]),ee=Le.useCallback(async(te,Q,m)=>{await Pt.transaction("rw","bundles",async()=>{const E=await Pt.bundles.get(te);if(E){const[C]=E.items.splice(Q,1);E.items.splice(m,0,C),E.updatedAt=new Date().toISOString(),await Pt.bundles.put(E)}})},[]);return{bundles:A,addBundle:k,importBundle:x,duplicateBundle:g,updateBundle:T,deleteBundle:_,deleteBundles:I,archiveBundles:R,restoreBundle:S,permanentlyDeleteBundle:y,mergeBundles:O,addItemToBundle:D,addItemsToBundle:F,updateItemInBundle:L,duplicateItemInBundle:Y,removeItemFromBundle:P,removeItemsFromBundle:Z,moveItemInBundle:ee}};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=A=>A.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ng=A=>A.replace(/^([A-Z])|[\s-_]+(\w)/g,(k,x,g)=>g?g.toUpperCase():x.toLowerCase()),b0=A=>{const k=ng(A);return k.charAt(0).toUpperCase()+k.slice(1)},P0=(...A)=>A.filter((k,x,g)=>!!k&&k.trim()!==""&&g.indexOf(k)===x).join(" ").trim(),rg=A=>{for(const k in A)if(k.startsWith("aria-")||k==="role"||k==="title")return!0};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ag={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Le.forwardRef(({color:A="currentColor",size:k=24,strokeWidth:x=2,absoluteStrokeWidth:g,className:T="",children:_,iconNode:I,...R},S)=>Le.createElement("svg",{ref:S,...ag,width:k,height:k,stroke:A,strokeWidth:g?Number(x)*24/Number(k):x,className:P0("lucide",T),...!_&&!rg(R)&&{"aria-hidden":"true"},...R},[...I.map(([y,O])=>Le.createElement(y,O)),...Array.isArray(_)?_:[_]]));/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(A,k)=>{const x=Le.forwardRef(({className:g,...T},_)=>Le.createElement(ig,{ref:_,iconNode:k,className:P0(`lucide-${tg(b0(A))}`,`lucide-${A}`,g),...T}));return x.displayName=b0(A),x};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],og=Gt("archive",sg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ug=Gt("arrow-left",lg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],dg=Gt("bold",cg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],hg=Gt("bookmark-plus",fg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gg=Gt("check",mg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],xg=Gt("clipboard-copy",pg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],bg=Gt("code-xml",yg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],vg=Gt("code",wg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Ag=Gt("contact",_g);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Cg=Gt("copy",Eg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ng=Gt("download",Sg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Og=Gt("ellipsis-vertical",Tg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Ig=Gt("file-code",kg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dg=Gt("file-text",Rg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Bg=Gt("file",Mg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Lg=Gt("grip-vertical",jg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Pg=Gt("history",zg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fg=Gt("house",Ug);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Gg=Gt("image",Hg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Xg=Gt("italic",Vg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yg=Gt("link",qg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Zg=Gt("list-checks",Kg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Qg=Gt("list",Wg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],$g=Gt("lock-open",Jg);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],t2=Gt("lock",e2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],r2=Gt("mail",n2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],i2=Gt("map-pin",a2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],o2=Gt("mic",s2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],u2=Gt("monitor",l2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],d2=Gt("moon",c2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],h2=Gt("notebook-text",f2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],g2=Gt("package",m2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],x2=Gt("palette",p2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],b2=Gt("pin-off",y2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],v2=Gt("pin",w2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],A2=Gt("plus",_2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],U0=Gt("qr-code",E2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],S2=Gt("quote",C2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],T2=Gt("search",N2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],k2=Gt("share-2",O2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],F0=Gt("square-pen",I2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D2=Gt("sun",R2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],B2=Gt("target",M2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],L2=Gt("trash-2",j2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],P2=Gt("trash",z2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F2=Gt("upload",U2);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G2=Gt("x",H2),H0=A=>v.jsx(Bg,{...A}),id=A=>v.jsx(Yg,{...A}),sd=A=>v.jsx(h2,{...A}),Ts=A=>v.jsx(A2,{...A}),Wl=A=>v.jsx(L2,{...A}),G0=A=>v.jsx(Ng,{...A}),V2=A=>v.jsx(U0,{...A}),Os=A=>v.jsx(ug,{...A}),$l=A=>v.jsx(Cg,{...A}),V0=A=>v.jsx(gg,{...A}),X2=A=>v.jsx(g2,{...A}),Kc=A=>v.jsx(F2,{...A}),ks=A=>v.jsx(G2,{...A}),X0=A=>v.jsx(F0,{...A}),od=A=>v.jsx(Og,{...A}),Qc=A=>v.jsx(k2,{...A}),q2=A=>v.jsx(D2,{...A}),Y2=A=>v.jsx(d2,{...A}),K2=A=>v.jsx(u2,{...A}),q0=A=>v.jsx(T2,{...A}),ld=A=>v.jsx(o2,{...A}),su=A=>v.jsx(Zg,{...A}),Y0=A=>v.jsx(Ag,{...A}),K0=A=>v.jsx(i2,{...A}),Z0=A=>v.jsx(F0,{...A}),W0=A=>v.jsx(r2,{...A}),Q0=A=>v.jsx(Gg,{...A}),J0=A=>v.jsx(Dg,{...A}),$0=A=>v.jsx(bg,{...A}),Z2=A=>v.jsx(B2,{...A}),e1=A=>v.jsx(t2,{...A}),W2=A=>v.jsx($g,{...A}),Q2=A=>v.jsx(Ig,{...A}),J2=A=>v.jsx(Lg,{...A}),Jc=A=>v.jsx(v2,{...A}),t1=A=>v.jsx(b2,{...A}),$c=A=>v.jsx(og,{...A}),$2=A=>v.jsx(x2,{...A}),n1=A=>v.jsx(hg,{...A}),ep=A=>v.jsx(dg,{...A}),tp=A=>v.jsx(Xg,{...A}),np=A=>v.jsx(vg,{...A}),rp=A=>v.jsx(S2,{...A}),ap=A=>v.jsx(Qg,{...A}),ip=A=>v.jsx(Pg,{...A}),sp=A=>v.jsx(P2,{...A}),op=A=>v.jsx(xg,{...A}),lp=A=>v.jsx(Fg,{...A}),ud=A=>v.jsx(U0,{...A});var lt=(A=>(A.LINK="link",A.NOTE="note",A.FILE="file",A.AUDIO="audio",A.CHECKLIST="checklist",A.CONTACT="contact",A.LOCATION="location",A.DRAWING="drawing",A.EMAIL="email",A.CODE="code",A.QR_CODE="qr_code",A))(lt||{}),Ri=(A=>(A.HOME="home",A.EDITOR="editor",A.SHARE="share",A.BOOKMARKLET="bookmarklet",A))(Ri||{});const za=({isOpen:A,onClose:k,title:x,children:g,footer:T})=>A?v.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex justify-center items-center backdrop-blur-sm","aria-modal":"true",role:"dialog",onClick:k,children:v.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-2xl w-full max-w-md m-4 transform transition-all",onClick:_=>_.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border",children:[v.jsx("h3",{className:"text-xl font-semibold text-card-foreground",children:x}),v.jsx("button",{onClick:k,className:"text-muted-foreground hover:text-foreground","aria-label":"Close modal",children:v.jsx(ks,{size:24})})]}),v.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:g}),T&&v.jsx("div",{className:"flex justify-end gap-3 p-4 bg-muted/50 border-t border-border rounded-b-lg",children:T})]})}):null;function Kl(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var w0;function up(){return w0||(w0=1,(function(A,k){(function(x){A.exports=x()})(function(){return(function x(g,T,_){function I(y,O){if(!T[y]){if(!g[y]){var D=typeof Kl=="function"&&Kl;if(!O&&D)return D(y,!0);if(R)return R(y,!0);var F=new Error("Cannot find module '"+y+"'");throw F.code="MODULE_NOT_FOUND",F}var L=T[y]={exports:{}};g[y][0].call(L.exports,function(Y){var P=g[y][1][Y];return I(P||Y)},L,L.exports,x,g,T,_)}return T[y].exports}for(var R=typeof Kl=="function"&&Kl,S=0;S<_.length;S++)I(_[S]);return I})({1:[function(x,g,T){var _=x("./utils"),I=x("./support"),R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";T.encode=function(S){for(var y,O,D,F,L,Y,P,Z=[],ee=0,te=S.length,Q=te,m=_.getTypeOf(S)!=="string";ee<S.length;)Q=te-ee,D=m?(y=S[ee++],O=ee<te?S[ee++]:0,ee<te?S[ee++]:0):(y=S.charCodeAt(ee++),O=ee<te?S.charCodeAt(ee++):0,ee<te?S.charCodeAt(ee++):0),F=y>>2,L=(3&y)<<4|O>>4,Y=1<Q?(15&O)<<2|D>>6:64,P=2<Q?63&D:64,Z.push(R.charAt(F)+R.charAt(L)+R.charAt(Y)+R.charAt(P));return Z.join("")},T.decode=function(S){var y,O,D,F,L,Y,P=0,Z=0,ee="data:";if(S.substr(0,ee.length)===ee)throw new Error("Invalid base64 input, it looks like a data url.");var te,Q=3*(S=S.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(S.charAt(S.length-1)===R.charAt(64)&&Q--,S.charAt(S.length-2)===R.charAt(64)&&Q--,Q%1!=0)throw new Error("Invalid base64 input, bad content length.");for(te=I.uint8array?new Uint8Array(0|Q):new Array(0|Q);P<S.length;)y=R.indexOf(S.charAt(P++))<<2|(F=R.indexOf(S.charAt(P++)))>>4,O=(15&F)<<4|(L=R.indexOf(S.charAt(P++)))>>2,D=(3&L)<<6|(Y=R.indexOf(S.charAt(P++))),te[Z++]=y,L!==64&&(te[Z++]=O),Y!==64&&(te[Z++]=D);return te}},{"./support":30,"./utils":32}],2:[function(x,g,T){var _=x("./external"),I=x("./stream/DataWorker"),R=x("./stream/Crc32Probe"),S=x("./stream/DataLengthProbe");function y(O,D,F,L,Y){this.compressedSize=O,this.uncompressedSize=D,this.crc32=F,this.compression=L,this.compressedContent=Y}y.prototype={getContentWorker:function(){var O=new I(_.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new S("data_length")),D=this;return O.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),O},getCompressedWorker:function(){return new I(_.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(O,D,F){return O.pipe(new R).pipe(new S("uncompressedSize")).pipe(D.compressWorker(F)).pipe(new S("compressedSize")).withStreamInfo("compression",D)},g.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(x,g,T){var _=x("./stream/GenericWorker");T.STORE={magic:"\0\0",compressWorker:function(){return new _("STORE compression")},uncompressWorker:function(){return new _("STORE decompression")}},T.DEFLATE=x("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(x,g,T){var _=x("./utils"),I=(function(){for(var R,S=[],y=0;y<256;y++){R=y;for(var O=0;O<8;O++)R=1&R?3988292384^R>>>1:R>>>1;S[y]=R}return S})();g.exports=function(R,S){return R!==void 0&&R.length?_.getTypeOf(R)!=="string"?(function(y,O,D,F){var L=I,Y=F+D;y^=-1;for(var P=F;P<Y;P++)y=y>>>8^L[255&(y^O[P])];return-1^y})(0|S,R,R.length,0):(function(y,O,D,F){var L=I,Y=F+D;y^=-1;for(var P=F;P<Y;P++)y=y>>>8^L[255&(y^O.charCodeAt(P))];return-1^y})(0|S,R,R.length,0):0}},{"./utils":32}],5:[function(x,g,T){T.base64=!1,T.binary=!1,T.dir=!1,T.createFolders=!0,T.date=null,T.compression=null,T.compressionOptions=null,T.comment=null,T.unixPermissions=null,T.dosPermissions=null},{}],6:[function(x,g,T){var _=null;_=typeof Promise<"u"?Promise:x("lie"),g.exports={Promise:_}},{lie:37}],7:[function(x,g,T){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",I=x("pako"),R=x("./utils"),S=x("./stream/GenericWorker"),y=_?"uint8array":"array";function O(D,F){S.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=F,this.meta={}}T.magic="\b\0",R.inherits(O,S),O.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(R.transformTo(y,D.data),!1)},O.prototype.flush=function(){S.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},O.prototype.cleanUp=function(){S.prototype.cleanUp.call(this),this._pako=null},O.prototype._createPako=function(){this._pako=new I[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(F){D.push({data:F,meta:D.meta})}},T.compressWorker=function(D){return new O("Deflate",D)},T.uncompressWorker=function(){return new O("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(x,g,T){function _(L,Y){var P,Z="";for(P=0;P<Y;P++)Z+=String.fromCharCode(255&L),L>>>=8;return Z}function I(L,Y,P,Z,ee,te){var Q,m,E=L.file,C=L.compression,M=te!==y.utf8encode,W=R.transformTo("string",te(E.name)),H=R.transformTo("string",y.utf8encode(E.name)),ae=E.comment,me=R.transformTo("string",te(ae)),J=R.transformTo("string",y.utf8encode(ae)),ge=H.length!==E.name.length,j=J.length!==ae.length,$="",X="",ie="",Se=E.dir,_e=E.date,se={crc32:0,compressedSize:0,uncompressedSize:0};Y&&!P||(se.crc32=L.crc32,se.compressedSize=L.compressedSize,se.uncompressedSize=L.uncompressedSize);var le=0;Y&&(le|=8),M||!ge&&!j||(le|=2048);var pe=0,Ne=0;Se&&(pe|=16),ee==="UNIX"?(Ne=798,pe|=(function(Be,ze){var $e=Be;return Be||($e=ze?16893:33204),(65535&$e)<<16})(E.unixPermissions,Se)):(Ne=20,pe|=(function(Be){return 63&(Be||0)})(E.dosPermissions)),Q=_e.getUTCHours(),Q<<=6,Q|=_e.getUTCMinutes(),Q<<=5,Q|=_e.getUTCSeconds()/2,m=_e.getUTCFullYear()-1980,m<<=4,m|=_e.getUTCMonth()+1,m<<=5,m|=_e.getUTCDate(),ge&&(X=_(1,1)+_(O(W),4)+H,$+="up"+_(X.length,2)+X),j&&(ie=_(1,1)+_(O(me),4)+J,$+="uc"+_(ie.length,2)+ie);var De="";return De+=`
\0`,De+=_(le,2),De+=C.magic,De+=_(Q,2),De+=_(m,2),De+=_(se.crc32,4),De+=_(se.compressedSize,4),De+=_(se.uncompressedSize,4),De+=_(W.length,2),De+=_($.length,2),{fileRecord:D.LOCAL_FILE_HEADER+De+W+$,dirRecord:D.CENTRAL_FILE_HEADER+_(Ne,2)+De+_(me.length,2)+"\0\0\0\0"+_(pe,4)+_(Z,4)+W+$+me}}var R=x("../utils"),S=x("../stream/GenericWorker"),y=x("../utf8"),O=x("../crc32"),D=x("../signature");function F(L,Y,P,Z){S.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Y,this.zipPlatform=P,this.encodeFileName=Z,this.streamFiles=L,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}R.inherits(F,S),F.prototype.push=function(L){var Y=L.meta.percent||0,P=this.entriesCount,Z=this._sources.length;this.accumulate?this.contentBuffer.push(L):(this.bytesWritten+=L.data.length,S.prototype.push.call(this,{data:L.data,meta:{currentFile:this.currentFile,percent:P?(Y+100*(P-Z-1))/P:100}}))},F.prototype.openedSource=function(L){this.currentSourceOffset=this.bytesWritten,this.currentFile=L.file.name;var Y=this.streamFiles&&!L.file.dir;if(Y){var P=I(L,Y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:P.fileRecord,meta:{percent:0}})}else this.accumulate=!0},F.prototype.closedSource=function(L){this.accumulate=!1;var Y=this.streamFiles&&!L.file.dir,P=I(L,Y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(P.dirRecord),Y)this.push({data:(function(Z){return D.DATA_DESCRIPTOR+_(Z.crc32,4)+_(Z.compressedSize,4)+_(Z.uncompressedSize,4)})(L),meta:{percent:100}});else for(this.push({data:P.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},F.prototype.flush=function(){for(var L=this.bytesWritten,Y=0;Y<this.dirRecords.length;Y++)this.push({data:this.dirRecords[Y],meta:{percent:100}});var P=this.bytesWritten-L,Z=(function(ee,te,Q,m,E){var C=R.transformTo("string",E(m));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+_(ee,2)+_(ee,2)+_(te,4)+_(Q,4)+_(C.length,2)+C})(this.dirRecords.length,P,L,this.zipComment,this.encodeFileName);this.push({data:Z,meta:{percent:100}})},F.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},F.prototype.registerPrevious=function(L){this._sources.push(L);var Y=this;return L.on("data",function(P){Y.processChunk(P)}),L.on("end",function(){Y.closedSource(Y.previous.streamInfo),Y._sources.length?Y.prepareNextSource():Y.end()}),L.on("error",function(P){Y.error(P)}),this},F.prototype.resume=function(){return!!S.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},F.prototype.error=function(L){var Y=this._sources;if(!S.prototype.error.call(this,L))return!1;for(var P=0;P<Y.length;P++)try{Y[P].error(L)}catch{}return!0},F.prototype.lock=function(){S.prototype.lock.call(this);for(var L=this._sources,Y=0;Y<L.length;Y++)L[Y].lock()},g.exports=F},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(x,g,T){var _=x("../compressions"),I=x("./ZipFileWorker");T.generateWorker=function(R,S,y){var O=new I(S.streamFiles,y,S.platform,S.encodeFileName),D=0;try{R.forEach(function(F,L){D++;var Y=(function(te,Q){var m=te||Q,E=_[m];if(!E)throw new Error(m+" is not a valid compression method !");return E})(L.options.compression,S.compression),P=L.options.compressionOptions||S.compressionOptions||{},Z=L.dir,ee=L.date;L._compressWorker(Y,P).withStreamInfo("file",{name:F,dir:Z,date:ee,comment:L.comment||"",unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions}).pipe(O)}),O.entriesCount=D}catch(F){O.error(F)}return O}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(x,g,T){function _(){if(!(this instanceof _))return new _;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var I=new _;for(var R in this)typeof this[R]!="function"&&(I[R]=this[R]);return I}}(_.prototype=x("./object")).loadAsync=x("./load"),_.support=x("./support"),_.defaults=x("./defaults"),_.version="3.10.1",_.loadAsync=function(I,R){return new _().loadAsync(I,R)},_.external=x("./external"),g.exports=_},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(x,g,T){var _=x("./utils"),I=x("./external"),R=x("./utf8"),S=x("./zipEntries"),y=x("./stream/Crc32Probe"),O=x("./nodejsUtils");function D(F){return new I.Promise(function(L,Y){var P=F.decompressed.getContentWorker().pipe(new y);P.on("error",function(Z){Y(Z)}).on("end",function(){P.streamInfo.crc32!==F.decompressed.crc32?Y(new Error("Corrupted zip : CRC32 mismatch")):L()}).resume()})}g.exports=function(F,L){var Y=this;return L=_.extend(L||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:R.utf8decode}),O.isNode&&O.isStream(F)?I.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):_.prepareContent("the loaded zip file",F,!0,L.optimizedBinaryString,L.base64).then(function(P){var Z=new S(L);return Z.load(P),Z}).then(function(P){var Z=[I.Promise.resolve(P)],ee=P.files;if(L.checkCRC32)for(var te=0;te<ee.length;te++)Z.push(D(ee[te]));return I.Promise.all(Z)}).then(function(P){for(var Z=P.shift(),ee=Z.files,te=0;te<ee.length;te++){var Q=ee[te],m=Q.fileNameStr,E=_.resolve(Q.fileNameStr);Y.file(E,Q.decompressed,{binary:!0,optimizedBinaryString:!0,date:Q.date,dir:Q.dir,comment:Q.fileCommentStr.length?Q.fileCommentStr:null,unixPermissions:Q.unixPermissions,dosPermissions:Q.dosPermissions,createFolders:L.createFolders}),Q.dir||(Y.file(E).unsafeOriginalName=m)}return Z.zipComment.length&&(Y.comment=Z.zipComment),Y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(x,g,T){var _=x("../utils"),I=x("../stream/GenericWorker");function R(S,y){I.call(this,"Nodejs stream input adapter for "+S),this._upstreamEnded=!1,this._bindStream(y)}_.inherits(R,I),R.prototype._bindStream=function(S){var y=this;(this._stream=S).pause(),S.on("data",function(O){y.push({data:O,meta:{percent:0}})}).on("error",function(O){y.isPaused?this.generatedError=O:y.error(O)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},R.prototype.pause=function(){return!!I.prototype.pause.call(this)&&(this._stream.pause(),!0)},R.prototype.resume=function(){return!!I.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=R},{"../stream/GenericWorker":28,"../utils":32}],13:[function(x,g,T){var _=x("readable-stream").Readable;function I(R,S,y){_.call(this,S),this._helper=R;var O=this;R.on("data",function(D,F){O.push(D)||O._helper.pause(),y&&y(F)}).on("error",function(D){O.emit("error",D)}).on("end",function(){O.push(null)})}x("../utils").inherits(I,_),I.prototype._read=function(){this._helper.resume()},g.exports=I},{"../utils":32,"readable-stream":16}],14:[function(x,g,T){g.exports={isNode:typeof Buffer<"u",newBufferFrom:function(_,I){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(_,I);if(typeof _=="number")throw new Error('The "data" argument must not be a number');return new Buffer(_,I)},allocBuffer:function(_){if(Buffer.alloc)return Buffer.alloc(_);var I=new Buffer(_);return I.fill(0),I},isBuffer:function(_){return Buffer.isBuffer(_)},isStream:function(_){return _&&typeof _.on=="function"&&typeof _.pause=="function"&&typeof _.resume=="function"}}},{}],15:[function(x,g,T){function _(E,C,M){var W,H=R.getTypeOf(C),ae=R.extend(M||{},O);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(E=ee(E)),ae.createFolders&&(W=Z(E))&&te.call(this,W,!0);var me=H==="string"&&ae.binary===!1&&ae.base64===!1;M&&M.binary!==void 0||(ae.binary=!me),(C instanceof D&&C.uncompressedSize===0||ae.dir||!C||C.length===0)&&(ae.base64=!1,ae.binary=!0,C="",ae.compression="STORE",H="string");var J=null;J=C instanceof D||C instanceof S?C:Y.isNode&&Y.isStream(C)?new P(E,C):R.prepareContent(E,C,ae.binary,ae.optimizedBinaryString,ae.base64);var ge=new F(E,J,ae);this.files[E]=ge}var I=x("./utf8"),R=x("./utils"),S=x("./stream/GenericWorker"),y=x("./stream/StreamHelper"),O=x("./defaults"),D=x("./compressedObject"),F=x("./zipObject"),L=x("./generate"),Y=x("./nodejsUtils"),P=x("./nodejs/NodejsStreamInputAdapter"),Z=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var C=E.lastIndexOf("/");return 0<C?E.substring(0,C):""},ee=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},te=function(E,C){return C=C!==void 0?C:O.createFolders,E=ee(E),this.files[E]||_.call(this,E,null,{dir:!0,createFolders:C}),this.files[E]};function Q(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var C,M,W;for(C in this.files)W=this.files[C],(M=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&E(M,W)},filter:function(E){var C=[];return this.forEach(function(M,W){E(M,W)&&C.push(W)}),C},file:function(E,C,M){if(arguments.length!==1)return E=this.root+E,_.call(this,E,C,M),this;if(Q(E)){var W=E;return this.filter(function(ae,me){return!me.dir&&W.test(ae)})}var H=this.files[this.root+E];return H&&!H.dir?H:null},folder:function(E){if(!E)return this;if(Q(E))return this.filter(function(H,ae){return ae.dir&&E.test(H)});var C=this.root+E,M=te.call(this,C),W=this.clone();return W.root=M.name,W},remove:function(E){E=this.root+E;var C=this.files[E];if(C||(E.slice(-1)!=="/"&&(E+="/"),C=this.files[E]),C&&!C.dir)delete this.files[E];else for(var M=this.filter(function(H,ae){return ae.name.slice(0,E.length)===E}),W=0;W<M.length;W++)delete this.files[M[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var C,M={};try{if((M=R.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:I.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");R.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var W=M.comment||this.comment||"";C=L.generateWorker(this,M,W)}catch(H){(C=new S("error")).error(H)}return new y(C,M.type||"string",M.mimeType)},generateAsync:function(E,C){return this.generateInternalStream(E).accumulate(C)},generateNodeStream:function(E,C){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(C)}};g.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(x,g,T){g.exports=x("stream")},{stream:void 0}],17:[function(x,g,T){var _=x("./DataReader");function I(R){_.call(this,R);for(var S=0;S<this.data.length;S++)R[S]=255&R[S]}x("../utils").inherits(I,_),I.prototype.byteAt=function(R){return this.data[this.zero+R]},I.prototype.lastIndexOfSignature=function(R){for(var S=R.charCodeAt(0),y=R.charCodeAt(1),O=R.charCodeAt(2),D=R.charCodeAt(3),F=this.length-4;0<=F;--F)if(this.data[F]===S&&this.data[F+1]===y&&this.data[F+2]===O&&this.data[F+3]===D)return F-this.zero;return-1},I.prototype.readAndCheckSignature=function(R){var S=R.charCodeAt(0),y=R.charCodeAt(1),O=R.charCodeAt(2),D=R.charCodeAt(3),F=this.readData(4);return S===F[0]&&y===F[1]&&O===F[2]&&D===F[3]},I.prototype.readData=function(R){if(this.checkOffset(R),R===0)return[];var S=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,S},g.exports=I},{"../utils":32,"./DataReader":18}],18:[function(x,g,T){var _=x("../utils");function I(R){this.data=R,this.length=R.length,this.index=0,this.zero=0}I.prototype={checkOffset:function(R){this.checkIndex(this.index+R)},checkIndex:function(R){if(this.length<this.zero+R||R<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+R+"). Corrupted zip ?")},setIndex:function(R){this.checkIndex(R),this.index=R},skip:function(R){this.setIndex(this.index+R)},byteAt:function(){},readInt:function(R){var S,y=0;for(this.checkOffset(R),S=this.index+R-1;S>=this.index;S--)y=(y<<8)+this.byteAt(S);return this.index+=R,y},readString:function(R){return _.transformTo("string",this.readData(R))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var R=this.readInt(4);return new Date(Date.UTC(1980+(R>>25&127),(R>>21&15)-1,R>>16&31,R>>11&31,R>>5&63,(31&R)<<1))}},g.exports=I},{"../utils":32}],19:[function(x,g,T){var _=x("./Uint8ArrayReader");function I(R){_.call(this,R)}x("../utils").inherits(I,_),I.prototype.readData=function(R){this.checkOffset(R);var S=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,S},g.exports=I},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(x,g,T){var _=x("./DataReader");function I(R){_.call(this,R)}x("../utils").inherits(I,_),I.prototype.byteAt=function(R){return this.data.charCodeAt(this.zero+R)},I.prototype.lastIndexOfSignature=function(R){return this.data.lastIndexOf(R)-this.zero},I.prototype.readAndCheckSignature=function(R){return R===this.readData(4)},I.prototype.readData=function(R){this.checkOffset(R);var S=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,S},g.exports=I},{"../utils":32,"./DataReader":18}],21:[function(x,g,T){var _=x("./ArrayReader");function I(R){_.call(this,R)}x("../utils").inherits(I,_),I.prototype.readData=function(R){if(this.checkOffset(R),R===0)return new Uint8Array(0);var S=this.data.subarray(this.zero+this.index,this.zero+this.index+R);return this.index+=R,S},g.exports=I},{"../utils":32,"./ArrayReader":17}],22:[function(x,g,T){var _=x("../utils"),I=x("../support"),R=x("./ArrayReader"),S=x("./StringReader"),y=x("./NodeBufferReader"),O=x("./Uint8ArrayReader");g.exports=function(D){var F=_.getTypeOf(D);return _.checkSupport(F),F!=="string"||I.uint8array?F==="nodebuffer"?new y(D):I.uint8array?new O(_.transformTo("uint8array",D)):new R(_.transformTo("array",D)):new S(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(x,g,T){T.LOCAL_FILE_HEADER="PK",T.CENTRAL_FILE_HEADER="PK",T.CENTRAL_DIRECTORY_END="PK",T.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",T.ZIP64_CENTRAL_DIRECTORY_END="PK",T.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(x,g,T){var _=x("./GenericWorker"),I=x("../utils");function R(S){_.call(this,"ConvertWorker to "+S),this.destType=S}I.inherits(R,_),R.prototype.processChunk=function(S){this.push({data:I.transformTo(this.destType,S.data),meta:S.meta})},g.exports=R},{"../utils":32,"./GenericWorker":28}],25:[function(x,g,T){var _=x("./GenericWorker"),I=x("../crc32");function R(){_.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}x("../utils").inherits(R,_),R.prototype.processChunk=function(S){this.streamInfo.crc32=I(S.data,this.streamInfo.crc32||0),this.push(S)},g.exports=R},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(x,g,T){var _=x("../utils"),I=x("./GenericWorker");function R(S){I.call(this,"DataLengthProbe for "+S),this.propName=S,this.withStreamInfo(S,0)}_.inherits(R,I),R.prototype.processChunk=function(S){if(S){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+S.data.length}I.prototype.processChunk.call(this,S)},g.exports=R},{"../utils":32,"./GenericWorker":28}],27:[function(x,g,T){var _=x("../utils"),I=x("./GenericWorker");function R(S){I.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,S.then(function(O){y.dataIsReady=!0,y.data=O,y.max=O&&O.length||0,y.type=_.getTypeOf(O),y.isPaused||y._tickAndRepeat()},function(O){y.error(O)})}_.inherits(R,I),R.prototype.cleanUp=function(){I.prototype.cleanUp.call(this),this.data=null},R.prototype.resume=function(){return!!I.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,_.delay(this._tickAndRepeat,[],this)),!0)},R.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(_.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},R.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var S=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":S=this.data.substring(this.index,y);break;case"uint8array":S=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":S=this.data.slice(this.index,y)}return this.index=y,this.push({data:S,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=R},{"../utils":32,"./GenericWorker":28}],28:[function(x,g,T){function _(I){this.name=I||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}_.prototype={push:function(I){this.emit("data",I)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(I){this.emit("error",I)}return!0},error:function(I){return!this.isFinished&&(this.isPaused?this.generatedError=I:(this.isFinished=!0,this.emit("error",I),this.previous&&this.previous.error(I),this.cleanUp()),!0)},on:function(I,R){return this._listeners[I].push(R),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(I,R){if(this._listeners[I])for(var S=0;S<this._listeners[I].length;S++)this._listeners[I][S].call(this,R)},pipe:function(I){return I.registerPrevious(this)},registerPrevious:function(I){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=I.streamInfo,this.mergeStreamInfo(),this.previous=I;var R=this;return I.on("data",function(S){R.processChunk(S)}),I.on("end",function(){R.end()}),I.on("error",function(S){R.error(S)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var I=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),I=!0),this.previous&&this.previous.resume(),!I},flush:function(){},processChunk:function(I){this.push(I)},withStreamInfo:function(I,R){return this.extraStreamInfo[I]=R,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var I in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,I)&&(this.streamInfo[I]=this.extraStreamInfo[I])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var I="Worker "+this.name;return this.previous?this.previous+" -> "+I:I}},g.exports=_},{}],29:[function(x,g,T){var _=x("../utils"),I=x("./ConvertWorker"),R=x("./GenericWorker"),S=x("../base64"),y=x("../support"),O=x("../external"),D=null;if(y.nodestream)try{D=x("../nodejs/NodejsStreamOutputAdapter")}catch{}function F(Y,P){return new O.Promise(function(Z,ee){var te=[],Q=Y._internalType,m=Y._outputType,E=Y._mimeType;Y.on("data",function(C,M){te.push(C),P&&P(M)}).on("error",function(C){te=[],ee(C)}).on("end",function(){try{var C=(function(M,W,H){switch(M){case"blob":return _.newBlob(_.transformTo("arraybuffer",W),H);case"base64":return S.encode(W);default:return _.transformTo(M,W)}})(m,(function(M,W){var H,ae=0,me=null,J=0;for(H=0;H<W.length;H++)J+=W[H].length;switch(M){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(me=new Uint8Array(J),H=0;H<W.length;H++)me.set(W[H],ae),ae+=W[H].length;return me;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+M+"'")}})(Q,te),E);Z(C)}catch(M){ee(M)}te=[]}).resume()})}function L(Y,P,Z){var ee=P;switch(P){case"blob":case"arraybuffer":ee="uint8array";break;case"base64":ee="string"}try{this._internalType=ee,this._outputType=P,this._mimeType=Z,_.checkSupport(ee),this._worker=Y.pipe(new I(ee)),Y.lock()}catch(te){this._worker=new R("error"),this._worker.error(te)}}L.prototype={accumulate:function(Y){return F(this,Y)},on:function(Y,P){var Z=this;return Y==="data"?this._worker.on(Y,function(ee){P.call(Z,ee.data,ee.meta)}):this._worker.on(Y,function(){_.delay(P,arguments,Z)}),this},resume:function(){return _.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Y){if(_.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},Y)}},g.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(x,g,T){if(T.base64=!0,T.array=!0,T.string=!0,T.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",T.nodebuffer=typeof Buffer<"u",T.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")T.blob=!1;else{var _=new ArrayBuffer(0);try{T.blob=new Blob([_],{type:"application/zip"}).size===0}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);I.append(_),T.blob=I.getBlob("application/zip").size===0}catch{T.blob=!1}}}try{T.nodestream=!!x("readable-stream").Readable}catch{T.nodestream=!1}},{"readable-stream":16}],31:[function(x,g,T){for(var _=x("./utils"),I=x("./support"),R=x("./nodejsUtils"),S=x("./stream/GenericWorker"),y=new Array(256),O=0;O<256;O++)y[O]=252<=O?6:248<=O?5:240<=O?4:224<=O?3:192<=O?2:1;y[254]=y[254]=1;function D(){S.call(this,"utf-8 decode"),this.leftOver=null}function F(){S.call(this,"utf-8 encode")}T.utf8encode=function(L){return I.nodebuffer?R.newBufferFrom(L,"utf-8"):(function(Y){var P,Z,ee,te,Q,m=Y.length,E=0;for(te=0;te<m;te++)(64512&(Z=Y.charCodeAt(te)))==55296&&te+1<m&&(64512&(ee=Y.charCodeAt(te+1)))==56320&&(Z=65536+(Z-55296<<10)+(ee-56320),te++),E+=Z<128?1:Z<2048?2:Z<65536?3:4;for(P=I.uint8array?new Uint8Array(E):new Array(E),te=Q=0;Q<E;te++)(64512&(Z=Y.charCodeAt(te)))==55296&&te+1<m&&(64512&(ee=Y.charCodeAt(te+1)))==56320&&(Z=65536+(Z-55296<<10)+(ee-56320),te++),Z<128?P[Q++]=Z:(Z<2048?P[Q++]=192|Z>>>6:(Z<65536?P[Q++]=224|Z>>>12:(P[Q++]=240|Z>>>18,P[Q++]=128|Z>>>12&63),P[Q++]=128|Z>>>6&63),P[Q++]=128|63&Z);return P})(L)},T.utf8decode=function(L){return I.nodebuffer?_.transformTo("nodebuffer",L).toString("utf-8"):(function(Y){var P,Z,ee,te,Q=Y.length,m=new Array(2*Q);for(P=Z=0;P<Q;)if((ee=Y[P++])<128)m[Z++]=ee;else if(4<(te=y[ee]))m[Z++]=65533,P+=te-1;else{for(ee&=te===2?31:te===3?15:7;1<te&&P<Q;)ee=ee<<6|63&Y[P++],te--;1<te?m[Z++]=65533:ee<65536?m[Z++]=ee:(ee-=65536,m[Z++]=55296|ee>>10&1023,m[Z++]=56320|1023&ee)}return m.length!==Z&&(m.subarray?m=m.subarray(0,Z):m.length=Z),_.applyFromCharCode(m)})(L=_.transformTo(I.uint8array?"uint8array":"array",L))},_.inherits(D,S),D.prototype.processChunk=function(L){var Y=_.transformTo(I.uint8array?"uint8array":"array",L.data);if(this.leftOver&&this.leftOver.length){if(I.uint8array){var P=Y;(Y=new Uint8Array(P.length+this.leftOver.length)).set(this.leftOver,0),Y.set(P,this.leftOver.length)}else Y=this.leftOver.concat(Y);this.leftOver=null}var Z=(function(te,Q){var m;for((Q=Q||te.length)>te.length&&(Q=te.length),m=Q-1;0<=m&&(192&te[m])==128;)m--;return m<0||m===0?Q:m+y[te[m]]>Q?m:Q})(Y),ee=Y;Z!==Y.length&&(I.uint8array?(ee=Y.subarray(0,Z),this.leftOver=Y.subarray(Z,Y.length)):(ee=Y.slice(0,Z),this.leftOver=Y.slice(Z,Y.length))),this.push({data:T.utf8decode(ee),meta:L.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:T.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},T.Utf8DecodeWorker=D,_.inherits(F,S),F.prototype.processChunk=function(L){this.push({data:T.utf8encode(L.data),meta:L.meta})},T.Utf8EncodeWorker=F},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(x,g,T){var _=x("./support"),I=x("./base64"),R=x("./nodejsUtils"),S=x("./external");function y(P){return P}function O(P,Z){for(var ee=0;ee<P.length;++ee)Z[ee]=255&P.charCodeAt(ee);return Z}x("setimmediate"),T.newBlob=function(P,Z){T.checkSupport("blob");try{return new Blob([P],{type:Z})}catch{try{var ee=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ee.append(P),ee.getBlob(Z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(P,Z,ee){var te=[],Q=0,m=P.length;if(m<=ee)return String.fromCharCode.apply(null,P);for(;Q<m;)Z==="array"||Z==="nodebuffer"?te.push(String.fromCharCode.apply(null,P.slice(Q,Math.min(Q+ee,m)))):te.push(String.fromCharCode.apply(null,P.subarray(Q,Math.min(Q+ee,m)))),Q+=ee;return te.join("")},stringifyByChar:function(P){for(var Z="",ee=0;ee<P.length;ee++)Z+=String.fromCharCode(P[ee]);return Z},applyCanBeUsed:{uint8array:(function(){try{return _.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return _.nodebuffer&&String.fromCharCode.apply(null,R.allocBuffer(1)).length===1}catch{return!1}})()}};function F(P){var Z=65536,ee=T.getTypeOf(P),te=!0;if(ee==="uint8array"?te=D.applyCanBeUsed.uint8array:ee==="nodebuffer"&&(te=D.applyCanBeUsed.nodebuffer),te)for(;1<Z;)try{return D.stringifyByChunk(P,ee,Z)}catch{Z=Math.floor(Z/2)}return D.stringifyByChar(P)}function L(P,Z){for(var ee=0;ee<P.length;ee++)Z[ee]=P[ee];return Z}T.applyFromCharCode=F;var Y={};Y.string={string:y,array:function(P){return O(P,new Array(P.length))},arraybuffer:function(P){return Y.string.uint8array(P).buffer},uint8array:function(P){return O(P,new Uint8Array(P.length))},nodebuffer:function(P){return O(P,R.allocBuffer(P.length))}},Y.array={string:F,array:y,arraybuffer:function(P){return new Uint8Array(P).buffer},uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return R.newBufferFrom(P)}},Y.arraybuffer={string:function(P){return F(new Uint8Array(P))},array:function(P){return L(new Uint8Array(P),new Array(P.byteLength))},arraybuffer:y,uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return R.newBufferFrom(new Uint8Array(P))}},Y.uint8array={string:F,array:function(P){return L(P,new Array(P.length))},arraybuffer:function(P){return P.buffer},uint8array:y,nodebuffer:function(P){return R.newBufferFrom(P)}},Y.nodebuffer={string:F,array:function(P){return L(P,new Array(P.length))},arraybuffer:function(P){return Y.nodebuffer.uint8array(P).buffer},uint8array:function(P){return L(P,new Uint8Array(P.length))},nodebuffer:y},T.transformTo=function(P,Z){if(Z=Z||"",!P)return Z;T.checkSupport(P);var ee=T.getTypeOf(Z);return Y[ee][P](Z)},T.resolve=function(P){for(var Z=P.split("/"),ee=[],te=0;te<Z.length;te++){var Q=Z[te];Q==="."||Q===""&&te!==0&&te!==Z.length-1||(Q===".."?ee.pop():ee.push(Q))}return ee.join("/")},T.getTypeOf=function(P){return typeof P=="string"?"string":Object.prototype.toString.call(P)==="[object Array]"?"array":_.nodebuffer&&R.isBuffer(P)?"nodebuffer":_.uint8array&&P instanceof Uint8Array?"uint8array":_.arraybuffer&&P instanceof ArrayBuffer?"arraybuffer":void 0},T.checkSupport=function(P){if(!_[P.toLowerCase()])throw new Error(P+" is not supported by this platform")},T.MAX_VALUE_16BITS=65535,T.MAX_VALUE_32BITS=-1,T.pretty=function(P){var Z,ee,te="";for(ee=0;ee<(P||"").length;ee++)te+="\\x"+((Z=P.charCodeAt(ee))<16?"0":"")+Z.toString(16).toUpperCase();return te},T.delay=function(P,Z,ee){setImmediate(function(){P.apply(ee||null,Z||[])})},T.inherits=function(P,Z){function ee(){}ee.prototype=Z.prototype,P.prototype=new ee},T.extend=function(){var P,Z,ee={};for(P=0;P<arguments.length;P++)for(Z in arguments[P])Object.prototype.hasOwnProperty.call(arguments[P],Z)&&ee[Z]===void 0&&(ee[Z]=arguments[P][Z]);return ee},T.prepareContent=function(P,Z,ee,te,Q){return S.Promise.resolve(Z).then(function(m){return _.blob&&(m instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(m))!==-1)&&typeof FileReader<"u"?new S.Promise(function(E,C){var M=new FileReader;M.onload=function(W){E(W.target.result)},M.onerror=function(W){C(W.target.error)},M.readAsArrayBuffer(m)}):m}).then(function(m){var E=T.getTypeOf(m);return E?(E==="arraybuffer"?m=T.transformTo("uint8array",m):E==="string"&&(Q?m=I.decode(m):ee&&te!==!0&&(m=(function(C){return O(C,_.uint8array?new Uint8Array(C.length):new Array(C.length))})(m))),m):S.Promise.reject(new Error("Can't read the data of '"+P+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(x,g,T){var _=x("./reader/readerFor"),I=x("./utils"),R=x("./signature"),S=x("./zipEntry"),y=x("./support");function O(D){this.files=[],this.loadOptions=D}O.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var F=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+I.pretty(F)+", expected "+I.pretty(D)+")")}},isSignature:function(D,F){var L=this.reader.index;this.reader.setIndex(D);var Y=this.reader.readString(4)===F;return this.reader.setIndex(L),Y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),F=y.uint8array?"uint8array":"array",L=I.transformTo(F,D);this.zipComment=this.loadOptions.decodeFileName(L)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,F,L,Y=this.zip64EndOfCentralSize-44;0<Y;)D=this.reader.readInt(2),F=this.reader.readInt(4),L=this.reader.readData(F),this.zip64ExtensibleData[D]={id:D,length:F,value:L}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,F;for(D=0;D<this.files.length;D++)F=this.files[D],this.reader.setIndex(F.localHeaderOffset),this.checkSignature(R.LOCAL_FILE_HEADER),F.readLocalPart(this.reader),F.handleUTF8(),F.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(R.CENTRAL_FILE_HEADER);)(D=new S({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(R.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,R.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var F=D;if(this.checkSignature(R.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===I.MAX_VALUE_16BITS||this.diskWithCentralDirStart===I.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===I.MAX_VALUE_16BITS||this.centralDirRecords===I.MAX_VALUE_16BITS||this.centralDirSize===I.MAX_VALUE_32BITS||this.centralDirOffset===I.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(R.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(R.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,R.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(R.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(R.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var L=this.centralDirOffset+this.centralDirSize;this.zip64&&(L+=20,L+=12+this.zip64EndOfCentralSize);var Y=F-L;if(0<Y)this.isSignature(F,R.CENTRAL_FILE_HEADER)||(this.reader.zero=Y);else if(Y<0)throw new Error("Corrupted zip: missing "+Math.abs(Y)+" bytes.")},prepareReader:function(D){this.reader=_(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=O},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(x,g,T){var _=x("./reader/readerFor"),I=x("./utils"),R=x("./compressedObject"),S=x("./crc32"),y=x("./utf8"),O=x("./compressions"),D=x("./support");function F(L,Y){this.options=L,this.loadOptions=Y}F.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(L){var Y,P;if(L.skip(22),this.fileNameLength=L.readInt(2),P=L.readInt(2),this.fileName=L.readData(this.fileNameLength),L.skip(P),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Y=(function(Z){for(var ee in O)if(Object.prototype.hasOwnProperty.call(O,ee)&&O[ee].magic===Z)return O[ee];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+I.pretty(this.compressionMethod)+" unknown (inner file : "+I.transformTo("string",this.fileName)+")");this.decompressed=new R(this.compressedSize,this.uncompressedSize,this.crc32,Y,L.readData(this.compressedSize))},readCentralPart:function(L){this.versionMadeBy=L.readInt(2),L.skip(2),this.bitFlag=L.readInt(2),this.compressionMethod=L.readString(2),this.date=L.readDate(),this.crc32=L.readInt(4),this.compressedSize=L.readInt(4),this.uncompressedSize=L.readInt(4);var Y=L.readInt(2);if(this.extraFieldsLength=L.readInt(2),this.fileCommentLength=L.readInt(2),this.diskNumberStart=L.readInt(2),this.internalFileAttributes=L.readInt(2),this.externalFileAttributes=L.readInt(4),this.localHeaderOffset=L.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");L.skip(Y),this.readExtraFields(L),this.parseZIP64ExtraField(L),this.fileComment=L.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var L=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),L==0&&(this.dosPermissions=63&this.externalFileAttributes),L==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var L=_(this.extraFields[1].value);this.uncompressedSize===I.MAX_VALUE_32BITS&&(this.uncompressedSize=L.readInt(8)),this.compressedSize===I.MAX_VALUE_32BITS&&(this.compressedSize=L.readInt(8)),this.localHeaderOffset===I.MAX_VALUE_32BITS&&(this.localHeaderOffset=L.readInt(8)),this.diskNumberStart===I.MAX_VALUE_32BITS&&(this.diskNumberStart=L.readInt(4))}},readExtraFields:function(L){var Y,P,Z,ee=L.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});L.index+4<ee;)Y=L.readInt(2),P=L.readInt(2),Z=L.readData(P),this.extraFields[Y]={id:Y,length:P,value:Z};L.setIndex(ee)},handleUTF8:function(){var L=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var Y=this.findExtraFieldUnicodePath();if(Y!==null)this.fileNameStr=Y;else{var P=I.transformTo(L,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(P)}var Z=this.findExtraFieldUnicodeComment();if(Z!==null)this.fileCommentStr=Z;else{var ee=I.transformTo(L,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ee)}}},findExtraFieldUnicodePath:function(){var L=this.extraFields[28789];if(L){var Y=_(L.value);return Y.readInt(1)!==1||S(this.fileName)!==Y.readInt(4)?null:y.utf8decode(Y.readData(L.length-5))}return null},findExtraFieldUnicodeComment:function(){var L=this.extraFields[25461];if(L){var Y=_(L.value);return Y.readInt(1)!==1||S(this.fileComment)!==Y.readInt(4)?null:y.utf8decode(Y.readData(L.length-5))}return null}},g.exports=F},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(x,g,T){function _(Y,P,Z){this.name=Y,this.dir=Z.dir,this.date=Z.date,this.comment=Z.comment,this.unixPermissions=Z.unixPermissions,this.dosPermissions=Z.dosPermissions,this._data=P,this._dataBinary=Z.binary,this.options={compression:Z.compression,compressionOptions:Z.compressionOptions}}var I=x("./stream/StreamHelper"),R=x("./stream/DataWorker"),S=x("./utf8"),y=x("./compressedObject"),O=x("./stream/GenericWorker");_.prototype={internalStream:function(Y){var P=null,Z="string";try{if(!Y)throw new Error("No output type specified.");var ee=(Z=Y.toLowerCase())==="string"||Z==="text";Z!=="binarystring"&&Z!=="text"||(Z="string"),P=this._decompressWorker();var te=!this._dataBinary;te&&!ee&&(P=P.pipe(new S.Utf8EncodeWorker)),!te&&ee&&(P=P.pipe(new S.Utf8DecodeWorker))}catch(Q){(P=new O("error")).error(Q)}return new I(P,Z,"")},async:function(Y,P){return this.internalStream(Y).accumulate(P)},nodeStream:function(Y,P){return this.internalStream(Y||"nodebuffer").toNodejsStream(P)},_compressWorker:function(Y,P){if(this._data instanceof y&&this._data.compression.magic===Y.magic)return this._data.getCompressedWorker();var Z=this._decompressWorker();return this._dataBinary||(Z=Z.pipe(new S.Utf8EncodeWorker)),y.createWorkerFrom(Z,Y,P)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof O?this._data:new R(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],F=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},L=0;L<D.length;L++)_.prototype[D[L]]=F;g.exports=_},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(x,g,T){(function(_){var I,R,S=_.MutationObserver||_.WebKitMutationObserver;if(S){var y=0,O=new S(Y),D=_.document.createTextNode("");O.observe(D,{characterData:!0}),I=function(){D.data=y=++y%2}}else if(_.setImmediate||_.MessageChannel===void 0)I="document"in _&&"onreadystatechange"in _.document.createElement("script")?function(){var P=_.document.createElement("script");P.onreadystatechange=function(){Y(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},_.document.documentElement.appendChild(P)}:function(){setTimeout(Y,0)};else{var F=new _.MessageChannel;F.port1.onmessage=Y,I=function(){F.port2.postMessage(0)}}var L=[];function Y(){var P,Z;R=!0;for(var ee=L.length;ee;){for(Z=L,L=[],P=-1;++P<ee;)Z[P]();ee=L.length}R=!1}g.exports=function(P){L.push(P)!==1||R||I()}}).call(this,typeof Ea<"u"?Ea:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(x,g,T){var _=x("immediate");function I(){}var R={},S=["REJECTED"],y=["FULFILLED"],O=["PENDING"];function D(ee){if(typeof ee!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,ee!==I&&P(this,ee)}function F(ee,te,Q){this.promise=ee,typeof te=="function"&&(this.onFulfilled=te,this.callFulfilled=this.otherCallFulfilled),typeof Q=="function"&&(this.onRejected=Q,this.callRejected=this.otherCallRejected)}function L(ee,te,Q){_(function(){var m;try{m=te(Q)}catch(E){return R.reject(ee,E)}m===ee?R.reject(ee,new TypeError("Cannot resolve promise with itself")):R.resolve(ee,m)})}function Y(ee){var te=ee&&ee.then;if(ee&&(typeof ee=="object"||typeof ee=="function")&&typeof te=="function")return function(){te.apply(ee,arguments)}}function P(ee,te){var Q=!1;function m(M){Q||(Q=!0,R.reject(ee,M))}function E(M){Q||(Q=!0,R.resolve(ee,M))}var C=Z(function(){te(E,m)});C.status==="error"&&m(C.value)}function Z(ee,te){var Q={};try{Q.value=ee(te),Q.status="success"}catch(m){Q.status="error",Q.value=m}return Q}(g.exports=D).prototype.finally=function(ee){if(typeof ee!="function")return this;var te=this.constructor;return this.then(function(Q){return te.resolve(ee()).then(function(){return Q})},function(Q){return te.resolve(ee()).then(function(){throw Q})})},D.prototype.catch=function(ee){return this.then(null,ee)},D.prototype.then=function(ee,te){if(typeof ee!="function"&&this.state===y||typeof te!="function"&&this.state===S)return this;var Q=new this.constructor(I);return this.state!==O?L(Q,this.state===y?ee:te,this.outcome):this.queue.push(new F(Q,ee,te)),Q},F.prototype.callFulfilled=function(ee){R.resolve(this.promise,ee)},F.prototype.otherCallFulfilled=function(ee){L(this.promise,this.onFulfilled,ee)},F.prototype.callRejected=function(ee){R.reject(this.promise,ee)},F.prototype.otherCallRejected=function(ee){L(this.promise,this.onRejected,ee)},R.resolve=function(ee,te){var Q=Z(Y,te);if(Q.status==="error")return R.reject(ee,Q.value);var m=Q.value;if(m)P(ee,m);else{ee.state=y,ee.outcome=te;for(var E=-1,C=ee.queue.length;++E<C;)ee.queue[E].callFulfilled(te)}return ee},R.reject=function(ee,te){ee.state=S,ee.outcome=te;for(var Q=-1,m=ee.queue.length;++Q<m;)ee.queue[Q].callRejected(te);return ee},D.resolve=function(ee){return ee instanceof this?ee:R.resolve(new this(I),ee)},D.reject=function(ee){var te=new this(I);return R.reject(te,ee)},D.all=function(ee){var te=this;if(Object.prototype.toString.call(ee)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=ee.length,m=!1;if(!Q)return this.resolve([]);for(var E=new Array(Q),C=0,M=-1,W=new this(I);++M<Q;)H(ee[M],M);return W;function H(ae,me){te.resolve(ae).then(function(J){E[me]=J,++C!==Q||m||(m=!0,R.resolve(W,E))},function(J){m||(m=!0,R.reject(W,J))})}},D.race=function(ee){var te=this;if(Object.prototype.toString.call(ee)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=ee.length,m=!1;if(!Q)return this.resolve([]);for(var E=-1,C=new this(I);++E<Q;)M=ee[E],te.resolve(M).then(function(W){m||(m=!0,R.resolve(C,W))},function(W){m||(m=!0,R.reject(C,W))});var M;return C}},{immediate:36}],38:[function(x,g,T){var _={};(0,x("./lib/utils/common").assign)(_,x("./lib/deflate"),x("./lib/inflate"),x("./lib/zlib/constants")),g.exports=_},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(x,g,T){var _=x("./zlib/deflate"),I=x("./utils/common"),R=x("./utils/strings"),S=x("./zlib/messages"),y=x("./zlib/zstream"),O=Object.prototype.toString,D=0,F=-1,L=0,Y=8;function P(ee){if(!(this instanceof P))return new P(ee);this.options=I.assign({level:F,method:Y,chunkSize:16384,windowBits:15,memLevel:8,strategy:L,to:""},ee||{});var te=this.options;te.raw&&0<te.windowBits?te.windowBits=-te.windowBits:te.gzip&&0<te.windowBits&&te.windowBits<16&&(te.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var Q=_.deflateInit2(this.strm,te.level,te.method,te.windowBits,te.memLevel,te.strategy);if(Q!==D)throw new Error(S[Q]);if(te.header&&_.deflateSetHeader(this.strm,te.header),te.dictionary){var m;if(m=typeof te.dictionary=="string"?R.string2buf(te.dictionary):O.call(te.dictionary)==="[object ArrayBuffer]"?new Uint8Array(te.dictionary):te.dictionary,(Q=_.deflateSetDictionary(this.strm,m))!==D)throw new Error(S[Q]);this._dict_set=!0}}function Z(ee,te){var Q=new P(te);if(Q.push(ee,!0),Q.err)throw Q.msg||S[Q.err];return Q.result}P.prototype.push=function(ee,te){var Q,m,E=this.strm,C=this.options.chunkSize;if(this.ended)return!1;m=te===~~te?te:te===!0?4:0,typeof ee=="string"?E.input=R.string2buf(ee):O.call(ee)==="[object ArrayBuffer]"?E.input=new Uint8Array(ee):E.input=ee,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new I.Buf8(C),E.next_out=0,E.avail_out=C),(Q=_.deflate(E,m))!==1&&Q!==D)return this.onEnd(Q),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(R.buf2binstring(I.shrinkBuf(E.output,E.next_out))):this.onData(I.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&Q!==1);return m===4?(Q=_.deflateEnd(this.strm),this.onEnd(Q),this.ended=!0,Q===D):m!==2||(this.onEnd(D),!(E.avail_out=0))},P.prototype.onData=function(ee){this.chunks.push(ee)},P.prototype.onEnd=function(ee){ee===D&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=I.flattenChunks(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg},T.Deflate=P,T.deflate=Z,T.deflateRaw=function(ee,te){return(te=te||{}).raw=!0,Z(ee,te)},T.gzip=function(ee,te){return(te=te||{}).gzip=!0,Z(ee,te)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(x,g,T){var _=x("./zlib/inflate"),I=x("./utils/common"),R=x("./utils/strings"),S=x("./zlib/constants"),y=x("./zlib/messages"),O=x("./zlib/zstream"),D=x("./zlib/gzheader"),F=Object.prototype.toString;function L(P){if(!(this instanceof L))return new L(P);this.options=I.assign({chunkSize:16384,windowBits:0,to:""},P||{});var Z=this.options;Z.raw&&0<=Z.windowBits&&Z.windowBits<16&&(Z.windowBits=-Z.windowBits,Z.windowBits===0&&(Z.windowBits=-15)),!(0<=Z.windowBits&&Z.windowBits<16)||P&&P.windowBits||(Z.windowBits+=32),15<Z.windowBits&&Z.windowBits<48&&(15&Z.windowBits)==0&&(Z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var ee=_.inflateInit2(this.strm,Z.windowBits);if(ee!==S.Z_OK)throw new Error(y[ee]);this.header=new D,_.inflateGetHeader(this.strm,this.header)}function Y(P,Z){var ee=new L(Z);if(ee.push(P,!0),ee.err)throw ee.msg||y[ee.err];return ee.result}L.prototype.push=function(P,Z){var ee,te,Q,m,E,C,M=this.strm,W=this.options.chunkSize,H=this.options.dictionary,ae=!1;if(this.ended)return!1;te=Z===~~Z?Z:Z===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof P=="string"?M.input=R.binstring2buf(P):F.call(P)==="[object ArrayBuffer]"?M.input=new Uint8Array(P):M.input=P,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new I.Buf8(W),M.next_out=0,M.avail_out=W),(ee=_.inflate(M,S.Z_NO_FLUSH))===S.Z_NEED_DICT&&H&&(C=typeof H=="string"?R.string2buf(H):F.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,ee=_.inflateSetDictionary(this.strm,C)),ee===S.Z_BUF_ERROR&&ae===!0&&(ee=S.Z_OK,ae=!1),ee!==S.Z_STREAM_END&&ee!==S.Z_OK)return this.onEnd(ee),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&ee!==S.Z_STREAM_END&&(M.avail_in!==0||te!==S.Z_FINISH&&te!==S.Z_SYNC_FLUSH)||(this.options.to==="string"?(Q=R.utf8border(M.output,M.next_out),m=M.next_out-Q,E=R.buf2string(M.output,Q),M.next_out=m,M.avail_out=W-m,m&&I.arraySet(M.output,M.output,Q,m,0),this.onData(E)):this.onData(I.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(ae=!0)}while((0<M.avail_in||M.avail_out===0)&&ee!==S.Z_STREAM_END);return ee===S.Z_STREAM_END&&(te=S.Z_FINISH),te===S.Z_FINISH?(ee=_.inflateEnd(this.strm),this.onEnd(ee),this.ended=!0,ee===S.Z_OK):te!==S.Z_SYNC_FLUSH||(this.onEnd(S.Z_OK),!(M.avail_out=0))},L.prototype.onData=function(P){this.chunks.push(P)},L.prototype.onEnd=function(P){P===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=I.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},T.Inflate=L,T.inflate=Y,T.inflateRaw=function(P,Z){return(Z=Z||{}).raw=!0,Y(P,Z)},T.ungzip=Y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(x,g,T){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";T.assign=function(S){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var O=y.shift();if(O){if(typeof O!="object")throw new TypeError(O+"must be non-object");for(var D in O)O.hasOwnProperty(D)&&(S[D]=O[D])}}return S},T.shrinkBuf=function(S,y){return S.length===y?S:S.subarray?S.subarray(0,y):(S.length=y,S)};var I={arraySet:function(S,y,O,D,F){if(y.subarray&&S.subarray)S.set(y.subarray(O,O+D),F);else for(var L=0;L<D;L++)S[F+L]=y[O+L]},flattenChunks:function(S){var y,O,D,F,L,Y;for(y=D=0,O=S.length;y<O;y++)D+=S[y].length;for(Y=new Uint8Array(D),y=F=0,O=S.length;y<O;y++)L=S[y],Y.set(L,F),F+=L.length;return Y}},R={arraySet:function(S,y,O,D,F){for(var L=0;L<D;L++)S[F+L]=y[O+L]},flattenChunks:function(S){return[].concat.apply([],S)}};T.setTyped=function(S){S?(T.Buf8=Uint8Array,T.Buf16=Uint16Array,T.Buf32=Int32Array,T.assign(T,I)):(T.Buf8=Array,T.Buf16=Array,T.Buf32=Array,T.assign(T,R))},T.setTyped(_)},{}],42:[function(x,g,T){var _=x("./common"),I=!0,R=!0;try{String.fromCharCode.apply(null,[0])}catch{I=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R=!1}for(var S=new _.Buf8(256),y=0;y<256;y++)S[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function O(D,F){if(F<65537&&(D.subarray&&R||!D.subarray&&I))return String.fromCharCode.apply(null,_.shrinkBuf(D,F));for(var L="",Y=0;Y<F;Y++)L+=String.fromCharCode(D[Y]);return L}S[254]=S[254]=1,T.string2buf=function(D){var F,L,Y,P,Z,ee=D.length,te=0;for(P=0;P<ee;P++)(64512&(L=D.charCodeAt(P)))==55296&&P+1<ee&&(64512&(Y=D.charCodeAt(P+1)))==56320&&(L=65536+(L-55296<<10)+(Y-56320),P++),te+=L<128?1:L<2048?2:L<65536?3:4;for(F=new _.Buf8(te),P=Z=0;Z<te;P++)(64512&(L=D.charCodeAt(P)))==55296&&P+1<ee&&(64512&(Y=D.charCodeAt(P+1)))==56320&&(L=65536+(L-55296<<10)+(Y-56320),P++),L<128?F[Z++]=L:(L<2048?F[Z++]=192|L>>>6:(L<65536?F[Z++]=224|L>>>12:(F[Z++]=240|L>>>18,F[Z++]=128|L>>>12&63),F[Z++]=128|L>>>6&63),F[Z++]=128|63&L);return F},T.buf2binstring=function(D){return O(D,D.length)},T.binstring2buf=function(D){for(var F=new _.Buf8(D.length),L=0,Y=F.length;L<Y;L++)F[L]=D.charCodeAt(L);return F},T.buf2string=function(D,F){var L,Y,P,Z,ee=F||D.length,te=new Array(2*ee);for(L=Y=0;L<ee;)if((P=D[L++])<128)te[Y++]=P;else if(4<(Z=S[P]))te[Y++]=65533,L+=Z-1;else{for(P&=Z===2?31:Z===3?15:7;1<Z&&L<ee;)P=P<<6|63&D[L++],Z--;1<Z?te[Y++]=65533:P<65536?te[Y++]=P:(P-=65536,te[Y++]=55296|P>>10&1023,te[Y++]=56320|1023&P)}return O(te,Y)},T.utf8border=function(D,F){var L;for((F=F||D.length)>D.length&&(F=D.length),L=F-1;0<=L&&(192&D[L])==128;)L--;return L<0||L===0?F:L+S[D[L]]>F?L:F}},{"./common":41}],43:[function(x,g,T){g.exports=function(_,I,R,S){for(var y=65535&_|0,O=_>>>16&65535|0,D=0;R!==0;){for(R-=D=2e3<R?2e3:R;O=O+(y=y+I[S++]|0)|0,--D;);y%=65521,O%=65521}return y|O<<16|0}},{}],44:[function(x,g,T){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(x,g,T){var _=(function(){for(var I,R=[],S=0;S<256;S++){I=S;for(var y=0;y<8;y++)I=1&I?3988292384^I>>>1:I>>>1;R[S]=I}return R})();g.exports=function(I,R,S,y){var O=_,D=y+S;I^=-1;for(var F=y;F<D;F++)I=I>>>8^O[255&(I^R[F])];return-1^I}},{}],46:[function(x,g,T){var _,I=x("../utils/common"),R=x("./trees"),S=x("./adler32"),y=x("./crc32"),O=x("./messages"),D=0,F=4,L=0,Y=-2,P=-1,Z=4,ee=2,te=8,Q=9,m=286,E=30,C=19,M=2*m+1,W=15,H=3,ae=258,me=ae+H+1,J=42,ge=113,j=1,$=2,X=3,ie=4;function Se(z,Ge){return z.msg=O[Ge],Ge}function _e(z){return(z<<1)-(4<z?9:0)}function se(z){for(var Ge=z.length;0<=--Ge;)z[Ge]=0}function le(z){var Ge=z.state,Pe=Ge.pending;Pe>z.avail_out&&(Pe=z.avail_out),Pe!==0&&(I.arraySet(z.output,Ge.pending_buf,Ge.pending_out,Pe,z.next_out),z.next_out+=Pe,Ge.pending_out+=Pe,z.total_out+=Pe,z.avail_out-=Pe,Ge.pending-=Pe,Ge.pending===0&&(Ge.pending_out=0))}function pe(z,Ge){R._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,Ge),z.block_start=z.strstart,le(z.strm)}function Ne(z,Ge){z.pending_buf[z.pending++]=Ge}function De(z,Ge){z.pending_buf[z.pending++]=Ge>>>8&255,z.pending_buf[z.pending++]=255&Ge}function Be(z,Ge){var Pe,fe,oe=z.max_chain_length,we=z.strstart,Ke=z.prev_length,Ee=z.nice_match,ke=z.strstart>z.w_size-me?z.strstart-(z.w_size-me):0,tt=z.window,ct=z.w_mask,it=z.prev,ht=z.strstart+ae,kt=tt[we+Ke-1],At=tt[we+Ke];z.prev_length>=z.good_match&&(oe>>=2),Ee>z.lookahead&&(Ee=z.lookahead);do if(tt[(Pe=Ge)+Ke]===At&&tt[Pe+Ke-1]===kt&&tt[Pe]===tt[we]&&tt[++Pe]===tt[we+1]){we+=2,Pe++;do;while(tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&tt[++we]===tt[++Pe]&&we<ht);if(fe=ae-(ht-we),we=ht-ae,Ke<fe){if(z.match_start=Ge,Ee<=(Ke=fe))break;kt=tt[we+Ke-1],At=tt[we+Ke]}}while((Ge=it[Ge&ct])>ke&&--oe!=0);return Ke<=z.lookahead?Ke:z.lookahead}function ze(z){var Ge,Pe,fe,oe,we,Ke,Ee,ke,tt,ct,it=z.w_size;do{if(oe=z.window_size-z.lookahead-z.strstart,z.strstart>=it+(it-me)){for(I.arraySet(z.window,z.window,it,it,0),z.match_start-=it,z.strstart-=it,z.block_start-=it,Ge=Pe=z.hash_size;fe=z.head[--Ge],z.head[Ge]=it<=fe?fe-it:0,--Pe;);for(Ge=Pe=it;fe=z.prev[--Ge],z.prev[Ge]=it<=fe?fe-it:0,--Pe;);oe+=it}if(z.strm.avail_in===0)break;if(Ke=z.strm,Ee=z.window,ke=z.strstart+z.lookahead,tt=oe,ct=void 0,ct=Ke.avail_in,tt<ct&&(ct=tt),Pe=ct===0?0:(Ke.avail_in-=ct,I.arraySet(Ee,Ke.input,Ke.next_in,ct,ke),Ke.state.wrap===1?Ke.adler=S(Ke.adler,Ee,ct,ke):Ke.state.wrap===2&&(Ke.adler=y(Ke.adler,Ee,ct,ke)),Ke.next_in+=ct,Ke.total_in+=ct,ct),z.lookahead+=Pe,z.lookahead+z.insert>=H)for(we=z.strstart-z.insert,z.ins_h=z.window[we],z.ins_h=(z.ins_h<<z.hash_shift^z.window[we+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[we+H-1])&z.hash_mask,z.prev[we&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=we,we++,z.insert--,!(z.lookahead+z.insert<H)););}while(z.lookahead<me&&z.strm.avail_in!==0)}function $e(z,Ge){for(var Pe,fe;;){if(z.lookahead<me){if(ze(z),z.lookahead<me&&Ge===D)return j;if(z.lookahead===0)break}if(Pe=0,z.lookahead>=H&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+H-1])&z.hash_mask,Pe=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),Pe!==0&&z.strstart-Pe<=z.w_size-me&&(z.match_length=Be(z,Pe)),z.match_length>=H)if(fe=R._tr_tally(z,z.strstart-z.match_start,z.match_length-H),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=H){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+H-1])&z.hash_mask,Pe=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else fe=R._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(fe&&(pe(z,!1),z.strm.avail_out===0))return j}return z.insert=z.strstart<H-1?z.strstart:H-1,Ge===F?(pe(z,!0),z.strm.avail_out===0?X:ie):z.last_lit&&(pe(z,!1),z.strm.avail_out===0)?j:$}function Xe(z,Ge){for(var Pe,fe,oe;;){if(z.lookahead<me){if(ze(z),z.lookahead<me&&Ge===D)return j;if(z.lookahead===0)break}if(Pe=0,z.lookahead>=H&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+H-1])&z.hash_mask,Pe=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=H-1,Pe!==0&&z.prev_length<z.max_lazy_match&&z.strstart-Pe<=z.w_size-me&&(z.match_length=Be(z,Pe),z.match_length<=5&&(z.strategy===1||z.match_length===H&&4096<z.strstart-z.match_start)&&(z.match_length=H-1)),z.prev_length>=H&&z.match_length<=z.prev_length){for(oe=z.strstart+z.lookahead-H,fe=R._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-H),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=oe&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+H-1])&z.hash_mask,Pe=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=H-1,z.strstart++,fe&&(pe(z,!1),z.strm.avail_out===0))return j}else if(z.match_available){if((fe=R._tr_tally(z,0,z.window[z.strstart-1]))&&pe(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return j}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(fe=R._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<H-1?z.strstart:H-1,Ge===F?(pe(z,!0),z.strm.avail_out===0?X:ie):z.last_lit&&(pe(z,!1),z.strm.avail_out===0)?j:$}function Ve(z,Ge,Pe,fe,oe){this.good_length=z,this.max_lazy=Ge,this.nice_length=Pe,this.max_chain=fe,this.func=oe}function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=te,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*M),this.dyn_dtree=new I.Buf16(2*(2*E+1)),this.bl_tree=new I.Buf16(2*(2*C+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(W+1),this.heap=new I.Buf16(2*m+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*m+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Tt(z){var Ge;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=ee,(Ge=z.state).pending=0,Ge.pending_out=0,Ge.wrap<0&&(Ge.wrap=-Ge.wrap),Ge.status=Ge.wrap?J:ge,z.adler=Ge.wrap===2?0:1,Ge.last_flush=D,R._tr_init(Ge),L):Se(z,Y)}function vt(z){var Ge=Tt(z);return Ge===L&&(function(Pe){Pe.window_size=2*Pe.w_size,se(Pe.head),Pe.max_lazy_match=_[Pe.level].max_lazy,Pe.good_match=_[Pe.level].good_length,Pe.nice_match=_[Pe.level].nice_length,Pe.max_chain_length=_[Pe.level].max_chain,Pe.strstart=0,Pe.block_start=0,Pe.lookahead=0,Pe.insert=0,Pe.match_length=Pe.prev_length=H-1,Pe.match_available=0,Pe.ins_h=0})(z.state),Ge}function yt(z,Ge,Pe,fe,oe,we){if(!z)return Y;var Ke=1;if(Ge===P&&(Ge=6),fe<0?(Ke=0,fe=-fe):15<fe&&(Ke=2,fe-=16),oe<1||Q<oe||Pe!==te||fe<8||15<fe||Ge<0||9<Ge||we<0||Z<we)return Se(z,Y);fe===8&&(fe=9);var Ee=new Dt;return(z.state=Ee).strm=z,Ee.wrap=Ke,Ee.gzhead=null,Ee.w_bits=fe,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=oe+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+H-1)/H),Ee.window=new I.Buf8(2*Ee.w_size),Ee.head=new I.Buf16(Ee.hash_size),Ee.prev=new I.Buf16(Ee.w_size),Ee.lit_bufsize=1<<oe+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new I.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=Ge,Ee.strategy=we,Ee.method=Pe,vt(z)}_=[new Ve(0,0,0,0,function(z,Ge){var Pe=65535;for(Pe>z.pending_buf_size-5&&(Pe=z.pending_buf_size-5);;){if(z.lookahead<=1){if(ze(z),z.lookahead===0&&Ge===D)return j;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var fe=z.block_start+Pe;if((z.strstart===0||z.strstart>=fe)&&(z.lookahead=z.strstart-fe,z.strstart=fe,pe(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-me&&(pe(z,!1),z.strm.avail_out===0))return j}return z.insert=0,Ge===F?(pe(z,!0),z.strm.avail_out===0?X:ie):(z.strstart>z.block_start&&(pe(z,!1),z.strm.avail_out),j)}),new Ve(4,4,8,4,$e),new Ve(4,5,16,8,$e),new Ve(4,6,32,32,$e),new Ve(4,4,16,16,Xe),new Ve(8,16,32,32,Xe),new Ve(8,16,128,128,Xe),new Ve(8,32,128,256,Xe),new Ve(32,128,258,1024,Xe),new Ve(32,258,258,4096,Xe)],T.deflateInit=function(z,Ge){return yt(z,Ge,te,15,8,0)},T.deflateInit2=yt,T.deflateReset=vt,T.deflateResetKeep=Tt,T.deflateSetHeader=function(z,Ge){return z&&z.state?z.state.wrap!==2?Y:(z.state.gzhead=Ge,L):Y},T.deflate=function(z,Ge){var Pe,fe,oe,we;if(!z||!z.state||5<Ge||Ge<0)return z?Se(z,Y):Y;if(fe=z.state,!z.output||!z.input&&z.avail_in!==0||fe.status===666&&Ge!==F)return Se(z,z.avail_out===0?-5:Y);if(fe.strm=z,Pe=fe.last_flush,fe.last_flush=Ge,fe.status===J)if(fe.wrap===2)z.adler=0,Ne(fe,31),Ne(fe,139),Ne(fe,8),fe.gzhead?(Ne(fe,(fe.gzhead.text?1:0)+(fe.gzhead.hcrc?2:0)+(fe.gzhead.extra?4:0)+(fe.gzhead.name?8:0)+(fe.gzhead.comment?16:0)),Ne(fe,255&fe.gzhead.time),Ne(fe,fe.gzhead.time>>8&255),Ne(fe,fe.gzhead.time>>16&255),Ne(fe,fe.gzhead.time>>24&255),Ne(fe,fe.level===9?2:2<=fe.strategy||fe.level<2?4:0),Ne(fe,255&fe.gzhead.os),fe.gzhead.extra&&fe.gzhead.extra.length&&(Ne(fe,255&fe.gzhead.extra.length),Ne(fe,fe.gzhead.extra.length>>8&255)),fe.gzhead.hcrc&&(z.adler=y(z.adler,fe.pending_buf,fe.pending,0)),fe.gzindex=0,fe.status=69):(Ne(fe,0),Ne(fe,0),Ne(fe,0),Ne(fe,0),Ne(fe,0),Ne(fe,fe.level===9?2:2<=fe.strategy||fe.level<2?4:0),Ne(fe,3),fe.status=ge);else{var Ke=te+(fe.w_bits-8<<4)<<8;Ke|=(2<=fe.strategy||fe.level<2?0:fe.level<6?1:fe.level===6?2:3)<<6,fe.strstart!==0&&(Ke|=32),Ke+=31-Ke%31,fe.status=ge,De(fe,Ke),fe.strstart!==0&&(De(fe,z.adler>>>16),De(fe,65535&z.adler)),z.adler=1}if(fe.status===69)if(fe.gzhead.extra){for(oe=fe.pending;fe.gzindex<(65535&fe.gzhead.extra.length)&&(fe.pending!==fe.pending_buf_size||(fe.gzhead.hcrc&&fe.pending>oe&&(z.adler=y(z.adler,fe.pending_buf,fe.pending-oe,oe)),le(z),oe=fe.pending,fe.pending!==fe.pending_buf_size));)Ne(fe,255&fe.gzhead.extra[fe.gzindex]),fe.gzindex++;fe.gzhead.hcrc&&fe.pending>oe&&(z.adler=y(z.adler,fe.pending_buf,fe.pending-oe,oe)),fe.gzindex===fe.gzhead.extra.length&&(fe.gzindex=0,fe.status=73)}else fe.status=73;if(fe.status===73)if(fe.gzhead.name){oe=fe.pending;do{if(fe.pending===fe.pending_buf_size&&(fe.gzhead.hcrc&&fe.pending>oe&&(z.adler=y(z.adler,fe.pending_buf,fe.pending-oe,oe)),le(z),oe=fe.pending,fe.pending===fe.pending_buf_size)){we=1;break}we=fe.gzindex<fe.gzhead.name.length?255&fe.gzhead.name.charCodeAt(fe.gzindex++):0,Ne(fe,we)}while(we!==0);fe.gzhead.hcrc&&fe.pending>oe&&(z.adler=y(z.adler,fe.pending_buf,fe.pending-oe,oe)),we===0&&(fe.gzindex=0,fe.status=91)}else fe.status=91;if(fe.status===91)if(fe.gzhead.comment){oe=fe.pending;do{if(fe.pending===fe.pending_buf_size&&(fe.gzhead.hcrc&&fe.pending>oe&&(z.adler=y(z.adler,fe.pending_buf,fe.pending-oe,oe)),le(z),oe=fe.pending,fe.pending===fe.pending_buf_size)){we=1;break}we=fe.gzindex<fe.gzhead.comment.length?255&fe.gzhead.comment.charCodeAt(fe.gzindex++):0,Ne(fe,we)}while(we!==0);fe.gzhead.hcrc&&fe.pending>oe&&(z.adler=y(z.adler,fe.pending_buf,fe.pending-oe,oe)),we===0&&(fe.status=103)}else fe.status=103;if(fe.status===103&&(fe.gzhead.hcrc?(fe.pending+2>fe.pending_buf_size&&le(z),fe.pending+2<=fe.pending_buf_size&&(Ne(fe,255&z.adler),Ne(fe,z.adler>>8&255),z.adler=0,fe.status=ge)):fe.status=ge),fe.pending!==0){if(le(z),z.avail_out===0)return fe.last_flush=-1,L}else if(z.avail_in===0&&_e(Ge)<=_e(Pe)&&Ge!==F)return Se(z,-5);if(fe.status===666&&z.avail_in!==0)return Se(z,-5);if(z.avail_in!==0||fe.lookahead!==0||Ge!==D&&fe.status!==666){var Ee=fe.strategy===2?(function(ke,tt){for(var ct;;){if(ke.lookahead===0&&(ze(ke),ke.lookahead===0)){if(tt===D)return j;break}if(ke.match_length=0,ct=R._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++,ct&&(pe(ke,!1),ke.strm.avail_out===0))return j}return ke.insert=0,tt===F?(pe(ke,!0),ke.strm.avail_out===0?X:ie):ke.last_lit&&(pe(ke,!1),ke.strm.avail_out===0)?j:$})(fe,Ge):fe.strategy===3?(function(ke,tt){for(var ct,it,ht,kt,At=ke.window;;){if(ke.lookahead<=ae){if(ze(ke),ke.lookahead<=ae&&tt===D)return j;if(ke.lookahead===0)break}if(ke.match_length=0,ke.lookahead>=H&&0<ke.strstart&&(it=At[ht=ke.strstart-1])===At[++ht]&&it===At[++ht]&&it===At[++ht]){kt=ke.strstart+ae;do;while(it===At[++ht]&&it===At[++ht]&&it===At[++ht]&&it===At[++ht]&&it===At[++ht]&&it===At[++ht]&&it===At[++ht]&&it===At[++ht]&&ht<kt);ke.match_length=ae-(kt-ht),ke.match_length>ke.lookahead&&(ke.match_length=ke.lookahead)}if(ke.match_length>=H?(ct=R._tr_tally(ke,1,ke.match_length-H),ke.lookahead-=ke.match_length,ke.strstart+=ke.match_length,ke.match_length=0):(ct=R._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++),ct&&(pe(ke,!1),ke.strm.avail_out===0))return j}return ke.insert=0,tt===F?(pe(ke,!0),ke.strm.avail_out===0?X:ie):ke.last_lit&&(pe(ke,!1),ke.strm.avail_out===0)?j:$})(fe,Ge):_[fe.level].func(fe,Ge);if(Ee!==X&&Ee!==ie||(fe.status=666),Ee===j||Ee===X)return z.avail_out===0&&(fe.last_flush=-1),L;if(Ee===$&&(Ge===1?R._tr_align(fe):Ge!==5&&(R._tr_stored_block(fe,0,0,!1),Ge===3&&(se(fe.head),fe.lookahead===0&&(fe.strstart=0,fe.block_start=0,fe.insert=0))),le(z),z.avail_out===0))return fe.last_flush=-1,L}return Ge!==F?L:fe.wrap<=0?1:(fe.wrap===2?(Ne(fe,255&z.adler),Ne(fe,z.adler>>8&255),Ne(fe,z.adler>>16&255),Ne(fe,z.adler>>24&255),Ne(fe,255&z.total_in),Ne(fe,z.total_in>>8&255),Ne(fe,z.total_in>>16&255),Ne(fe,z.total_in>>24&255)):(De(fe,z.adler>>>16),De(fe,65535&z.adler)),le(z),0<fe.wrap&&(fe.wrap=-fe.wrap),fe.pending!==0?L:1)},T.deflateEnd=function(z){var Ge;return z&&z.state?(Ge=z.state.status)!==J&&Ge!==69&&Ge!==73&&Ge!==91&&Ge!==103&&Ge!==ge&&Ge!==666?Se(z,Y):(z.state=null,Ge===ge?Se(z,-3):L):Y},T.deflateSetDictionary=function(z,Ge){var Pe,fe,oe,we,Ke,Ee,ke,tt,ct=Ge.length;if(!z||!z.state||(we=(Pe=z.state).wrap)===2||we===1&&Pe.status!==J||Pe.lookahead)return Y;for(we===1&&(z.adler=S(z.adler,Ge,ct,0)),Pe.wrap=0,ct>=Pe.w_size&&(we===0&&(se(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0),tt=new I.Buf8(Pe.w_size),I.arraySet(tt,Ge,ct-Pe.w_size,Pe.w_size,0),Ge=tt,ct=Pe.w_size),Ke=z.avail_in,Ee=z.next_in,ke=z.input,z.avail_in=ct,z.next_in=0,z.input=Ge,ze(Pe);Pe.lookahead>=H;){for(fe=Pe.strstart,oe=Pe.lookahead-(H-1);Pe.ins_h=(Pe.ins_h<<Pe.hash_shift^Pe.window[fe+H-1])&Pe.hash_mask,Pe.prev[fe&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=fe,fe++,--oe;);Pe.strstart=fe,Pe.lookahead=H-1,ze(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=H-1,Pe.match_available=0,z.next_in=Ee,z.input=ke,z.avail_in=Ke,Pe.wrap=we,L},T.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(x,g,T){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(x,g,T){g.exports=function(_,I){var R,S,y,O,D,F,L,Y,P,Z,ee,te,Q,m,E,C,M,W,H,ae,me,J,ge,j,$;R=_.state,S=_.next_in,j=_.input,y=S+(_.avail_in-5),O=_.next_out,$=_.output,D=O-(I-_.avail_out),F=O+(_.avail_out-257),L=R.dmax,Y=R.wsize,P=R.whave,Z=R.wnext,ee=R.window,te=R.hold,Q=R.bits,m=R.lencode,E=R.distcode,C=(1<<R.lenbits)-1,M=(1<<R.distbits)-1;e:do{Q<15&&(te+=j[S++]<<Q,Q+=8,te+=j[S++]<<Q,Q+=8),W=m[te&C];t:for(;;){if(te>>>=H=W>>>24,Q-=H,(H=W>>>16&255)===0)$[O++]=65535&W;else{if(!(16&H)){if((64&H)==0){W=m[(65535&W)+(te&(1<<H)-1)];continue t}if(32&H){R.mode=12;break e}_.msg="invalid literal/length code",R.mode=30;break e}ae=65535&W,(H&=15)&&(Q<H&&(te+=j[S++]<<Q,Q+=8),ae+=te&(1<<H)-1,te>>>=H,Q-=H),Q<15&&(te+=j[S++]<<Q,Q+=8,te+=j[S++]<<Q,Q+=8),W=E[te&M];n:for(;;){if(te>>>=H=W>>>24,Q-=H,!(16&(H=W>>>16&255))){if((64&H)==0){W=E[(65535&W)+(te&(1<<H)-1)];continue n}_.msg="invalid distance code",R.mode=30;break e}if(me=65535&W,Q<(H&=15)&&(te+=j[S++]<<Q,(Q+=8)<H&&(te+=j[S++]<<Q,Q+=8)),L<(me+=te&(1<<H)-1)){_.msg="invalid distance too far back",R.mode=30;break e}if(te>>>=H,Q-=H,(H=O-D)<me){if(P<(H=me-H)&&R.sane){_.msg="invalid distance too far back",R.mode=30;break e}if(ge=ee,(J=0)===Z){if(J+=Y-H,H<ae){for(ae-=H;$[O++]=ee[J++],--H;);J=O-me,ge=$}}else if(Z<H){if(J+=Y+Z-H,(H-=Z)<ae){for(ae-=H;$[O++]=ee[J++],--H;);if(J=0,Z<ae){for(ae-=H=Z;$[O++]=ee[J++],--H;);J=O-me,ge=$}}}else if(J+=Z-H,H<ae){for(ae-=H;$[O++]=ee[J++],--H;);J=O-me,ge=$}for(;2<ae;)$[O++]=ge[J++],$[O++]=ge[J++],$[O++]=ge[J++],ae-=3;ae&&($[O++]=ge[J++],1<ae&&($[O++]=ge[J++]))}else{for(J=O-me;$[O++]=$[J++],$[O++]=$[J++],$[O++]=$[J++],2<(ae-=3););ae&&($[O++]=$[J++],1<ae&&($[O++]=$[J++]))}break}}break}}while(S<y&&O<F);S-=ae=Q>>3,te&=(1<<(Q-=ae<<3))-1,_.next_in=S,_.next_out=O,_.avail_in=S<y?y-S+5:5-(S-y),_.avail_out=O<F?F-O+257:257-(O-F),R.hold=te,R.bits=Q}},{}],49:[function(x,g,T){var _=x("../utils/common"),I=x("./adler32"),R=x("./crc32"),S=x("./inffast"),y=x("./inftrees"),O=1,D=2,F=0,L=-2,Y=1,P=852,Z=592;function ee(J){return(J>>>24&255)+(J>>>8&65280)+((65280&J)<<8)+((255&J)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Q(J){var ge;return J&&J.state?(ge=J.state,J.total_in=J.total_out=ge.total=0,J.msg="",ge.wrap&&(J.adler=1&ge.wrap),ge.mode=Y,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new _.Buf32(P),ge.distcode=ge.distdyn=new _.Buf32(Z),ge.sane=1,ge.back=-1,F):L}function m(J){var ge;return J&&J.state?((ge=J.state).wsize=0,ge.whave=0,ge.wnext=0,Q(J)):L}function E(J,ge){var j,$;return J&&J.state?($=J.state,ge<0?(j=0,ge=-ge):(j=1+(ge>>4),ge<48&&(ge&=15)),ge&&(ge<8||15<ge)?L:($.window!==null&&$.wbits!==ge&&($.window=null),$.wrap=j,$.wbits=ge,m(J))):L}function C(J,ge){var j,$;return J?($=new te,(J.state=$).window=null,(j=E(J,ge))!==F&&(J.state=null),j):L}var M,W,H=!0;function ae(J){if(H){var ge;for(M=new _.Buf32(512),W=new _.Buf32(32),ge=0;ge<144;)J.lens[ge++]=8;for(;ge<256;)J.lens[ge++]=9;for(;ge<280;)J.lens[ge++]=7;for(;ge<288;)J.lens[ge++]=8;for(y(O,J.lens,0,288,M,0,J.work,{bits:9}),ge=0;ge<32;)J.lens[ge++]=5;y(D,J.lens,0,32,W,0,J.work,{bits:5}),H=!1}J.lencode=M,J.lenbits=9,J.distcode=W,J.distbits=5}function me(J,ge,j,$){var X,ie=J.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new _.Buf8(ie.wsize)),$>=ie.wsize?(_.arraySet(ie.window,ge,j-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):($<(X=ie.wsize-ie.wnext)&&(X=$),_.arraySet(ie.window,ge,j-$,X,ie.wnext),($-=X)?(_.arraySet(ie.window,ge,j-$,$,0),ie.wnext=$,ie.whave=ie.wsize):(ie.wnext+=X,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=X))),0}T.inflateReset=m,T.inflateReset2=E,T.inflateResetKeep=Q,T.inflateInit=function(J){return C(J,15)},T.inflateInit2=C,T.inflate=function(J,ge){var j,$,X,ie,Se,_e,se,le,pe,Ne,De,Be,ze,$e,Xe,Ve,Dt,Tt,vt,yt,z,Ge,Pe,fe,oe=0,we=new _.Buf8(4),Ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!J||!J.state||!J.output||!J.input&&J.avail_in!==0)return L;(j=J.state).mode===12&&(j.mode=13),Se=J.next_out,X=J.output,se=J.avail_out,ie=J.next_in,$=J.input,_e=J.avail_in,le=j.hold,pe=j.bits,Ne=_e,De=se,Ge=F;e:for(;;)switch(j.mode){case Y:if(j.wrap===0){j.mode=13;break}for(;pe<16;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(2&j.wrap&&le===35615){we[j.check=0]=255&le,we[1]=le>>>8&255,j.check=R(j.check,we,2,0),pe=le=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&le)<<8)+(le>>8))%31){J.msg="incorrect header check",j.mode=30;break}if((15&le)!=8){J.msg="unknown compression method",j.mode=30;break}if(pe-=4,z=8+(15&(le>>>=4)),j.wbits===0)j.wbits=z;else if(z>j.wbits){J.msg="invalid window size",j.mode=30;break}j.dmax=1<<z,J.adler=j.check=1,j.mode=512&le?10:12,pe=le=0;break;case 2:for(;pe<16;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(j.flags=le,(255&j.flags)!=8){J.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){J.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=le>>8&1),512&j.flags&&(we[0]=255&le,we[1]=le>>>8&255,j.check=R(j.check,we,2,0)),pe=le=0,j.mode=3;case 3:for(;pe<32;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}j.head&&(j.head.time=le),512&j.flags&&(we[0]=255&le,we[1]=le>>>8&255,we[2]=le>>>16&255,we[3]=le>>>24&255,j.check=R(j.check,we,4,0)),pe=le=0,j.mode=4;case 4:for(;pe<16;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}j.head&&(j.head.xflags=255&le,j.head.os=le>>8),512&j.flags&&(we[0]=255&le,we[1]=le>>>8&255,j.check=R(j.check,we,2,0)),pe=le=0,j.mode=5;case 5:if(1024&j.flags){for(;pe<16;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}j.length=le,j.head&&(j.head.extra_len=le),512&j.flags&&(we[0]=255&le,we[1]=le>>>8&255,j.check=R(j.check,we,2,0)),pe=le=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(_e<(Be=j.length)&&(Be=_e),Be&&(j.head&&(z=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),_.arraySet(j.head.extra,$,ie,Be,z)),512&j.flags&&(j.check=R(j.check,$,Be,ie)),_e-=Be,ie+=Be,j.length-=Be),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(_e===0)break e;for(Be=0;z=$[ie+Be++],j.head&&z&&j.length<65536&&(j.head.name+=String.fromCharCode(z)),z&&Be<_e;);if(512&j.flags&&(j.check=R(j.check,$,Be,ie)),_e-=Be,ie+=Be,z)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(_e===0)break e;for(Be=0;z=$[ie+Be++],j.head&&z&&j.length<65536&&(j.head.comment+=String.fromCharCode(z)),z&&Be<_e;);if(512&j.flags&&(j.check=R(j.check,$,Be,ie)),_e-=Be,ie+=Be,z)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;pe<16;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(le!==(65535&j.check)){J.msg="header crc mismatch",j.mode=30;break}pe=le=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),J.adler=j.check=0,j.mode=12;break;case 10:for(;pe<32;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}J.adler=j.check=ee(le),pe=le=0,j.mode=11;case 11:if(j.havedict===0)return J.next_out=Se,J.avail_out=se,J.next_in=ie,J.avail_in=_e,j.hold=le,j.bits=pe,2;J.adler=j.check=1,j.mode=12;case 12:if(ge===5||ge===6)break e;case 13:if(j.last){le>>>=7&pe,pe-=7&pe,j.mode=27;break}for(;pe<3;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}switch(j.last=1&le,pe-=1,3&(le>>>=1)){case 0:j.mode=14;break;case 1:if(ae(j),j.mode=20,ge!==6)break;le>>>=2,pe-=2;break e;case 2:j.mode=17;break;case 3:J.msg="invalid block type",j.mode=30}le>>>=2,pe-=2;break;case 14:for(le>>>=7&pe,pe-=7&pe;pe<32;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if((65535&le)!=(le>>>16^65535)){J.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&le,pe=le=0,j.mode=15,ge===6)break e;case 15:j.mode=16;case 16:if(Be=j.length){if(_e<Be&&(Be=_e),se<Be&&(Be=se),Be===0)break e;_.arraySet(X,$,ie,Be,Se),_e-=Be,ie+=Be,se-=Be,Se+=Be,j.length-=Be;break}j.mode=12;break;case 17:for(;pe<14;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(j.nlen=257+(31&le),le>>>=5,pe-=5,j.ndist=1+(31&le),le>>>=5,pe-=5,j.ncode=4+(15&le),le>>>=4,pe-=4,286<j.nlen||30<j.ndist){J.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;pe<3;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}j.lens[Ke[j.have++]]=7&le,le>>>=3,pe-=3}for(;j.have<19;)j.lens[Ke[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,Pe={bits:j.lenbits},Ge=y(0,j.lens,0,19,j.lencode,0,j.work,Pe),j.lenbits=Pe.bits,Ge){J.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ve=(oe=j.lencode[le&(1<<j.lenbits)-1])>>>16&255,Dt=65535&oe,!((Xe=oe>>>24)<=pe);){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(Dt<16)le>>>=Xe,pe-=Xe,j.lens[j.have++]=Dt;else{if(Dt===16){for(fe=Xe+2;pe<fe;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(le>>>=Xe,pe-=Xe,j.have===0){J.msg="invalid bit length repeat",j.mode=30;break}z=j.lens[j.have-1],Be=3+(3&le),le>>>=2,pe-=2}else if(Dt===17){for(fe=Xe+3;pe<fe;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}pe-=Xe,z=0,Be=3+(7&(le>>>=Xe)),le>>>=3,pe-=3}else{for(fe=Xe+7;pe<fe;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}pe-=Xe,z=0,Be=11+(127&(le>>>=Xe)),le>>>=7,pe-=7}if(j.have+Be>j.nlen+j.ndist){J.msg="invalid bit length repeat",j.mode=30;break}for(;Be--;)j.lens[j.have++]=z}}if(j.mode===30)break;if(j.lens[256]===0){J.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,Pe={bits:j.lenbits},Ge=y(O,j.lens,0,j.nlen,j.lencode,0,j.work,Pe),j.lenbits=Pe.bits,Ge){J.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,Pe={bits:j.distbits},Ge=y(D,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,Pe),j.distbits=Pe.bits,Ge){J.msg="invalid distances set",j.mode=30;break}if(j.mode=20,ge===6)break e;case 20:j.mode=21;case 21:if(6<=_e&&258<=se){J.next_out=Se,J.avail_out=se,J.next_in=ie,J.avail_in=_e,j.hold=le,j.bits=pe,S(J,De),Se=J.next_out,X=J.output,se=J.avail_out,ie=J.next_in,$=J.input,_e=J.avail_in,le=j.hold,pe=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ve=(oe=j.lencode[le&(1<<j.lenbits)-1])>>>16&255,Dt=65535&oe,!((Xe=oe>>>24)<=pe);){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(Ve&&(240&Ve)==0){for(Tt=Xe,vt=Ve,yt=Dt;Ve=(oe=j.lencode[yt+((le&(1<<Tt+vt)-1)>>Tt)])>>>16&255,Dt=65535&oe,!(Tt+(Xe=oe>>>24)<=pe);){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}le>>>=Tt,pe-=Tt,j.back+=Tt}if(le>>>=Xe,pe-=Xe,j.back+=Xe,j.length=Dt,Ve===0){j.mode=26;break}if(32&Ve){j.back=-1,j.mode=12;break}if(64&Ve){J.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ve,j.mode=22;case 22:if(j.extra){for(fe=j.extra;pe<fe;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}j.length+=le&(1<<j.extra)-1,le>>>=j.extra,pe-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ve=(oe=j.distcode[le&(1<<j.distbits)-1])>>>16&255,Dt=65535&oe,!((Xe=oe>>>24)<=pe);){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if((240&Ve)==0){for(Tt=Xe,vt=Ve,yt=Dt;Ve=(oe=j.distcode[yt+((le&(1<<Tt+vt)-1)>>Tt)])>>>16&255,Dt=65535&oe,!(Tt+(Xe=oe>>>24)<=pe);){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}le>>>=Tt,pe-=Tt,j.back+=Tt}if(le>>>=Xe,pe-=Xe,j.back+=Xe,64&Ve){J.msg="invalid distance code",j.mode=30;break}j.offset=Dt,j.extra=15&Ve,j.mode=24;case 24:if(j.extra){for(fe=j.extra;pe<fe;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}j.offset+=le&(1<<j.extra)-1,le>>>=j.extra,pe-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){J.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(se===0)break e;if(Be=De-se,j.offset>Be){if((Be=j.offset-Be)>j.whave&&j.sane){J.msg="invalid distance too far back",j.mode=30;break}ze=Be>j.wnext?(Be-=j.wnext,j.wsize-Be):j.wnext-Be,Be>j.length&&(Be=j.length),$e=j.window}else $e=X,ze=Se-j.offset,Be=j.length;for(se<Be&&(Be=se),se-=Be,j.length-=Be;X[Se++]=$e[ze++],--Be;);j.length===0&&(j.mode=21);break;case 26:if(se===0)break e;X[Se++]=j.length,se--,j.mode=21;break;case 27:if(j.wrap){for(;pe<32;){if(_e===0)break e;_e--,le|=$[ie++]<<pe,pe+=8}if(De-=se,J.total_out+=De,j.total+=De,De&&(J.adler=j.check=j.flags?R(j.check,X,De,Se-De):I(j.check,X,De,Se-De)),De=se,(j.flags?le:ee(le))!==j.check){J.msg="incorrect data check",j.mode=30;break}pe=le=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;pe<32;){if(_e===0)break e;_e--,le+=$[ie++]<<pe,pe+=8}if(le!==(4294967295&j.total)){J.msg="incorrect length check",j.mode=30;break}pe=le=0}j.mode=29;case 29:Ge=1;break e;case 30:Ge=-3;break e;case 31:return-4;case 32:default:return L}return J.next_out=Se,J.avail_out=se,J.next_in=ie,J.avail_in=_e,j.hold=le,j.bits=pe,(j.wsize||De!==J.avail_out&&j.mode<30&&(j.mode<27||ge!==4))&&me(J,J.output,J.next_out,De-J.avail_out)?(j.mode=31,-4):(Ne-=J.avail_in,De-=J.avail_out,J.total_in+=Ne,J.total_out+=De,j.total+=De,j.wrap&&De&&(J.adler=j.check=j.flags?R(j.check,X,De,J.next_out-De):I(j.check,X,De,J.next_out-De)),J.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(Ne==0&&De===0||ge===4)&&Ge===F&&(Ge=-5),Ge)},T.inflateEnd=function(J){if(!J||!J.state)return L;var ge=J.state;return ge.window&&(ge.window=null),J.state=null,F},T.inflateGetHeader=function(J,ge){var j;return J&&J.state?(2&(j=J.state).wrap)==0?L:((j.head=ge).done=!1,F):L},T.inflateSetDictionary=function(J,ge){var j,$=ge.length;return J&&J.state?(j=J.state).wrap!==0&&j.mode!==11?L:j.mode===11&&I(1,ge,$,0)!==j.check?-3:me(J,ge,$,$)?(j.mode=31,-4):(j.havedict=1,F):L},T.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(x,g,T){var _=x("../utils/common"),I=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],R=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(O,D,F,L,Y,P,Z,ee){var te,Q,m,E,C,M,W,H,ae,me=ee.bits,J=0,ge=0,j=0,$=0,X=0,ie=0,Se=0,_e=0,se=0,le=0,pe=null,Ne=0,De=new _.Buf16(16),Be=new _.Buf16(16),ze=null,$e=0;for(J=0;J<=15;J++)De[J]=0;for(ge=0;ge<L;ge++)De[D[F+ge]]++;for(X=me,$=15;1<=$&&De[$]===0;$--);if($<X&&(X=$),$===0)return Y[P++]=20971520,Y[P++]=20971520,ee.bits=1,0;for(j=1;j<$&&De[j]===0;j++);for(X<j&&(X=j),J=_e=1;J<=15;J++)if(_e<<=1,(_e-=De[J])<0)return-1;if(0<_e&&(O===0||$!==1))return-1;for(Be[1]=0,J=1;J<15;J++)Be[J+1]=Be[J]+De[J];for(ge=0;ge<L;ge++)D[F+ge]!==0&&(Z[Be[D[F+ge]]++]=ge);if(M=O===0?(pe=ze=Z,19):O===1?(pe=I,Ne-=257,ze=R,$e-=257,256):(pe=S,ze=y,-1),J=j,C=P,Se=ge=le=0,m=-1,E=(se=1<<(ie=X))-1,O===1&&852<se||O===2&&592<se)return 1;for(;;){for(W=J-Se,ae=Z[ge]<M?(H=0,Z[ge]):Z[ge]>M?(H=ze[$e+Z[ge]],pe[Ne+Z[ge]]):(H=96,0),te=1<<J-Se,j=Q=1<<ie;Y[C+(le>>Se)+(Q-=te)]=W<<24|H<<16|ae|0,Q!==0;);for(te=1<<J-1;le&te;)te>>=1;if(te!==0?(le&=te-1,le+=te):le=0,ge++,--De[J]==0){if(J===$)break;J=D[F+Z[ge]]}if(X<J&&(le&E)!==m){for(Se===0&&(Se=X),C+=j,_e=1<<(ie=J-Se);ie+Se<$&&!((_e-=De[ie+Se])<=0);)ie++,_e<<=1;if(se+=1<<ie,O===1&&852<se||O===2&&592<se)return 1;Y[m=le&E]=X<<24|ie<<16|C-P|0}}return le!==0&&(Y[C+le]=J-Se<<24|64<<16|0),ee.bits=X,0}},{"../utils/common":41}],51:[function(x,g,T){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(x,g,T){var _=x("../utils/common"),I=0,R=1;function S(oe){for(var we=oe.length;0<=--we;)oe[we]=0}var y=0,O=29,D=256,F=D+1+O,L=30,Y=19,P=2*F+1,Z=15,ee=16,te=7,Q=256,m=16,E=17,C=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(F+2));S(me);var J=new Array(2*L);S(J);var ge=new Array(512);S(ge);var j=new Array(256);S(j);var $=new Array(O);S($);var X,ie,Se,_e=new Array(L);function se(oe,we,Ke,Ee,ke){this.static_tree=oe,this.extra_bits=we,this.extra_base=Ke,this.elems=Ee,this.max_length=ke,this.has_stree=oe&&oe.length}function le(oe,we){this.dyn_tree=oe,this.max_code=0,this.stat_desc=we}function pe(oe){return oe<256?ge[oe]:ge[256+(oe>>>7)]}function Ne(oe,we){oe.pending_buf[oe.pending++]=255&we,oe.pending_buf[oe.pending++]=we>>>8&255}function De(oe,we,Ke){oe.bi_valid>ee-Ke?(oe.bi_buf|=we<<oe.bi_valid&65535,Ne(oe,oe.bi_buf),oe.bi_buf=we>>ee-oe.bi_valid,oe.bi_valid+=Ke-ee):(oe.bi_buf|=we<<oe.bi_valid&65535,oe.bi_valid+=Ke)}function Be(oe,we,Ke){De(oe,Ke[2*we],Ke[2*we+1])}function ze(oe,we){for(var Ke=0;Ke|=1&oe,oe>>>=1,Ke<<=1,0<--we;);return Ke>>>1}function $e(oe,we,Ke){var Ee,ke,tt=new Array(Z+1),ct=0;for(Ee=1;Ee<=Z;Ee++)tt[Ee]=ct=ct+Ke[Ee-1]<<1;for(ke=0;ke<=we;ke++){var it=oe[2*ke+1];it!==0&&(oe[2*ke]=ze(tt[it]++,it))}}function Xe(oe){var we;for(we=0;we<F;we++)oe.dyn_ltree[2*we]=0;for(we=0;we<L;we++)oe.dyn_dtree[2*we]=0;for(we=0;we<Y;we++)oe.bl_tree[2*we]=0;oe.dyn_ltree[2*Q]=1,oe.opt_len=oe.static_len=0,oe.last_lit=oe.matches=0}function Ve(oe){8<oe.bi_valid?Ne(oe,oe.bi_buf):0<oe.bi_valid&&(oe.pending_buf[oe.pending++]=oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0}function Dt(oe,we,Ke,Ee){var ke=2*we,tt=2*Ke;return oe[ke]<oe[tt]||oe[ke]===oe[tt]&&Ee[we]<=Ee[Ke]}function Tt(oe,we,Ke){for(var Ee=oe.heap[Ke],ke=Ke<<1;ke<=oe.heap_len&&(ke<oe.heap_len&&Dt(we,oe.heap[ke+1],oe.heap[ke],oe.depth)&&ke++,!Dt(we,Ee,oe.heap[ke],oe.depth));)oe.heap[Ke]=oe.heap[ke],Ke=ke,ke<<=1;oe.heap[Ke]=Ee}function vt(oe,we,Ke){var Ee,ke,tt,ct,it=0;if(oe.last_lit!==0)for(;Ee=oe.pending_buf[oe.d_buf+2*it]<<8|oe.pending_buf[oe.d_buf+2*it+1],ke=oe.pending_buf[oe.l_buf+it],it++,Ee===0?Be(oe,ke,we):(Be(oe,(tt=j[ke])+D+1,we),(ct=M[tt])!==0&&De(oe,ke-=$[tt],ct),Be(oe,tt=pe(--Ee),Ke),(ct=W[tt])!==0&&De(oe,Ee-=_e[tt],ct)),it<oe.last_lit;);Be(oe,Q,we)}function yt(oe,we){var Ke,Ee,ke,tt=we.dyn_tree,ct=we.stat_desc.static_tree,it=we.stat_desc.has_stree,ht=we.stat_desc.elems,kt=-1;for(oe.heap_len=0,oe.heap_max=P,Ke=0;Ke<ht;Ke++)tt[2*Ke]!==0?(oe.heap[++oe.heap_len]=kt=Ke,oe.depth[Ke]=0):tt[2*Ke+1]=0;for(;oe.heap_len<2;)tt[2*(ke=oe.heap[++oe.heap_len]=kt<2?++kt:0)]=1,oe.depth[ke]=0,oe.opt_len--,it&&(oe.static_len-=ct[2*ke+1]);for(we.max_code=kt,Ke=oe.heap_len>>1;1<=Ke;Ke--)Tt(oe,tt,Ke);for(ke=ht;Ke=oe.heap[1],oe.heap[1]=oe.heap[oe.heap_len--],Tt(oe,tt,1),Ee=oe.heap[1],oe.heap[--oe.heap_max]=Ke,oe.heap[--oe.heap_max]=Ee,tt[2*ke]=tt[2*Ke]+tt[2*Ee],oe.depth[ke]=(oe.depth[Ke]>=oe.depth[Ee]?oe.depth[Ke]:oe.depth[Ee])+1,tt[2*Ke+1]=tt[2*Ee+1]=ke,oe.heap[1]=ke++,Tt(oe,tt,1),2<=oe.heap_len;);oe.heap[--oe.heap_max]=oe.heap[1],(function(At,St){var Fr,Yn,vr,Ot,st,jt,et=St.dyn_tree,en=St.max_code,_r=St.stat_desc.static_tree,Hr=St.stat_desc.has_stree,dt=St.stat_desc.extra_bits,Vt=St.stat_desc.extra_base,Mn=St.stat_desc.max_length,qe=0;for(Ot=0;Ot<=Z;Ot++)At.bl_count[Ot]=0;for(et[2*At.heap[At.heap_max]+1]=0,Fr=At.heap_max+1;Fr<P;Fr++)Mn<(Ot=et[2*et[2*(Yn=At.heap[Fr])+1]+1]+1)&&(Ot=Mn,qe++),et[2*Yn+1]=Ot,en<Yn||(At.bl_count[Ot]++,st=0,Vt<=Yn&&(st=dt[Yn-Vt]),jt=et[2*Yn],At.opt_len+=jt*(Ot+st),Hr&&(At.static_len+=jt*(_r[2*Yn+1]+st)));if(qe!==0){do{for(Ot=Mn-1;At.bl_count[Ot]===0;)Ot--;At.bl_count[Ot]--,At.bl_count[Ot+1]+=2,At.bl_count[Mn]--,qe-=2}while(0<qe);for(Ot=Mn;Ot!==0;Ot--)for(Yn=At.bl_count[Ot];Yn!==0;)en<(vr=At.heap[--Fr])||(et[2*vr+1]!==Ot&&(At.opt_len+=(Ot-et[2*vr+1])*et[2*vr],et[2*vr+1]=Ot),Yn--)}})(oe,we),$e(tt,kt,oe.bl_count)}function z(oe,we,Ke){var Ee,ke,tt=-1,ct=we[1],it=0,ht=7,kt=4;for(ct===0&&(ht=138,kt=3),we[2*(Ke+1)+1]=65535,Ee=0;Ee<=Ke;Ee++)ke=ct,ct=we[2*(Ee+1)+1],++it<ht&&ke===ct||(it<kt?oe.bl_tree[2*ke]+=it:ke!==0?(ke!==tt&&oe.bl_tree[2*ke]++,oe.bl_tree[2*m]++):it<=10?oe.bl_tree[2*E]++:oe.bl_tree[2*C]++,tt=ke,kt=(it=0)===ct?(ht=138,3):ke===ct?(ht=6,3):(ht=7,4))}function Ge(oe,we,Ke){var Ee,ke,tt=-1,ct=we[1],it=0,ht=7,kt=4;for(ct===0&&(ht=138,kt=3),Ee=0;Ee<=Ke;Ee++)if(ke=ct,ct=we[2*(Ee+1)+1],!(++it<ht&&ke===ct)){if(it<kt)for(;Be(oe,ke,oe.bl_tree),--it!=0;);else ke!==0?(ke!==tt&&(Be(oe,ke,oe.bl_tree),it--),Be(oe,m,oe.bl_tree),De(oe,it-3,2)):it<=10?(Be(oe,E,oe.bl_tree),De(oe,it-3,3)):(Be(oe,C,oe.bl_tree),De(oe,it-11,7));tt=ke,kt=(it=0)===ct?(ht=138,3):ke===ct?(ht=6,3):(ht=7,4)}}S(_e);var Pe=!1;function fe(oe,we,Ke,Ee){De(oe,(y<<1)+(Ee?1:0),3),(function(ke,tt,ct,it){Ve(ke),Ne(ke,ct),Ne(ke,~ct),_.arraySet(ke.pending_buf,ke.window,tt,ct,ke.pending),ke.pending+=ct})(oe,we,Ke)}T._tr_init=function(oe){Pe||((function(){var we,Ke,Ee,ke,tt,ct=new Array(Z+1);for(ke=Ee=0;ke<O-1;ke++)for($[ke]=Ee,we=0;we<1<<M[ke];we++)j[Ee++]=ke;for(j[Ee-1]=ke,ke=tt=0;ke<16;ke++)for(_e[ke]=tt,we=0;we<1<<W[ke];we++)ge[tt++]=ke;for(tt>>=7;ke<L;ke++)for(_e[ke]=tt<<7,we=0;we<1<<W[ke]-7;we++)ge[256+tt++]=ke;for(Ke=0;Ke<=Z;Ke++)ct[Ke]=0;for(we=0;we<=143;)me[2*we+1]=8,we++,ct[8]++;for(;we<=255;)me[2*we+1]=9,we++,ct[9]++;for(;we<=279;)me[2*we+1]=7,we++,ct[7]++;for(;we<=287;)me[2*we+1]=8,we++,ct[8]++;for($e(me,F+1,ct),we=0;we<L;we++)J[2*we+1]=5,J[2*we]=ze(we,5);X=new se(me,M,D+1,F,Z),ie=new se(J,W,0,L,Z),Se=new se(new Array(0),H,0,Y,te)})(),Pe=!0),oe.l_desc=new le(oe.dyn_ltree,X),oe.d_desc=new le(oe.dyn_dtree,ie),oe.bl_desc=new le(oe.bl_tree,Se),oe.bi_buf=0,oe.bi_valid=0,Xe(oe)},T._tr_stored_block=fe,T._tr_flush_block=function(oe,we,Ke,Ee){var ke,tt,ct=0;0<oe.level?(oe.strm.data_type===2&&(oe.strm.data_type=(function(it){var ht,kt=4093624447;for(ht=0;ht<=31;ht++,kt>>>=1)if(1&kt&&it.dyn_ltree[2*ht]!==0)return I;if(it.dyn_ltree[18]!==0||it.dyn_ltree[20]!==0||it.dyn_ltree[26]!==0)return R;for(ht=32;ht<D;ht++)if(it.dyn_ltree[2*ht]!==0)return R;return I})(oe)),yt(oe,oe.l_desc),yt(oe,oe.d_desc),ct=(function(it){var ht;for(z(it,it.dyn_ltree,it.l_desc.max_code),z(it,it.dyn_dtree,it.d_desc.max_code),yt(it,it.bl_desc),ht=Y-1;3<=ht&&it.bl_tree[2*ae[ht]+1]===0;ht--);return it.opt_len+=3*(ht+1)+5+5+4,ht})(oe),ke=oe.opt_len+3+7>>>3,(tt=oe.static_len+3+7>>>3)<=ke&&(ke=tt)):ke=tt=Ke+5,Ke+4<=ke&&we!==-1?fe(oe,we,Ke,Ee):oe.strategy===4||tt===ke?(De(oe,2+(Ee?1:0),3),vt(oe,me,J)):(De(oe,4+(Ee?1:0),3),(function(it,ht,kt,At){var St;for(De(it,ht-257,5),De(it,kt-1,5),De(it,At-4,4),St=0;St<At;St++)De(it,it.bl_tree[2*ae[St]+1],3);Ge(it,it.dyn_ltree,ht-1),Ge(it,it.dyn_dtree,kt-1)})(oe,oe.l_desc.max_code+1,oe.d_desc.max_code+1,ct+1),vt(oe,oe.dyn_ltree,oe.dyn_dtree)),Xe(oe),Ee&&Ve(oe)},T._tr_tally=function(oe,we,Ke){return oe.pending_buf[oe.d_buf+2*oe.last_lit]=we>>>8&255,oe.pending_buf[oe.d_buf+2*oe.last_lit+1]=255&we,oe.pending_buf[oe.l_buf+oe.last_lit]=255&Ke,oe.last_lit++,we===0?oe.dyn_ltree[2*Ke]++:(oe.matches++,we--,oe.dyn_ltree[2*(j[Ke]+D+1)]++,oe.dyn_dtree[2*pe(we)]++),oe.last_lit===oe.lit_bufsize-1},T._tr_align=function(oe){De(oe,2,3),Be(oe,Q,me),(function(we){we.bi_valid===16?(Ne(we,we.bi_buf),we.bi_buf=0,we.bi_valid=0):8<=we.bi_valid&&(we.pending_buf[we.pending++]=255&we.bi_buf,we.bi_buf>>=8,we.bi_valid-=8)})(oe)}},{"../utils/common":41}],53:[function(x,g,T){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(x,g,T){(function(_){(function(I,R){if(!I.setImmediate){var S,y,O,D,F=1,L={},Y=!1,P=I.document,Z=Object.getPrototypeOf&&Object.getPrototypeOf(I);Z=Z&&Z.setTimeout?Z:I,S={}.toString.call(I.process)==="[object process]"?function(m){process.nextTick(function(){te(m)})}:(function(){if(I.postMessage&&!I.importScripts){var m=!0,E=I.onmessage;return I.onmessage=function(){m=!1},I.postMessage("","*"),I.onmessage=E,m}})()?(D="setImmediate$"+Math.random()+"$",I.addEventListener?I.addEventListener("message",Q,!1):I.attachEvent("onmessage",Q),function(m){I.postMessage(D+m,"*")}):I.MessageChannel?((O=new MessageChannel).port1.onmessage=function(m){te(m.data)},function(m){O.port2.postMessage(m)}):P&&"onreadystatechange"in P.createElement("script")?(y=P.documentElement,function(m){var E=P.createElement("script");E.onreadystatechange=function(){te(m),E.onreadystatechange=null,y.removeChild(E),E=null},y.appendChild(E)}):function(m){setTimeout(te,0,m)},Z.setImmediate=function(m){typeof m!="function"&&(m=new Function(""+m));for(var E=new Array(arguments.length-1),C=0;C<E.length;C++)E[C]=arguments[C+1];var M={callback:m,args:E};return L[F]=M,S(F),F++},Z.clearImmediate=ee}function ee(m){delete L[m]}function te(m){if(Y)setTimeout(te,0,m);else{var E=L[m];if(E){Y=!0;try{(function(C){var M=C.callback,W=C.args;switch(W.length){case 0:M();break;case 1:M(W[0]);break;case 2:M(W[0],W[1]);break;case 3:M(W[0],W[1],W[2]);break;default:M.apply(R,W)}})(E)}finally{ee(m),Y=!1}}}}function Q(m){m.source===I&&typeof m.data=="string"&&m.data.indexOf(D)===0&&te(+m.data.slice(D.length))}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,typeof Ea<"u"?Ea:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Zc)),Zc.exports}var cp=up();const r1=Rs(cp);var Ql={exports:{}},dp=Ql.exports,v0;function fp(){return v0||(v0=1,(function(A){(function(){function k(m){var E={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(m===!1)return JSON.parse(JSON.stringify(E));var C={};for(var M in E)E.hasOwnProperty(M)&&(C[M]=E[M].defaultValue);return C}function x(){var m=k(!0),E={};for(var C in m)m.hasOwnProperty(C)&&(E[C]=!0);return E}var g={},T={},_={},I=k(!0),R="vanilla",S={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:k(!0),allOn:x()};g.helper={},g.extensions={},g.setOption=function(m,E){return I[m]=E,this},g.getOption=function(m){return I[m]},g.getOptions=function(){return I},g.resetOptions=function(){I=k(!0)},g.setFlavor=function(m){if(!S.hasOwnProperty(m))throw Error(m+" flavor was not found");g.resetOptions();var E=S[m];R=m;for(var C in E)E.hasOwnProperty(C)&&(I[C]=E[C])},g.getFlavor=function(){return R},g.getFlavorOptions=function(m){if(S.hasOwnProperty(m))return S[m]},g.getDefaultOptions=function(m){return k(m)},g.subParser=function(m,E){if(g.helper.isString(m))if(typeof E<"u")T[m]=E;else{if(T.hasOwnProperty(m))return T[m];throw Error("SubParser named "+m+" not registered!")}},g.extension=function(m,E){if(!g.helper.isString(m))throw Error("Extension 'name' must be a string");if(m=g.helper.stdExtName(m),g.helper.isUndefined(E)){if(!_.hasOwnProperty(m))throw Error("Extension named "+m+" is not registered!");return _[m]}else{typeof E=="function"&&(E=E()),g.helper.isArray(E)||(E=[E]);var C=y(E,m);if(C.valid)_[m]=E;else throw Error(C.error)}},g.getAllExtensions=function(){return _},g.removeExtension=function(m){delete _[m]},g.resetExtensions=function(){_={}};function y(m,E){var C=E?"Error in "+E+" extension->":"Error in unnamed extension",M={valid:!0,error:""};g.helper.isArray(m)||(m=[m]);for(var W=0;W<m.length;++W){var H=C+" sub-extension "+W+": ",ae=m[W];if(typeof ae!="object")return M.valid=!1,M.error=H+"must be an object, but "+typeof ae+" given",M;if(!g.helper.isString(ae.type))return M.valid=!1,M.error=H+'property "type" must be a string, but '+typeof ae.type+" given",M;var me=ae.type=ae.type.toLowerCase();if(me==="language"&&(me=ae.type="lang"),me==="html"&&(me=ae.type="output"),me!=="lang"&&me!=="output"&&me!=="listener")return M.valid=!1,M.error=H+"type "+me+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',M;if(me==="listener"){if(g.helper.isUndefined(ae.listeners))return M.valid=!1,M.error=H+'. Extensions of type "listener" must have a property called "listeners"',M}else if(g.helper.isUndefined(ae.filter)&&g.helper.isUndefined(ae.regex))return M.valid=!1,M.error=H+me+' extensions must define either a "regex" property or a "filter" method',M;if(ae.listeners){if(typeof ae.listeners!="object")return M.valid=!1,M.error=H+'"listeners" property must be an object but '+typeof ae.listeners+" given",M;for(var J in ae.listeners)if(ae.listeners.hasOwnProperty(J)&&typeof ae.listeners[J]!="function")return M.valid=!1,M.error=H+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+J+" must be a function but "+typeof ae.listeners[J]+" given",M}if(ae.filter){if(typeof ae.filter!="function")return M.valid=!1,M.error=H+'"filter" must be a function, but '+typeof ae.filter+" given",M}else if(ae.regex){if(g.helper.isString(ae.regex)&&(ae.regex=new RegExp(ae.regex,"g")),!(ae.regex instanceof RegExp))return M.valid=!1,M.error=H+'"regex" property must either be a string or a RegExp object, but '+typeof ae.regex+" given",M;if(g.helper.isUndefined(ae.replace))return M.valid=!1,M.error=H+'"regex" extensions must implement a replace string or function',M}}return M}g.validateExtension=function(m){var E=y(m,null);return E.valid?!0:(console.warn(E.error),!1)},g.hasOwnProperty("helper")||(g.helper={}),g.helper.isString=function(m){return typeof m=="string"||m instanceof String},g.helper.isFunction=function(m){var E={};return m&&E.toString.call(m)==="[object Function]"},g.helper.isArray=function(m){return Array.isArray(m)},g.helper.isUndefined=function(m){return typeof m>"u"},g.helper.forEach=function(m,E){if(g.helper.isUndefined(m))throw new Error("obj param is required");if(g.helper.isUndefined(E))throw new Error("callback param is required");if(!g.helper.isFunction(E))throw new Error("callback param must be a function/closure");if(typeof m.forEach=="function")m.forEach(E);else if(g.helper.isArray(m))for(var C=0;C<m.length;C++)E(m[C],C,m);else if(typeof m=="object")for(var M in m)m.hasOwnProperty(M)&&E(m[M],M,m);else throw new Error("obj does not seem to be an array or an iterable object")},g.helper.stdExtName=function(m){return m.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function O(m,E){var C=E.charCodeAt(0);return"¨E"+C+"E"}g.helper.escapeCharactersCallback=O,g.helper.escapeCharacters=function(m,E,C){var M="(["+E.replace(/([\[\]\\])/g,"\\$1")+"])";C&&(M="\\\\"+M);var W=new RegExp(M,"g");return m=m.replace(W,O),m},g.helper.unescapeHTMLEntities=function(m){return m.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var D=function(m,E,C,M){var W=M||"",H=W.indexOf("g")>-1,ae=new RegExp(E+"|"+C,"g"+W.replace(/g/g,"")),me=new RegExp(E,W.replace(/g/g,"")),J=[],ge,j,$,X,ie;do for(ge=0;$=ae.exec(m);)if(me.test($[0]))ge++||(j=ae.lastIndex,X=j-$[0].length);else if(ge&&!--ge){ie=$.index+$[0].length;var Se={left:{start:X,end:j},match:{start:j,end:$.index},right:{start:$.index,end:ie},wholeMatch:{start:X,end:ie}};if(J.push(Se),!H)return J}while(ge&&(ae.lastIndex=j));return J};g.helper.matchRecursiveRegExp=function(m,E,C,M){for(var W=D(m,E,C,M),H=[],ae=0;ae<W.length;++ae)H.push([m.slice(W[ae].wholeMatch.start,W[ae].wholeMatch.end),m.slice(W[ae].match.start,W[ae].match.end),m.slice(W[ae].left.start,W[ae].left.end),m.slice(W[ae].right.start,W[ae].right.end)]);return H},g.helper.replaceRecursiveRegExp=function(m,E,C,M,W){if(!g.helper.isFunction(E)){var H=E;E=function(){return H}}var ae=D(m,C,M,W),me=m,J=ae.length;if(J>0){var ge=[];ae[0].wholeMatch.start!==0&&ge.push(m.slice(0,ae[0].wholeMatch.start));for(var j=0;j<J;++j)ge.push(E(m.slice(ae[j].wholeMatch.start,ae[j].wholeMatch.end),m.slice(ae[j].match.start,ae[j].match.end),m.slice(ae[j].left.start,ae[j].left.end),m.slice(ae[j].right.start,ae[j].right.end))),j<J-1&&ge.push(m.slice(ae[j].wholeMatch.end,ae[j+1].wholeMatch.start));ae[J-1].wholeMatch.end<m.length&&ge.push(m.slice(ae[J-1].wholeMatch.end)),me=ge.join("")}return me},g.helper.regexIndexOf=function(m,E,C){if(!g.helper.isString(m))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(E instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var M=m.substring(C||0).search(E);return M>=0?M+(C||0):M},g.helper.splitAtIndex=function(m,E){if(!g.helper.isString(m))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[m.substring(0,E),m.substring(E)]},g.helper.encodeEmailAddress=function(m){var E=[function(C){return"&#"+C.charCodeAt(0)+";"},function(C){return"&#x"+C.charCodeAt(0).toString(16)+";"},function(C){return C}];return m=m.replace(/./g,function(C){if(C==="@")C=E[Math.floor(Math.random()*2)](C);else{var M=Math.random();C=M>.9?E[2](C):M>.45?E[1](C):E[0](C)}return C}),m},g.helper.padEnd=function(E,C,M){return C=C>>0,M=String(M||" "),E.length>C?String(E):(C=C-E.length,C>M.length&&(M+=M.repeat(C/M.length)),String(E)+M.slice(0,C))},typeof console>"u"&&(console={warn:function(m){alert(m)},log:function(m){alert(m)},error:function(m){throw m}}),g.helper.regexes={asteriskDashAndColon:/([*_:~])/g},g.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},g.Converter=function(m){var E={},C=[],M=[],W={},H=R,ae={parsed:{},raw:"",format:""};me();function me(){m=m||{};for(var X in I)I.hasOwnProperty(X)&&(E[X]=I[X]);if(typeof m=="object")for(var ie in m)m.hasOwnProperty(ie)&&(E[ie]=m[ie]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof m+" was passed instead.");E.extensions&&g.helper.forEach(E.extensions,J)}function J(X,ie){if(ie=ie||null,g.helper.isString(X))if(X=g.helper.stdExtName(X),ie=X,g.extensions[X]){console.warn("DEPRECATION WARNING: "+X+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),ge(g.extensions[X],X);return}else if(!g.helper.isUndefined(_[X]))X=_[X];else throw Error('Extension "'+X+'" could not be loaded. It was either not found or is not a valid extension.');typeof X=="function"&&(X=X()),g.helper.isArray(X)||(X=[X]);var Se=y(X,ie);if(!Se.valid)throw Error(Se.error);for(var _e=0;_e<X.length;++_e){switch(X[_e].type){case"lang":C.push(X[_e]);break;case"output":M.push(X[_e]);break}if(X[_e].hasOwnProperty("listeners"))for(var se in X[_e].listeners)X[_e].listeners.hasOwnProperty(se)&&j(se,X[_e].listeners[se])}}function ge(X,ie){typeof X=="function"&&(X=X(new g.Converter)),g.helper.isArray(X)||(X=[X]);var Se=y(X,ie);if(!Se.valid)throw Error(Se.error);for(var _e=0;_e<X.length;++_e)switch(X[_e].type){case"lang":C.push(X[_e]);break;case"output":M.push(X[_e]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(X,ie){if(!g.helper.isString(X))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof X+" given");if(typeof ie!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof ie+" given");W.hasOwnProperty(X)||(W[X]=[]),W[X].push(ie)}function $(X){var ie=X.match(/^\s*/)[0].length,Se=new RegExp("^\\s{0,"+ie+"}","gm");return X.replace(Se,"")}this._dispatch=function(ie,Se,_e,se){if(W.hasOwnProperty(ie))for(var le=0;le<W[ie].length;++le){var pe=W[ie][le](ie,Se,this,_e,se);pe&&typeof pe<"u"&&(Se=pe)}return Se},this.listen=function(X,ie){return j(X,ie),this},this.makeHtml=function(X){if(!X)return X;var ie={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:C,outputModifiers:M,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return X=X.replace(/¨/g,"¨T"),X=X.replace(/\$/g,"¨D"),X=X.replace(/\r\n/g,`
`),X=X.replace(/\r/g,`
`),X=X.replace(/\u00A0/g,"&nbsp;"),E.smartIndentationFix&&(X=$(X)),X=`

`+X+`

`,X=g.subParser("detab")(X,E,ie),X=X.replace(/^[ \t]+$/mg,""),g.helper.forEach(C,function(Se){X=g.subParser("runExtension")(Se,X,E,ie)}),X=g.subParser("metadata")(X,E,ie),X=g.subParser("hashPreCodeTags")(X,E,ie),X=g.subParser("githubCodeBlocks")(X,E,ie),X=g.subParser("hashHTMLBlocks")(X,E,ie),X=g.subParser("hashCodeTags")(X,E,ie),X=g.subParser("stripLinkDefinitions")(X,E,ie),X=g.subParser("blockGamut")(X,E,ie),X=g.subParser("unhashHTMLSpans")(X,E,ie),X=g.subParser("unescapeSpecialChars")(X,E,ie),X=X.replace(/¨D/g,"$$"),X=X.replace(/¨T/g,"¨"),X=g.subParser("completeHTMLDocument")(X,E,ie),g.helper.forEach(M,function(Se){X=g.subParser("runExtension")(Se,X,E,ie)}),ae=ie.metadata,X},this.makeMarkdown=this.makeMd=function(X,ie){if(X=X.replace(/\r\n/g,`
`),X=X.replace(/\r/g,`
`),X=X.replace(/>[ \t]+</,">¨NBSP;<"),!ie)if(window&&window.document)ie=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var Se=ie.createElement("div");Se.innerHTML=X;var _e={preList:De(Se)};Ne(Se);for(var se=Se.childNodes,le="",pe=0;pe<se.length;pe++)le+=g.subParser("makeMarkdown.node")(se[pe],_e);function Ne(Be){for(var ze=0;ze<Be.childNodes.length;++ze){var $e=Be.childNodes[ze];$e.nodeType===3?!/\S/.test($e.nodeValue)&&!/^[ ]+$/.test($e.nodeValue)?(Be.removeChild($e),--ze):($e.nodeValue=$e.nodeValue.split(`
`).join(" "),$e.nodeValue=$e.nodeValue.replace(/(\s)+/g,"$1")):$e.nodeType===1&&Ne($e)}}function De(Be){for(var ze=Be.querySelectorAll("pre"),$e=[],Xe=0;Xe<ze.length;++Xe)if(ze[Xe].childElementCount===1&&ze[Xe].firstChild.tagName.toLowerCase()==="code"){var Ve=ze[Xe].firstChild.innerHTML.trim(),Dt=ze[Xe].firstChild.getAttribute("data-language")||"";if(Dt==="")for(var Tt=ze[Xe].firstChild.className.split(" "),vt=0;vt<Tt.length;++vt){var yt=Tt[vt].match(/^language-(.+)$/);if(yt!==null){Dt=yt[1];break}}Ve=g.helper.unescapeHTMLEntities(Ve),$e.push(Ve),ze[Xe].outerHTML='<precode language="'+Dt+'" precodenum="'+Xe.toString()+'"></precode>'}else $e.push(ze[Xe].innerHTML),ze[Xe].innerHTML="",ze[Xe].setAttribute("prenum",Xe.toString());return $e}return le},this.setOption=function(X,ie){E[X]=ie},this.getOption=function(X){return E[X]},this.getOptions=function(){return E},this.addExtension=function(X,ie){ie=ie||null,J(X,ie)},this.useExtension=function(X){J(X)},this.setFlavor=function(X){if(!S.hasOwnProperty(X))throw Error(X+" flavor was not found");var ie=S[X];H=X;for(var Se in ie)ie.hasOwnProperty(Se)&&(E[Se]=ie[Se])},this.getFlavor=function(){return H},this.removeExtension=function(X){g.helper.isArray(X)||(X=[X]);for(var ie=0;ie<X.length;++ie){for(var Se=X[ie],_e=0;_e<C.length;++_e)C[_e]===Se&&C.splice(_e,1);for(var se=0;se<M.length;++se)M[se]===Se&&M.splice(se,1)}},this.getAllExtensions=function(){return{language:C,output:M}},this.getMetadata=function(X){return X?ae.raw:ae.parsed},this.getMetadataFormat=function(){return ae.format},this._setMetadataPair=function(X,ie){ae.parsed[X]=ie},this._setMetadataFormat=function(X){ae.format=X},this._setMetadataRaw=function(X){ae.raw=X}},g.subParser("anchors",function(m,E,C){m=C.converter._dispatch("anchors.before",m,E,C);var M=function(W,H,ae,me,J,ge,j){if(g.helper.isUndefined(j)&&(j=""),ae=ae.toLowerCase(),W.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)me="";else if(!me)if(ae||(ae=H.toLowerCase().replace(/ ?\n/g," ")),me="#"+ae,!g.helper.isUndefined(C.gUrls[ae]))me=C.gUrls[ae],g.helper.isUndefined(C.gTitles[ae])||(j=C.gTitles[ae]);else return W;me=me.replace(g.helper.regexes.asteriskDashAndColon,g.helper.escapeCharactersCallback);var $='<a href="'+me+'"';return j!==""&&j!==null&&(j=j.replace(/"/g,"&quot;"),j=j.replace(g.helper.regexes.asteriskDashAndColon,g.helper.escapeCharactersCallback),$+=' title="'+j+'"'),E.openLinksInNewWindow&&!/^#/.test(me)&&($+=' rel="noopener noreferrer" target="¨E95Eblank"'),$+=">"+H+"</a>",$};return m=m.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,M),m=m.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,M),m=m.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,M),m=m.replace(/\[([^\[\]]+)]()()()()()/g,M),E.ghMentions&&(m=m.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(W,H,ae,me,J){if(ae==="\\")return H+me;if(!g.helper.isString(E.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var ge=E.ghMentionsLink.replace(/\{u}/g,J),j="";return E.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="¨E95Eblank"'),H+'<a href="'+ge+'"'+j+">"+me+"</a>"})),m=C.converter._dispatch("anchors.after",m,E,C),m});var F=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,L=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,Y=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,P=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,Z=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,ee=function(m){return function(E,C,M,W,H,ae,me){M=M.replace(g.helper.regexes.asteriskDashAndColon,g.helper.escapeCharactersCallback);var J=M,ge="",j="",$=C||"",X=me||"";return/^www\./i.test(M)&&(M=M.replace(/^www\./i,"http://www.")),m.excludeTrailingPunctuationFromURLs&&ae&&(ge=ae),m.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="¨E95Eblank"'),$+'<a href="'+M+'"'+j+">"+J+"</a>"+ge+X}},te=function(m,E){return function(C,M,W){var H="mailto:";return M=M||"",W=g.subParser("unescapeSpecialChars")(W,m,E),m.encodeEmails?(H=g.helper.encodeEmailAddress(H+W),W=g.helper.encodeEmailAddress(W)):H=H+W,M+'<a href="'+H+'">'+W+"</a>"}};g.subParser("autoLinks",function(m,E,C){return m=C.converter._dispatch("autoLinks.before",m,E,C),m=m.replace(Y,ee(E)),m=m.replace(Z,te(E,C)),m=C.converter._dispatch("autoLinks.after",m,E,C),m}),g.subParser("simplifiedAutoLinks",function(m,E,C){return E.simplifiedAutoLink&&(m=C.converter._dispatch("simplifiedAutoLinks.before",m,E,C),E.excludeTrailingPunctuationFromURLs?m=m.replace(L,ee(E)):m=m.replace(F,ee(E)),m=m.replace(P,te(E,C)),m=C.converter._dispatch("simplifiedAutoLinks.after",m,E,C)),m}),g.subParser("blockGamut",function(m,E,C){return m=C.converter._dispatch("blockGamut.before",m,E,C),m=g.subParser("blockQuotes")(m,E,C),m=g.subParser("headers")(m,E,C),m=g.subParser("horizontalRule")(m,E,C),m=g.subParser("lists")(m,E,C),m=g.subParser("codeBlocks")(m,E,C),m=g.subParser("tables")(m,E,C),m=g.subParser("hashHTMLBlocks")(m,E,C),m=g.subParser("paragraphs")(m,E,C),m=C.converter._dispatch("blockGamut.after",m,E,C),m}),g.subParser("blockQuotes",function(m,E,C){m=C.converter._dispatch("blockQuotes.before",m,E,C),m=m+`

`;var M=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return E.splitAdjacentBlockquotes&&(M=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),m=m.replace(M,function(W){return W=W.replace(/^[ \t]*>[ \t]?/gm,""),W=W.replace(/¨0/g,""),W=W.replace(/^[ \t]+$/gm,""),W=g.subParser("githubCodeBlocks")(W,E,C),W=g.subParser("blockGamut")(W,E,C),W=W.replace(/(^|\n)/g,"$1  "),W=W.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(H,ae){var me=ae;return me=me.replace(/^  /mg,"¨0"),me=me.replace(/¨0/g,""),me}),g.subParser("hashBlock")(`<blockquote>
`+W+`
</blockquote>`,E,C)}),m=C.converter._dispatch("blockQuotes.after",m,E,C),m}),g.subParser("codeBlocks",function(m,E,C){m=C.converter._dispatch("codeBlocks.before",m,E,C),m+="¨0";var M=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return m=m.replace(M,function(W,H,ae){var me=H,J=ae,ge=`
`;return me=g.subParser("outdent")(me,E,C),me=g.subParser("encodeCode")(me,E,C),me=g.subParser("detab")(me,E,C),me=me.replace(/^\n+/g,""),me=me.replace(/\n+$/g,""),E.omitExtraWLInCodeBlocks&&(ge=""),me="<pre><code>"+me+ge+"</code></pre>",g.subParser("hashBlock")(me,E,C)+J}),m=m.replace(/¨0/,""),m=C.converter._dispatch("codeBlocks.after",m,E,C),m}),g.subParser("codeSpans",function(m,E,C){return m=C.converter._dispatch("codeSpans.before",m,E,C),typeof m>"u"&&(m=""),m=m.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(M,W,H,ae){var me=ae;return me=me.replace(/^([ \t]*)/g,""),me=me.replace(/[ \t]*$/g,""),me=g.subParser("encodeCode")(me,E,C),me=W+"<code>"+me+"</code>",me=g.subParser("hashHTMLSpans")(me,E,C),me}),m=C.converter._dispatch("codeSpans.after",m,E,C),m}),g.subParser("completeHTMLDocument",function(m,E,C){if(!E.completeHTMLDocument)return m;m=C.converter._dispatch("completeHTMLDocument.before",m,E,C);var M="html",W=`<!DOCTYPE HTML>
`,H="",ae=`<meta charset="utf-8">
`,me="",J="";typeof C.metadata.parsed.doctype<"u"&&(W="<!DOCTYPE "+C.metadata.parsed.doctype+`>
`,M=C.metadata.parsed.doctype.toString().toLowerCase(),(M==="html"||M==="html5")&&(ae='<meta charset="utf-8">'));for(var ge in C.metadata.parsed)if(C.metadata.parsed.hasOwnProperty(ge))switch(ge.toLowerCase()){case"doctype":break;case"title":H="<title>"+C.metadata.parsed.title+`</title>
`;break;case"charset":M==="html"||M==="html5"?ae='<meta charset="'+C.metadata.parsed.charset+`">
`:ae='<meta name="charset" content="'+C.metadata.parsed.charset+`">
`;break;case"language":case"lang":me=' lang="'+C.metadata.parsed[ge]+'"',J+='<meta name="'+ge+'" content="'+C.metadata.parsed[ge]+`">
`;break;default:J+='<meta name="'+ge+'" content="'+C.metadata.parsed[ge]+`">
`}return m=W+"<html"+me+`>
<head>
`+H+ae+J+`</head>
<body>
`+m.trim()+`
</body>
</html>`,m=C.converter._dispatch("completeHTMLDocument.after",m,E,C),m}),g.subParser("detab",function(m,E,C){return m=C.converter._dispatch("detab.before",m,E,C),m=m.replace(/\t(?=\t)/g,"    "),m=m.replace(/\t/g,"¨A¨B"),m=m.replace(/¨B(.+?)¨A/g,function(M,W){for(var H=W,ae=4-H.length%4,me=0;me<ae;me++)H+=" ";return H}),m=m.replace(/¨A/g,"    "),m=m.replace(/¨B/g,""),m=C.converter._dispatch("detab.after",m,E,C),m}),g.subParser("ellipsis",function(m,E,C){return E.ellipsis&&(m=C.converter._dispatch("ellipsis.before",m,E,C),m=m.replace(/\.\.\./g,"…"),m=C.converter._dispatch("ellipsis.after",m,E,C)),m}),g.subParser("emoji",function(m,E,C){if(!E.emoji)return m;m=C.converter._dispatch("emoji.before",m,E,C);var M=/:([\S]+?):/g;return m=m.replace(M,function(W,H){return g.helper.emojis.hasOwnProperty(H)?g.helper.emojis[H]:W}),m=C.converter._dispatch("emoji.after",m,E,C),m}),g.subParser("encodeAmpsAndAngles",function(m,E,C){return m=C.converter._dispatch("encodeAmpsAndAngles.before",m,E,C),m=m.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),m=m.replace(/<(?![a-z\/?$!])/gi,"&lt;"),m=m.replace(/</g,"&lt;"),m=m.replace(/>/g,"&gt;"),m=C.converter._dispatch("encodeAmpsAndAngles.after",m,E,C),m}),g.subParser("encodeBackslashEscapes",function(m,E,C){return m=C.converter._dispatch("encodeBackslashEscapes.before",m,E,C),m=m.replace(/\\(\\)/g,g.helper.escapeCharactersCallback),m=m.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,g.helper.escapeCharactersCallback),m=C.converter._dispatch("encodeBackslashEscapes.after",m,E,C),m}),g.subParser("encodeCode",function(m,E,C){return m=C.converter._dispatch("encodeCode.before",m,E,C),m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,g.helper.escapeCharactersCallback),m=C.converter._dispatch("encodeCode.after",m,E,C),m}),g.subParser("escapeSpecialCharsWithinTagAttributes",function(m,E,C){m=C.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",m,E,C);var M=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,W=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return m=m.replace(M,function(H){return H.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,g.helper.escapeCharactersCallback)}),m=m.replace(W,function(H){return H.replace(/([\\`*_~=|])/g,g.helper.escapeCharactersCallback)}),m=C.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",m,E,C),m}),g.subParser("githubCodeBlocks",function(m,E,C){return E.ghCodeBlocks?(m=C.converter._dispatch("githubCodeBlocks.before",m,E,C),m+="¨0",m=m.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(M,W,H,ae){var me=E.omitExtraWLInCodeBlocks?"":`
`;return ae=g.subParser("encodeCode")(ae,E,C),ae=g.subParser("detab")(ae,E,C),ae=ae.replace(/^\n+/g,""),ae=ae.replace(/\n+$/g,""),ae="<pre><code"+(H?' class="'+H+" language-"+H+'"':"")+">"+ae+me+"</code></pre>",ae=g.subParser("hashBlock")(ae,E,C),`

¨G`+(C.ghCodeBlocks.push({text:M,codeblock:ae})-1)+`G

`}),m=m.replace(/¨0/,""),C.converter._dispatch("githubCodeBlocks.after",m,E,C)):m}),g.subParser("hashBlock",function(m,E,C){return m=C.converter._dispatch("hashBlock.before",m,E,C),m=m.replace(/(^\n+|\n+$)/g,""),m=`

¨K`+(C.gHtmlBlocks.push(m)-1)+`K

`,m=C.converter._dispatch("hashBlock.after",m,E,C),m}),g.subParser("hashCodeTags",function(m,E,C){m=C.converter._dispatch("hashCodeTags.before",m,E,C);var M=function(W,H,ae,me){var J=ae+g.subParser("encodeCode")(H,E,C)+me;return"¨C"+(C.gHtmlSpans.push(J)-1)+"C"};return m=g.helper.replaceRecursiveRegExp(m,M,"<code\\b[^>]*>","</code>","gim"),m=C.converter._dispatch("hashCodeTags.after",m,E,C),m}),g.subParser("hashElement",function(m,E,C){return function(M,W){var H=W;return H=H.replace(/\n\n/g,`
`),H=H.replace(/^\n/,""),H=H.replace(/\n+$/g,""),H=`

¨K`+(C.gHtmlBlocks.push(H)-1)+`K

`,H}}),g.subParser("hashHTMLBlocks",function(m,E,C){m=C.converter._dispatch("hashHTMLBlocks.before",m,E,C);var M=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],W=function(X,ie,Se,_e){var se=X;return Se.search(/\bmarkdown\b/)!==-1&&(se=Se+C.converter.makeHtml(ie)+_e),`

¨K`+(C.gHtmlBlocks.push(se)-1)+`K

`};E.backslashEscapesHTMLTags&&(m=m.replace(/\\<(\/?[^>]+?)>/g,function(X,ie){return"&lt;"+ie+"&gt;"}));for(var H=0;H<M.length;++H)for(var ae,me=new RegExp("^ {0,3}(<"+M[H]+"\\b[^>]*>)","im"),J="<"+M[H]+"\\b[^>]*>",ge="</"+M[H]+">";(ae=g.helper.regexIndexOf(m,me))!==-1;){var j=g.helper.splitAtIndex(m,ae),$=g.helper.replaceRecursiveRegExp(j[1],W,J,ge,"im");if($===j[1])break;m=j[0].concat($)}return m=m.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,g.subParser("hashElement")(m,E,C)),m=g.helper.replaceRecursiveRegExp(m,function(X){return`

¨K`+(C.gHtmlBlocks.push(X)-1)+`K

`},"^ {0,3}<!--","-->","gm"),m=m.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,g.subParser("hashElement")(m,E,C)),m=C.converter._dispatch("hashHTMLBlocks.after",m,E,C),m}),g.subParser("hashHTMLSpans",function(m,E,C){m=C.converter._dispatch("hashHTMLSpans.before",m,E,C);function M(W){return"¨C"+(C.gHtmlSpans.push(W)-1)+"C"}return m=m.replace(/<[^>]+?\/>/gi,function(W){return M(W)}),m=m.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(W){return M(W)}),m=m.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(W){return M(W)}),m=m.replace(/<[^>]+?>/gi,function(W){return M(W)}),m=C.converter._dispatch("hashHTMLSpans.after",m,E,C),m}),g.subParser("unhashHTMLSpans",function(m,E,C){m=C.converter._dispatch("unhashHTMLSpans.before",m,E,C);for(var M=0;M<C.gHtmlSpans.length;++M){for(var W=C.gHtmlSpans[M],H=0;/¨C(\d+)C/.test(W);){var ae=RegExp.$1;if(W=W.replace("¨C"+ae+"C",C.gHtmlSpans[ae]),H===10){console.error("maximum nesting of 10 spans reached!!!");break}++H}m=m.replace("¨C"+M+"C",W)}return m=C.converter._dispatch("unhashHTMLSpans.after",m,E,C),m}),g.subParser("hashPreCodeTags",function(m,E,C){m=C.converter._dispatch("hashPreCodeTags.before",m,E,C);var M=function(W,H,ae,me){var J=ae+g.subParser("encodeCode")(H,E,C)+me;return`

¨G`+(C.ghCodeBlocks.push({text:W,codeblock:J})-1)+`G

`};return m=g.helper.replaceRecursiveRegExp(m,M,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),m=C.converter._dispatch("hashPreCodeTags.after",m,E,C),m}),g.subParser("headers",function(m,E,C){m=C.converter._dispatch("headers.before",m,E,C);var M=isNaN(parseInt(E.headerLevelStart))?1:parseInt(E.headerLevelStart),W=E.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,H=E.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;m=m.replace(W,function(J,ge){var j=g.subParser("spanGamut")(ge,E,C),$=E.noHeaderId?"":' id="'+me(ge)+'"',X=M,ie="<h"+X+$+">"+j+"</h"+X+">";return g.subParser("hashBlock")(ie,E,C)}),m=m.replace(H,function(J,ge){var j=g.subParser("spanGamut")(ge,E,C),$=E.noHeaderId?"":' id="'+me(ge)+'"',X=M+1,ie="<h"+X+$+">"+j+"</h"+X+">";return g.subParser("hashBlock")(ie,E,C)});var ae=E.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;m=m.replace(ae,function(J,ge,j){var $=j;E.customizedHeaderId&&($=j.replace(/\s?\{([^{]+?)}\s*$/,""));var X=g.subParser("spanGamut")($,E,C),ie=E.noHeaderId?"":' id="'+me(j)+'"',Se=M-1+ge.length,_e="<h"+Se+ie+">"+X+"</h"+Se+">";return g.subParser("hashBlock")(_e,E,C)});function me(J){var ge,j;if(E.customizedHeaderId){var $=J.match(/\{([^{]+?)}\s*$/);$&&$[1]&&(J=$[1])}return ge=J,g.helper.isString(E.prefixHeaderId)?j=E.prefixHeaderId:E.prefixHeaderId===!0?j="section-":j="",E.rawPrefixHeaderId||(ge=j+ge),E.ghCompatibleHeaderId?ge=ge.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():E.rawHeaderId?ge=ge.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():ge=ge.replace(/[^\w]/g,"").toLowerCase(),E.rawPrefixHeaderId&&(ge=j+ge),C.hashLinkCounts[ge]?ge=ge+"-"+C.hashLinkCounts[ge]++:C.hashLinkCounts[ge]=1,ge}return m=C.converter._dispatch("headers.after",m,E,C),m}),g.subParser("horizontalRule",function(m,E,C){m=C.converter._dispatch("horizontalRule.before",m,E,C);var M=g.subParser("hashBlock")("<hr />",E,C);return m=m.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,M),m=m.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,M),m=m.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,M),m=C.converter._dispatch("horizontalRule.after",m,E,C),m}),g.subParser("images",function(m,E,C){m=C.converter._dispatch("images.before",m,E,C);var M=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,W=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,H=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,ae=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,me=/!\[([^\[\]]+)]()()()()()/g;function J(j,$,X,ie,Se,_e,se,le){return ie=ie.replace(/\s/g,""),ge(j,$,X,ie,Se,_e,se,le)}function ge(j,$,X,ie,Se,_e,se,le){var pe=C.gUrls,Ne=C.gTitles,De=C.gDimensions;if(X=X.toLowerCase(),le||(le=""),j.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)ie="";else if(ie===""||ie===null)if((X===""||X===null)&&(X=$.toLowerCase().replace(/ ?\n/g," ")),ie="#"+X,!g.helper.isUndefined(pe[X]))ie=pe[X],g.helper.isUndefined(Ne[X])||(le=Ne[X]),g.helper.isUndefined(De[X])||(Se=De[X].width,_e=De[X].height);else return j;$=$.replace(/"/g,"&quot;").replace(g.helper.regexes.asteriskDashAndColon,g.helper.escapeCharactersCallback),ie=ie.replace(g.helper.regexes.asteriskDashAndColon,g.helper.escapeCharactersCallback);var Be='<img src="'+ie+'" alt="'+$+'"';return le&&g.helper.isString(le)&&(le=le.replace(/"/g,"&quot;").replace(g.helper.regexes.asteriskDashAndColon,g.helper.escapeCharactersCallback),Be+=' title="'+le+'"'),Se&&_e&&(Se=Se==="*"?"auto":Se,_e=_e==="*"?"auto":_e,Be+=' width="'+Se+'"',Be+=' height="'+_e+'"'),Be+=" />",Be}return m=m.replace(ae,ge),m=m.replace(H,J),m=m.replace(W,ge),m=m.replace(M,ge),m=m.replace(me,ge),m=C.converter._dispatch("images.after",m,E,C),m}),g.subParser("italicsAndBold",function(m,E,C){m=C.converter._dispatch("italicsAndBold.before",m,E,C);function M(W,H,ae){return H+W+ae}return E.literalMidWordUnderscores?(m=m.replace(/\b___(\S[\s\S]*?)___\b/g,function(W,H){return M(H,"<strong><em>","</em></strong>")}),m=m.replace(/\b__(\S[\s\S]*?)__\b/g,function(W,H){return M(H,"<strong>","</strong>")}),m=m.replace(/\b_(\S[\s\S]*?)_\b/g,function(W,H){return M(H,"<em>","</em>")})):(m=m.replace(/___(\S[\s\S]*?)___/g,function(W,H){return/\S$/.test(H)?M(H,"<strong><em>","</em></strong>"):W}),m=m.replace(/__(\S[\s\S]*?)__/g,function(W,H){return/\S$/.test(H)?M(H,"<strong>","</strong>"):W}),m=m.replace(/_([^\s_][\s\S]*?)_/g,function(W,H){return/\S$/.test(H)?M(H,"<em>","</em>"):W})),E.literalMidWordAsterisks?(m=m.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(W,H,ae){return M(ae,H+"<strong><em>","</em></strong>")}),m=m.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(W,H,ae){return M(ae,H+"<strong>","</strong>")}),m=m.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(W,H,ae){return M(ae,H+"<em>","</em>")})):(m=m.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(W,H){return/\S$/.test(H)?M(H,"<strong><em>","</em></strong>"):W}),m=m.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(W,H){return/\S$/.test(H)?M(H,"<strong>","</strong>"):W}),m=m.replace(/\*([^\s*][\s\S]*?)\*/g,function(W,H){return/\S$/.test(H)?M(H,"<em>","</em>"):W})),m=C.converter._dispatch("italicsAndBold.after",m,E,C),m}),g.subParser("lists",function(m,E,C){function M(ae,me){C.gListLevel++,ae=ae.replace(/\n{2,}$/,`
`),ae+="¨0";var J=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,ge=/\n[ \t]*\n(?!¨0)/.test(ae);return E.disableForced4SpacesIndentedSublists&&(J=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),ae=ae.replace(J,function(j,$,X,ie,Se,_e,se){se=se&&se.trim()!=="";var le=g.subParser("outdent")(Se,E,C),pe="";return _e&&E.tasklists&&(pe=' class="task-list-item" style="list-style-type: none;"',le=le.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Ne='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return se&&(Ne+=" checked"),Ne+=">",Ne})),le=le.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Ne){return"¨A"+Ne}),$||le.search(/\n{2,}/)>-1?(le=g.subParser("githubCodeBlocks")(le,E,C),le=g.subParser("blockGamut")(le,E,C)):(le=g.subParser("lists")(le,E,C),le=le.replace(/\n$/,""),le=g.subParser("hashHTMLBlocks")(le,E,C),le=le.replace(/\n\n+/g,`

`),ge?le=g.subParser("paragraphs")(le,E,C):le=g.subParser("spanGamut")(le,E,C)),le=le.replace("¨A",""),le="<li"+pe+">"+le+`</li>
`,le}),ae=ae.replace(/¨0/g,""),C.gListLevel--,me&&(ae=ae.replace(/\s+$/,"")),ae}function W(ae,me){if(me==="ol"){var J=ae.match(/^ *(\d+)\./);if(J&&J[1]!=="1")return' start="'+J[1]+'"'}return""}function H(ae,me,J){var ge=E.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,j=E.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,$=me==="ul"?ge:j,X="";if(ae.search($)!==-1)(function Se(_e){var se=_e.search($),le=W(ae,me);se!==-1?(X+=`

<`+me+le+`>
`+M(_e.slice(0,se),!!J)+"</"+me+`>
`,me=me==="ul"?"ol":"ul",$=me==="ul"?ge:j,Se(_e.slice(se))):X+=`

<`+me+le+`>
`+M(_e,!!J)+"</"+me+`>
`})(ae);else{var ie=W(ae,me);X=`

<`+me+ie+`>
`+M(ae,!!J)+"</"+me+`>
`}return X}return m=C.converter._dispatch("lists.before",m,E,C),m+="¨0",C.gListLevel?m=m.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(ae,me,J){var ge=J.search(/[*+-]/g)>-1?"ul":"ol";return H(me,ge,!0)}):m=m.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(ae,me,J,ge){var j=ge.search(/[*+-]/g)>-1?"ul":"ol";return H(J,j,!1)}),m=m.replace(/¨0/,""),m=C.converter._dispatch("lists.after",m,E,C),m}),g.subParser("metadata",function(m,E,C){if(!E.metadata)return m;m=C.converter._dispatch("metadata.before",m,E,C);function M(W){C.metadata.raw=W,W=W.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),W=W.replace(/\n {4}/g," "),W.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(H,ae,me){return C.metadata.parsed[ae]=me,""})}return m=m.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(W,H,ae){return M(ae),"¨M"}),m=m.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(W,H,ae){return H&&(C.metadata.format=H),M(ae),"¨M"}),m=m.replace(/¨M/g,""),m=C.converter._dispatch("metadata.after",m,E,C),m}),g.subParser("outdent",function(m,E,C){return m=C.converter._dispatch("outdent.before",m,E,C),m=m.replace(/^(\t|[ ]{1,4})/gm,"¨0"),m=m.replace(/¨0/g,""),m=C.converter._dispatch("outdent.after",m,E,C),m}),g.subParser("paragraphs",function(m,E,C){m=C.converter._dispatch("paragraphs.before",m,E,C),m=m.replace(/^\n+/g,""),m=m.replace(/\n+$/g,"");for(var M=m.split(/\n{2,}/g),W=[],H=M.length,ae=0;ae<H;ae++){var me=M[ae];me.search(/¨(K|G)(\d+)\1/g)>=0?W.push(me):me.search(/\S/)>=0&&(me=g.subParser("spanGamut")(me,E,C),me=me.replace(/^([ \t]*)/g,"<p>"),me+="</p>",W.push(me))}for(H=W.length,ae=0;ae<H;ae++){for(var J="",ge=W[ae],j=!1;/¨(K|G)(\d+)\1/.test(ge);){var $=RegExp.$1,X=RegExp.$2;$==="K"?J=C.gHtmlBlocks[X]:j?J=g.subParser("encodeCode")(C.ghCodeBlocks[X].text,E,C):J=C.ghCodeBlocks[X].codeblock,J=J.replace(/\$/g,"$$$$"),ge=ge.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,J),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(ge)&&(j=!0)}W[ae]=ge}return m=W.join(`
`),m=m.replace(/^\n+/g,""),m=m.replace(/\n+$/g,""),C.converter._dispatch("paragraphs.after",m,E,C)}),g.subParser("runExtension",function(m,E,C,M){if(m.filter)E=m.filter(E,M.converter,C);else if(m.regex){var W=m.regex;W instanceof RegExp||(W=new RegExp(W,"g")),E=E.replace(W,m.replace)}return E}),g.subParser("spanGamut",function(m,E,C){return m=C.converter._dispatch("spanGamut.before",m,E,C),m=g.subParser("codeSpans")(m,E,C),m=g.subParser("escapeSpecialCharsWithinTagAttributes")(m,E,C),m=g.subParser("encodeBackslashEscapes")(m,E,C),m=g.subParser("images")(m,E,C),m=g.subParser("anchors")(m,E,C),m=g.subParser("autoLinks")(m,E,C),m=g.subParser("simplifiedAutoLinks")(m,E,C),m=g.subParser("emoji")(m,E,C),m=g.subParser("underline")(m,E,C),m=g.subParser("italicsAndBold")(m,E,C),m=g.subParser("strikethrough")(m,E,C),m=g.subParser("ellipsis")(m,E,C),m=g.subParser("hashHTMLSpans")(m,E,C),m=g.subParser("encodeAmpsAndAngles")(m,E,C),E.simpleLineBreaks?/\n\n¨K/.test(m)||(m=m.replace(/\n+/g,`<br />
`)):m=m.replace(/  +\n/g,`<br />
`),m=C.converter._dispatch("spanGamut.after",m,E,C),m}),g.subParser("strikethrough",function(m,E,C){function M(W){return E.simplifiedAutoLink&&(W=g.subParser("simplifiedAutoLinks")(W,E,C)),"<del>"+W+"</del>"}return E.strikethrough&&(m=C.converter._dispatch("strikethrough.before",m,E,C),m=m.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(W,H){return M(H)}),m=C.converter._dispatch("strikethrough.after",m,E,C)),m}),g.subParser("stripLinkDefinitions",function(m,E,C){var M=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,W=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;m+="¨0";var H=function(ae,me,J,ge,j,$,X){return me=me.toLowerCase(),m.toLowerCase().split(me).length-1<2?ae:(J.match(/^data:.+?\/.+?;base64,/)?C.gUrls[me]=J.replace(/\s/g,""):C.gUrls[me]=g.subParser("encodeAmpsAndAngles")(J,E,C),$?$+X:(X&&(C.gTitles[me]=X.replace(/"|'/g,"&quot;")),E.parseImgDimensions&&ge&&j&&(C.gDimensions[me]={width:ge,height:j}),""))};return m=m.replace(W,H),m=m.replace(M,H),m=m.replace(/¨0/,""),m}),g.subParser("tables",function(m,E,C){if(!E.tables)return m;var M=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,W=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function H(j){return/^:[ \t]*--*$/.test(j)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(j)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(j)?' style="text-align:center;"':""}function ae(j,$){var X="";return j=j.trim(),(E.tablesHeaderId||E.tableHeaderId)&&(X=' id="'+j.replace(/ /g,"_").toLowerCase()+'"'),j=g.subParser("spanGamut")(j,E,C),"<th"+X+$+">"+j+`</th>
`}function me(j,$){var X=g.subParser("spanGamut")(j,E,C);return"<td"+$+">"+X+`</td>
`}function J(j,$){for(var X=`<table>
<thead>
<tr>
`,ie=j.length,Se=0;Se<ie;++Se)X+=j[Se];for(X+=`</tr>
</thead>
<tbody>
`,Se=0;Se<$.length;++Se){X+=`<tr>
`;for(var _e=0;_e<ie;++_e)X+=$[Se][_e];X+=`</tr>
`}return X+=`</tbody>
</table>
`,X}function ge(j){var $,X=j.split(`
`);for($=0;$<X.length;++$)/^ {0,3}\|/.test(X[$])&&(X[$]=X[$].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(X[$])&&(X[$]=X[$].replace(/\|[ \t]*$/,"")),X[$]=g.subParser("codeSpans")(X[$],E,C);var ie=X[0].split("|").map(function(Be){return Be.trim()}),Se=X[1].split("|").map(function(Be){return Be.trim()}),_e=[],se=[],le=[],pe=[];for(X.shift(),X.shift(),$=0;$<X.length;++$)X[$].trim()!==""&&_e.push(X[$].split("|").map(function(Be){return Be.trim()}));if(ie.length<Se.length)return j;for($=0;$<Se.length;++$)le.push(H(Se[$]));for($=0;$<ie.length;++$)g.helper.isUndefined(le[$])&&(le[$]=""),se.push(ae(ie[$],le[$]));for($=0;$<_e.length;++$){for(var Ne=[],De=0;De<se.length;++De)g.helper.isUndefined(_e[$][De]),Ne.push(me(_e[$][De],le[De]));pe.push(Ne)}return J(se,pe)}return m=C.converter._dispatch("tables.before",m,E,C),m=m.replace(/\\(\|)/g,g.helper.escapeCharactersCallback),m=m.replace(M,ge),m=m.replace(W,ge),m=C.converter._dispatch("tables.after",m,E,C),m}),g.subParser("underline",function(m,E,C){return E.underline&&(m=C.converter._dispatch("underline.before",m,E,C),E.literalMidWordUnderscores?(m=m.replace(/\b___(\S[\s\S]*?)___\b/g,function(M,W){return"<u>"+W+"</u>"}),m=m.replace(/\b__(\S[\s\S]*?)__\b/g,function(M,W){return"<u>"+W+"</u>"})):(m=m.replace(/___(\S[\s\S]*?)___/g,function(M,W){return/\S$/.test(W)?"<u>"+W+"</u>":M}),m=m.replace(/__(\S[\s\S]*?)__/g,function(M,W){return/\S$/.test(W)?"<u>"+W+"</u>":M})),m=m.replace(/(_)/g,g.helper.escapeCharactersCallback),m=C.converter._dispatch("underline.after",m,E,C)),m}),g.subParser("unescapeSpecialChars",function(m,E,C){return m=C.converter._dispatch("unescapeSpecialChars.before",m,E,C),m=m.replace(/¨E(\d+)E/g,function(M,W){var H=parseInt(W);return String.fromCharCode(H)}),m=C.converter._dispatch("unescapeSpecialChars.after",m,E,C),m}),g.subParser("makeMarkdown.blockquote",function(m,E){var C="";if(m.hasChildNodes())for(var M=m.childNodes,W=M.length,H=0;H<W;++H){var ae=g.subParser("makeMarkdown.node")(M[H],E);ae!==""&&(C+=ae)}return C=C.trim(),C="> "+C.split(`
`).join(`
> `),C}),g.subParser("makeMarkdown.codeBlock",function(m,E){var C=m.getAttribute("language"),M=m.getAttribute("precodenum");return"```"+C+`
`+E.preList[M]+"\n```"}),g.subParser("makeMarkdown.codeSpan",function(m){return"`"+m.innerHTML+"`"}),g.subParser("makeMarkdown.emphasis",function(m,E){var C="";if(m.hasChildNodes()){C+="*";for(var M=m.childNodes,W=M.length,H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E);C+="*"}return C}),g.subParser("makeMarkdown.header",function(m,E,C){var M=new Array(C+1).join("#"),W="";if(m.hasChildNodes()){W=M+" ";for(var H=m.childNodes,ae=H.length,me=0;me<ae;++me)W+=g.subParser("makeMarkdown.node")(H[me],E)}return W}),g.subParser("makeMarkdown.hr",function(){return"---"}),g.subParser("makeMarkdown.image",function(m){var E="";return m.hasAttribute("src")&&(E+="!["+m.getAttribute("alt")+"](",E+="<"+m.getAttribute("src")+">",m.hasAttribute("width")&&m.hasAttribute("height")&&(E+=" ="+m.getAttribute("width")+"x"+m.getAttribute("height")),m.hasAttribute("title")&&(E+=' "'+m.getAttribute("title")+'"'),E+=")"),E}),g.subParser("makeMarkdown.links",function(m,E){var C="";if(m.hasChildNodes()&&m.hasAttribute("href")){var M=m.childNodes,W=M.length;C="[";for(var H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E);C+="](",C+="<"+m.getAttribute("href")+">",m.hasAttribute("title")&&(C+=' "'+m.getAttribute("title")+'"'),C+=")"}return C}),g.subParser("makeMarkdown.list",function(m,E,C){var M="";if(!m.hasChildNodes())return"";for(var W=m.childNodes,H=W.length,ae=m.getAttribute("start")||1,me=0;me<H;++me)if(!(typeof W[me].tagName>"u"||W[me].tagName.toLowerCase()!=="li")){var J="";C==="ol"?J=ae.toString()+". ":J="- ",M+=J+g.subParser("makeMarkdown.listItem")(W[me],E),++ae}return M+=`
<!-- -->
`,M.trim()}),g.subParser("makeMarkdown.listItem",function(m,E){for(var C="",M=m.childNodes,W=M.length,H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E);return/\n$/.test(C)?C=C.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):C+=`
`,C}),g.subParser("makeMarkdown.node",function(m,E,C){C=C||!1;var M="";if(m.nodeType===3)return g.subParser("makeMarkdown.txt")(m,E);if(m.nodeType===8)return"<!--"+m.data+`-->

`;if(m.nodeType!==1)return"";var W=m.tagName.toLowerCase();switch(W){case"h1":C||(M=g.subParser("makeMarkdown.header")(m,E,1)+`

`);break;case"h2":C||(M=g.subParser("makeMarkdown.header")(m,E,2)+`

`);break;case"h3":C||(M=g.subParser("makeMarkdown.header")(m,E,3)+`

`);break;case"h4":C||(M=g.subParser("makeMarkdown.header")(m,E,4)+`

`);break;case"h5":C||(M=g.subParser("makeMarkdown.header")(m,E,5)+`

`);break;case"h6":C||(M=g.subParser("makeMarkdown.header")(m,E,6)+`

`);break;case"p":C||(M=g.subParser("makeMarkdown.paragraph")(m,E)+`

`);break;case"blockquote":C||(M=g.subParser("makeMarkdown.blockquote")(m,E)+`

`);break;case"hr":C||(M=g.subParser("makeMarkdown.hr")(m,E)+`

`);break;case"ol":C||(M=g.subParser("makeMarkdown.list")(m,E,"ol")+`

`);break;case"ul":C||(M=g.subParser("makeMarkdown.list")(m,E,"ul")+`

`);break;case"precode":C||(M=g.subParser("makeMarkdown.codeBlock")(m,E)+`

`);break;case"pre":C||(M=g.subParser("makeMarkdown.pre")(m,E)+`

`);break;case"table":C||(M=g.subParser("makeMarkdown.table")(m,E)+`

`);break;case"code":M=g.subParser("makeMarkdown.codeSpan")(m,E);break;case"em":case"i":M=g.subParser("makeMarkdown.emphasis")(m,E);break;case"strong":case"b":M=g.subParser("makeMarkdown.strong")(m,E);break;case"del":M=g.subParser("makeMarkdown.strikethrough")(m,E);break;case"a":M=g.subParser("makeMarkdown.links")(m,E);break;case"img":M=g.subParser("makeMarkdown.image")(m,E);break;default:M=m.outerHTML+`

`}return M}),g.subParser("makeMarkdown.paragraph",function(m,E){var C="";if(m.hasChildNodes())for(var M=m.childNodes,W=M.length,H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E);return C=C.trim(),C}),g.subParser("makeMarkdown.pre",function(m,E){var C=m.getAttribute("prenum");return"<pre>"+E.preList[C]+"</pre>"}),g.subParser("makeMarkdown.strikethrough",function(m,E){var C="";if(m.hasChildNodes()){C+="~~";for(var M=m.childNodes,W=M.length,H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E);C+="~~"}return C}),g.subParser("makeMarkdown.strong",function(m,E){var C="";if(m.hasChildNodes()){C+="**";for(var M=m.childNodes,W=M.length,H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E);C+="**"}return C}),g.subParser("makeMarkdown.table",function(m,E){var C="",M=[[],[]],W=m.querySelectorAll("thead>tr>th"),H=m.querySelectorAll("tbody>tr"),ae,me;for(ae=0;ae<W.length;++ae){var J=g.subParser("makeMarkdown.tableCell")(W[ae],E),ge="---";if(W[ae].hasAttribute("style")){var j=W[ae].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(j){case"text-align:left;":ge=":---";break;case"text-align:right;":ge="---:";break;case"text-align:center;":ge=":---:";break}}M[0][ae]=J.trim(),M[1][ae]=ge}for(ae=0;ae<H.length;++ae){var $=M.push([])-1,X=H[ae].getElementsByTagName("td");for(me=0;me<W.length;++me){var ie=" ";typeof X[me]<"u"&&(ie=g.subParser("makeMarkdown.tableCell")(X[me],E)),M[$].push(ie)}}var Se=3;for(ae=0;ae<M.length;++ae)for(me=0;me<M[ae].length;++me){var _e=M[ae][me].length;_e>Se&&(Se=_e)}for(ae=0;ae<M.length;++ae){for(me=0;me<M[ae].length;++me)ae===1?M[ae][me].slice(-1)===":"?M[ae][me]=g.helper.padEnd(M[ae][me].slice(-1),Se-1,"-")+":":M[ae][me]=g.helper.padEnd(M[ae][me],Se,"-"):M[ae][me]=g.helper.padEnd(M[ae][me],Se);C+="| "+M[ae].join(" | ")+` |
`}return C.trim()}),g.subParser("makeMarkdown.tableCell",function(m,E){var C="";if(!m.hasChildNodes())return"";for(var M=m.childNodes,W=M.length,H=0;H<W;++H)C+=g.subParser("makeMarkdown.node")(M[H],E,!0);return C.trim()}),g.subParser("makeMarkdown.txt",function(m){var E=m.nodeValue;return E=E.replace(/ +/g," "),E=E.replace(/¨NBSP;/g," "),E=g.helper.unescapeHTMLEntities(E),E=E.replace(/([*_~|`])/g,"\\$1"),E=E.replace(/^(\s*)>/g,"\\$1>"),E=E.replace(/^#/gm,"\\#"),E=E.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),E=E.replace(/^( {0,3}\d+)\./gm,"$1\\."),E=E.replace(/^( {0,3})([+-])/gm,"$1\\$2"),E=E.replace(/]([\s]*)\(/g,"\\]$1\\("),E=E.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),E});var Q=this;A.exports?A.exports=g:Q.showdown=g}).call(dp)})(Ql)),Ql.exports}var hp=fp();const a1=Rs(hp),mp=async A=>{const k=await A.arrayBuffer(),x=await crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(x)).map(T=>T.toString(16).padStart(2,"0")).join("")},gp=A=>new Promise((k,x)=>{const g=new FileReader;g.readAsDataURL(A),g.onload=()=>k(g.result),g.onerror=T=>x(T)}),i1=(A,k)=>{const x=atob(A.split(",")[1]),g=[];for(let T=0;T<x.length;T+=512){const _=x.slice(T,T+512),I=new Array(_.length);for(let S=0;S<_.length;S++)I[S]=_.charCodeAt(S);const R=new Uint8Array(I);g.push(R)}return new Blob(g,{type:k})},pp=async A=>{const k=new r1,x={bundle_id:A.id,created_at:A.createdAt,title:A.title,items:A.items.map(g=>{if(g.type===lt.FILE||g.type===lt.AUDIO||g.type===lt.DRAWING){const{content:T,..._}=g;return _}return g}),format_version:1,encrypted:!1};return k.file("manifest.json",JSON.stringify(x,null,2)),A.items.forEach(g=>{if(g.type===lt.FILE||g.type===lt.AUDIO||g.type===lt.DRAWING){const T=g,_=i1(T.content,T.mimeType);k.file(T.filename,_)}}),k.generateAsync({type:"blob"})},xp=async A=>{const k=await A.arrayBuffer(),x=await r1.loadAsync(k),g=x.file("manifest.json");if(!g)throw new Error("Invalid package: manifest.json not found.");const T=await g.async("string"),_=JSON.parse(T),I=_.items,R=await Promise.all(I.map(async S=>{if(S.type==="file"||S.type==="audio"||S.type==="drawing"){const y=x.file(S.filename);if(y){const O=await y.async("base64"),D=S.mimeType||"application/octet-stream";S.content=`data:${D};base64,${O}`}}return S}));return{title:_.title,items:R}},yp=A=>A.items.reduce((k,x)=>x.type==="file"||x.type==="audio"||x.type==="drawing"?k+x.size:k+new TextEncoder().encode(JSON.stringify(x)).length,0),bp=A=>{const k=new a1.Converter({sanitize:!0}),x=_=>_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),g=A.items.map(_=>{let I="";switch(_.type){case lt.LINK:const R=_;I=`<p>URL: <a href="${x(R.url)}" target="_blank" rel="noopener noreferrer">${x(R.url)}</a></p>`;break;case lt.NOTE:const S=_;I=`<div class="note-content">${k.makeHtml(S.text)}</div>`;break;case lt.FILE:const y=_;y.mimeType.startsWith("image/")?I=`<img src="${y.content}" alt="${x(y.filename)}" style="max-width: 100%; height: auto; border-radius: 4px;">`:I=`<p>File: ${x(y.filename)} (${(y.size/1024).toFixed(2)} KB)</p><p><a href="${y.content}" download="${x(y.filename)}">Download File</a></p>`;break;case lt.AUDIO:const O=_;I=`<p>Audio: ${x(O.filename)}</p><audio controls src="${O.content}"></audio>`;break;case lt.CHECKLIST:I=`<ul>${_.items.map(te=>`<li><input type="checkbox" ${te.checked?"checked":""} disabled> ${x(te.text)}</li>`).join("")}</ul>`;break;case lt.CONTACT:const L=_;I=`<ul style="list-style-type: none; padding-left: 0;">
            ${L.firstName||L.lastName?`<li><strong>Name:</strong> ${x(L.firstName)} ${x(L.lastName)}</li>`:""}
            ${L.phone?`<li><strong>Phone:</strong> ${x(L.phone)}</li>`:""}
            ${L.email?`<li><strong>Email:</strong> ${x(L.email)}</li>`:""}
            ${L.organization?`<li><strong>Organization:</strong> ${x(L.organization)}</li>`:""}
            ${L.address?`<li><strong>Address:</strong> ${x(L.address)}</li>`:""}
        </ul>`;break;case lt.LOCATION:const Y=_;I=`<p><a href="https://www.google.com/maps?q=${Y.latitude},${Y.longitude}" target="_blank" rel="noopener noreferrer">${Y.address?x(Y.address):`(${Y.latitude}, ${Y.longitude})`}</a></p>`;break;case lt.DRAWING:const P=_;I=`<img src="${P.content}" alt="${x(P.filename)}" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 4px;">`;break;case lt.EMAIL:const Z=_;I=`<div style="border-left: 3px solid #ccc; padding-left: 1em;">
            <p><strong>To:</strong> ${x(Z.to)}</p>
            <p><strong>Subject:</strong> ${x(Z.subject)}</p>
            <pre style="white-space: pre-wrap; font-family: inherit;">${x(Z.body)}</pre>
        </div>`;break;case lt.CODE:const ee=_;I=`<p>Language: ${x(ee.language)}</p><pre style="background-color: #f4f4f4; padding: 1em; border-radius: 4px; overflow-x: auto;"><code>${x(ee.code)}</code></pre>`;break;default:I="<p>Unsupported item type.</p>"}return`<div class="item"><h3>${x(_.title)}</h3><p class="item-meta">Type: ${_.type} | Created: ${new Date(_.createdAt).toLocaleString()}</p>${I}</div>`}).join(""),T=`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${x(A.title)}</title>
      <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 2rem auto; padding: 0 1rem; background-color: #fdfdfd; }
        header { border-bottom: 1px solid #eee; padding-bottom: 1rem; margin-bottom: 2rem; }
        h1 { color: #111; }
        h3 { margin-bottom: 0.5rem; }
        .item { background-color: #fff; border: 1px solid #eee; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .item-meta { font-size: 0.8rem; color: #777; margin-top: -0.25rem; margin-bottom: 1rem; }
        a { color: #007bff; }
        pre { white-space: pre-wrap; word-wrap: break-word; }
        code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace; }
        audio { width: 100%; margin-top: 1rem; }
        .note-content p { margin-top: 0; }
      </style>
    </head>
    <body>
      <header>
        <h1>Bundle: ${x(A.title)}</h1>
        <p>Exported from StaticLink on ${new Date().toLocaleString()}</p>
      </header>
      <main>
        ${g}
      </main>
    </body>
    </html>
  `;return new Blob([T],{type:"text/html;charset=utf-8"})},wp=async A=>{const x=new TextEncoder().encode(A),g=await crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(g)).map(_=>_.toString(16).padStart(2,"0")).join("")},vp=({onClose:A})=>v.jsx(za,{isOpen:!0,onClose:A,title:"Welcome to StaticLink!",footer:v.jsx("button",{onClick:A,className:"px-4 py-2 font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:"Got it, let's start!"}),children:v.jsxs("div",{className:"space-y-4",children:[v.jsx("p",{children:"StaticLink helps you create and share bundles of content that work completely offline."}),v.jsxs("ul",{className:"space-y-2 text-sm pl-4",children:[v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"font-bold text-primary",children:"1."}),v.jsxs("div",{children:[v.jsx("strong",{className:"font-semibold text-foreground",children:"Create a Bundle:"}),v.jsx("p",{children:"Think of it as a folder for your links, notes, files, and more."})]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"font-bold text-primary",children:"2."}),v.jsxs("div",{children:[v.jsx("strong",{className:"font-semibold text-foreground",children:"Add Items:"}),v.jsx("p",{children:"Add different types of content to your bundle, from simple notes to audio recordings."})]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"font-bold text-primary",children:"3."}),v.jsxs("div",{children:[v.jsx("strong",{className:"font-semibold text-foreground",children:"Share Offline:"}),v.jsx("p",{children:"Download your bundle as a single file (.slpkg) and share it with anyone."})]})]})]}),v.jsx("p",{className:"text-xs text-center pt-2",children:"Everything is stored securely in your browser. There are no accounts and no servers."})]})}),_p=({bundle:A,onClose:k,onUnlock:x})=>{const[g,T]=Le.useState(""),[_,I]=Le.useState(""),R=Le.useRef(null);Le.useEffect(()=>{var y;(y=R.current)==null||y.focus()},[]);const S=async y=>{y.preventDefault(),I(""),await wp(g)===A.passwordHash?x(A.id):I("Incorrect password. Please try again.")};return v.jsx(za,{isOpen:!0,onClose:k,title:`Unlock "${A.title}"`,children:v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsx("p",{children:"This bundle is password protected. Please enter the password to continue."}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"bundle-password",className:"sr-only",children:"Password"}),v.jsx("input",{ref:R,id:"bundle-password",type:"password",value:g,onChange:y=>T(y.target.value),className:"mt-1 block w-full px-3 py-2 bg-transparent border border-input rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-ring",placeholder:"Enter password"})]}),_&&v.jsx("p",{className:"text-sm text-destructive",children:_}),v.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[v.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 font-medium bg-muted text-foreground rounded-md hover:bg-accent",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:"Unlock"})]})]})})},Ap=({onNavigateToEditor:A,onNavigateToShare:k,showArchived:x,setShowArchived:g,showRecycleBin:T,setShowRecycleBin:_,bookmarkletParams:I,onOpenScanner:R})=>{const{bundles:S,addBundle:y,deleteBundle:O,deleteBundles:D,importBundle:F,duplicateBundle:L,updateBundle:Y,mergeBundles:P,restoreBundle:Z,permanentlyDeleteBundle:ee,archiveBundles:te,addItemToBundle:Q}=iu(),m=au(async()=>(await Pt.bundles.toArray()).filter(Rt=>Rt.isDeleted===!0),[]),[E,C]=Le.useState(null),[M,W]=Le.useState(null),[H,ae]=Le.useState(null),me=Le.useRef(null),[J,ge]=Le.useState(!1),[j,$]=Le.useState(!1),[X,ie]=Le.useState(""),[Se,_e]=Le.useState(!1),{showToast:se}=hd(),[le,pe]=Le.useState(!1),[Ne,De]=Le.useState(!1),[Be,ze]=Le.useState(new Set),[$e,Xe]=Le.useState(!1),[Ve,Dt]=Le.useState(!1),[Tt,vt]=Le.useState(!1),yt=Le.useRef(null);Le.useEffect(()=>{const qe=Rt=>{yt.current&&!yt.current.contains(Rt.target)&&Dt(!1)};return document.addEventListener("mousedown",qe),()=>document.removeEventListener("mousedown",qe)},[]),Le.useEffect(()=>{const qe=I.get("url"),Rt=I.get("title");qe&&S&&(async()=>{let On=S==null?void 0:S.find(_n=>_n.title.toLowerCase()==="inbox");On||(On={id:await y("Inbox"),title:"Inbox",items:[],createdAt:"",updatedAt:""});const dn={id:crypto.randomUUID(),type:lt.LINK,title:Rt||qe,url:qe,createdAt:new Date().toISOString()};await Q(On.id,dn),se(`Link added to "${On.title}"`),A(On.id),window.history.replaceState({},document.title,window.location.pathname+window.location.hash.split("?")[0])})()},[I,S,y,A,se,Q]),Le.useEffect(()=>{localStorage.getItem("hasVisited")||_e(!0)},[]);const z=()=>{localStorage.setItem("hasVisited","true"),_e(!1)},Ge=qe=>{if(Ne)return At(qe.id);qe.isLocked?W(qe):A(qe.id)},Pe=qe=>C(qe),fe=()=>{E&&(T?(ee(E.id),se(`Permanently deleted "${E.title}"`)):(O(E.id),se(`Moved "${E.title}" to Recycle Bin`)),C(null))},oe=()=>{var qe;(qe=me.current)==null||qe.click()},we=async qe=>{$(!0);try{const Rt=S==null?void 0:S.find(Mt=>Mt.title===qe.title);if(Rt)ae({existingBundle:Rt,newBundleData:qe});else{const Mt=await F(qe);A(Mt)}}catch(Rt){console.error("Failed to import bundle data:",Rt),se("Failed to import bundle. Data might be corrupted.")}finally{$(!1)}},Ke=async qe=>{try{const Rt=await xp(qe);await we(Rt)}catch(Rt){console.error("Failed to import bundle:",Rt),se("Failed to import file. It may be corrupted.")}finally{me.current&&(me.current.value="")}},Ee=async qe=>{var Mt;const Rt=(Mt=qe.target.files)==null?void 0:Mt[0];Rt&&await Ke(Rt)},ke=async()=>{if(!H)return;await ee(H.existingBundle.id);const qe=await F(H.newBundleData);A(qe),ae(null)},tt=async()=>{if(!H)return;const qe={...H.newBundleData,title:`${H.newBundleData.title} (Copy)`},Rt=await F(qe);A(Rt),ae(null)},ct=qe=>{qe.preventDefault()},it=qe=>{qe.preventDefault(),ge(!0)},ht=qe=>{qe.preventDefault(),ge(!1)},kt=async qe=>{var Mt;qe.preventDefault(),ge(!1);const Rt=(Mt=qe.dataTransfer.files)==null?void 0:Mt[0];Rt&&Rt.name.endsWith(".slpkg")?await Ke(Rt):Rt&&alert("Invalid file type. Please drop a .slpkg file.")},At=qe=>{ze(Rt=>{const Mt=new Set(Rt);return Mt.has(qe)?Mt.delete(qe):Mt.add(qe),Mt})},St=()=>{De(!Ne),ze(new Set)},Fr=async qe=>{if(Be.size<2)return;const Rt=await P(Array.from(Be),qe);Xe(!1),St(),A(Rt)},Yn=async()=>{Dt(!1),await te(Be),se(`Archived ${Be.size} bundles.`),St()},vr=async()=>{Dt(!1),await D(Be),se(`Moved ${Be.size} bundles to Recycle Bin.`),vt(!1),St()},Ot=async qe=>Y(qe,{isArchived:!1}),st=async qe=>Z(qe),jt=Le.useMemo(()=>{const qe=T?m:S,Rt=xn=>xn.title.toLowerCase().includes(X.toLowerCase());if(!qe)return{pinned:[],active:[],archived:[],deleted:[],hasArchived:!1,hasDeleted:!1};const Mt=qe.filter(xn=>xn.isPinned&&!xn.isArchived)||[],On=qe.filter(xn=>!xn.isPinned&&!xn.isArchived)||[],dn=qe.filter(xn=>xn.isArchived)||[],_n=m||[];return{pinned:Mt.filter(Rt),active:On.filter(Rt),archived:dn.filter(Rt),deleted:_n.filter(Rt),hasArchived:(S||[]).some(xn=>xn.isArchived),hasDeleted:_n.length>0}},[S,m,X,T]),et=({bundle:qe})=>{const[Rt,Mt]=Le.useState(!1),On=Le.useRef(null),dn=Be.has(qe.id),_n=mt=>{mt.stopPropagation(),Mt(Wt=>!Wt)},xn=(mt,Wt)=>{mt.stopPropagation(),Wt(),Mt(!1)};pn.useEffect(()=>{const mt=Wt=>{On.current&&!On.current.contains(Wt.target)&&Mt(!1)};return document.addEventListener("mousedown",mt),()=>document.removeEventListener("mousedown",mt)},[On]);const Cn=mt=>{const Wt={key:mt.id,size:16,className:"text-muted-foreground"};switch(mt.type){case lt.LINK:return v.jsx(id,{...Wt});case lt.NOTE:return v.jsx(sd,{...Wt});case lt.FILE:return mt.mimeType.startsWith("image/")?v.jsx(Q0,{...Wt}):v.jsx(J0,{...Wt});default:return null}},An=T;return v.jsxs("div",{className:`bg-card border rounded-lg shadow-sm flex flex-col group transition-all duration-200
            ${Ne?"cursor-pointer":""}
            ${An?"":"hover:shadow-md hover:border-primary/30"}
            ${dn?"border-primary shadow-md ring-2 ring-primary":"border-border"}`,onClick:()=>!An&&Ge(qe),children:[v.jsxs("div",{className:"p-5 flex-grow",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex items-center gap-2 pr-2",children:[qe.isLocked&&v.jsx(e1,{size:16,className:"text-muted-foreground flex-shrink-0"}),v.jsx("h3",{className:"text-lg font-bold text-card-foreground break-all",children:qe.title})]}),Ne?v.jsx("input",{type:"checkbox",checked:dn,readOnly:!0,className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary"}):!An&&v.jsxs("div",{className:"relative",ref:On,children:[v.jsx("button",{onClick:_n,className:"p-2 rounded-full text-muted-foreground hover:bg-accent",children:v.jsx(od,{size:20})}),Rt&&v.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-popover rounded-md shadow-lg z-10 border border-border",children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsxs("button",{onClick:mt=>xn(mt,()=>Y(qe.id,{isPinned:!qe.isPinned})),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[qe.isPinned?v.jsx(t1,{size:16}):v.jsx(Jc,{size:16})," ",qe.isPinned?"Unpin":"Pin"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:mt=>xn(mt,()=>L(qe.id)),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx($l,{size:16})," Duplicate"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:mt=>xn(mt,()=>Y(qe.id,{isArchived:!0})),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx($c,{size:16})," Archive"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:mt=>xn(mt,()=>Pe(qe)),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-destructive dark:text-red-500 hover:bg-destructive/10",children:[v.jsx(Wl,{size:16})," Delete"]})})]})})]})]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[qe.items.length," ",qe.items.length===1?"item":"items"]}),An&&qe.deletedAt&&v.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Deleted: ",new Date(qe.deletedAt).toLocaleString()]}),v.jsxs("div",{className:"flex items-center gap-1.5 mt-3 flex-wrap",children:[qe.items.slice(0,7).map(mt=>Cn(mt)),qe.items.length>7&&v.jsx("span",{className:"text-xs text-muted-foreground",children:"…"})]})]}),!qe.isArchived&&!An&&v.jsxs("div",{className:"bg-muted/50 p-3 rounded-b-lg flex justify-between items-center gap-2 border-t border-border",children:[v.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated: ",new Date(qe.updatedAt).toLocaleDateString()]}),v.jsxs("div",{className:"flex items-center gap-2",children:[!Ne&&v.jsx("button",{onClick:mt=>{mt.stopPropagation(),k(qe.id)},className:"flex items-center justify-center h-9 w-9 text-sm font-semibold text-primary bg-primary/10 rounded-md hover:bg-primary/20 transition-colors",title:"Share",children:v.jsx(Qc,{size:16})}),v.jsxs("button",{className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-semibold text-primary-foreground bg-primary rounded-md hover:bg-primary/90 shadow-sm transition-transform ${!Ne&&"group-hover:scale-105"}`,children:[v.jsx(X0,{size:14})," Open"]})]})]}),qe.isArchived&&v.jsxs("div",{className:"bg-muted/50 p-3 rounded-b-lg flex justify-end items-center gap-2 border-t border-border",children:[v.jsx("button",{onClick:mt=>{mt.stopPropagation(),Pe(qe)},className:"px-3 py-1.5 text-sm text-destructive hover:bg-destructive/10 rounded-md",children:"Delete Permanently"}),v.jsx("button",{onClick:mt=>{mt.stopPropagation(),Ot(qe.id)},className:"px-3 py-1.5 text-sm text-primary hover:bg-primary/10 rounded-md",children:"Unarchive"})]}),An&&v.jsxs("div",{className:"bg-muted/50 p-3 rounded-b-lg flex justify-end items-center gap-2 border-t border-border",children:[v.jsxs("button",{onClick:mt=>{mt.stopPropagation(),Pe(qe)},className:"px-3 py-1.5 text-sm text-destructive hover:bg-destructive/10 rounded-md flex items-center gap-1.5",children:[v.jsx(Wl,{size:14})," Delete Forever"]}),v.jsxs("button",{onClick:mt=>{mt.stopPropagation(),st(qe.id)},className:"px-3 py-1.5 text-sm text-primary hover:bg-primary/10 rounded-md flex items-center gap-1.5",children:[v.jsx(ip,{size:14})," Restore"]})]})]})},en=({onClose:qe,onCreate:Rt})=>{const[Mt,On]=Le.useState(""),[dn,_n]=Le.useState(!1),xn=async Cn=>{Cn.preventDefault(),!(!Mt.trim()||dn)&&(_n(!0),await Rt(Mt.trim()))};return v.jsx(za,{isOpen:!0,onClose:qe,title:"Create New Bundle",children:v.jsxs("form",{onSubmit:xn,className:"space-y-4",children:[v.jsx("input",{type:"text",value:Mt,onChange:Cn=>On(Cn.target.value),placeholder:"Enter bundle title...",autoFocus:!0,className:"w-full px-4 py-2 bg-transparent border border-input rounded-md focus:outline-none focus:ring-1 focus:ring-ring"}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",onClick:qe,className:"px-4 py-2 font-medium bg-muted text-foreground rounded-md hover:bg-accent",children:"Cancel"}),v.jsx("button",{type:"submit",className:"flex justify-center items-center gap-2 px-6 py-2 font-semibold text-primary-foreground bg-primary rounded-md hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground transition-colors",disabled:!Mt.trim()||dn,children:dn?"Creating...":"Create & Open"})]})]})})},_r=({onClose:qe,onMerge:Rt})=>{const[Mt,On]=Le.useState(""),dn=_n=>{_n.preventDefault(),Rt(Mt.trim())};return v.jsx(za,{isOpen:!0,onClose:qe,title:"Merge Bundles",children:v.jsxs("form",{onSubmit:dn,className:"space-y-4",children:[v.jsxs("p",{children:["Create a new bundle from the ",Be.size," selected bundles. The original bundles will not be changed."]}),v.jsx("input",{type:"text",value:Mt,onChange:_n=>On(_n.target.value),placeholder:"Enter new bundle title...",autoFocus:!0,required:!0,className:"w-full px-4 py-2 bg-transparent border border-input rounded-md focus:outline-none focus:ring-1 focus:ring-ring"}),v.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[v.jsx("button",{type:"button",onClick:qe,className:"px-4 py-2 font-medium bg-muted text-foreground rounded-md hover:bg-accent",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:!Mt.trim(),className:"px-6 py-2 font-semibold text-primary-foreground bg-primary rounded-md hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground",children:"Merge"})]})]})})},Hr=T?"Recycle Bin":x?"Archived Bundles":"My Bundles",dt=T?"Bundles here will be permanently deleted after 30 days.":x?"View and manage your archived bundles.":"Create, manage, and search your content.",Vt=T?jt.deleted:x?jt.archived:[...jt.pinned,...jt.active],Mn=({label:qe,icon:Rt,isActive:Mt=!1,onClick:On})=>v.jsxs("button",{onClick:On,className:`flex-1 flex flex-col items-center justify-center h-full transition-colors ${Mt?"text-primary":"text-muted-foreground hover:text-primary"}`,children:[Rt,v.jsx("span",{className:"text-xs font-medium mt-1",children:qe})]});return v.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8 relative",onDragEnter:it,children:[Se&&v.jsx(vp,{onClose:z}),M&&v.jsx(_p,{bundle:M,onClose:()=>W(null),onUnlock:qe=>{W(null),A(qe)}}),le&&v.jsx(en,{onClose:()=>pe(!1),onCreate:async qe=>{const Rt=await y(qe);A(Rt)}}),$e&&v.jsx(_r,{onClose:()=>Xe(!1),onMerge:Fr}),v.jsx(za,{isOpen:j,onClose:()=>{},title:"Importing Bundle",children:v.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 p-4",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary"}),v.jsx("p",{className:"text-muted-foreground",children:"Processing..."})]})}),v.jsxs("div",{className:"sm:hidden mobile-dock",children:[v.jsx(Mn,{label:"Home",icon:v.jsx(lp,{size:22}),isActive:!x&&!T,onClick:()=>{g(!1),_(!1)}}),v.jsx(Mn,{label:"Scan",icon:v.jsx(V2,{size:22}),onClick:R}),v.jsxs("button",{onClick:()=>pe(!0),className:"flex-1 flex flex-col items-center justify-center h-full text-primary",children:[v.jsx("div",{className:"h-14 w-14 bg-primary text-primary-foreground rounded-full shadow-lg flex items-center justify-center ring-4 ring-background -mt-6",children:v.jsx(Ts,{size:28})}),v.jsx("span",{className:"text-xs font-medium mt-1",children:"New"})]}),v.jsx(Mn,{label:"Select",icon:v.jsx(su,{size:22}),isActive:Ne,onClick:St}),v.jsx(Mn,{label:"Import",icon:v.jsx(Kc,{size:22}),onClick:oe})]}),Ne&&v.jsx("div",{className:"fixed bottom-[calc(4.5rem+env(safe-area-inset-bottom)+0.5rem)] left-1/2 -translate-x-1/2 sm:bottom-4 sm:left-auto sm:right-4 sm:translate-x-0 z-30",children:v.jsxs("div",{className:"bg-background border border-border shadow-lg rounded-full flex items-center justify-between gap-4 p-2 pl-4",children:[v.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[Be.size," selected"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",ref:yt,children:[v.jsx("button",{onClick:()=>Dt(qe=>!qe),className:"px-4 py-2 text-sm font-medium rounded-full bg-primary text-primary-foreground hover:bg-primary/90",children:"Actions"}),Ve&&v.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-popover rounded-md shadow-lg z-10 border border-border",children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsxs("button",{disabled:Be.size<2,onClick:()=>{Xe(!0),Dt(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx($l,{size:16})," Merge"]})}),v.jsx("li",{children:v.jsxs("button",{disabled:Be.size===0,onClick:Yn,className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx($c,{size:16})," Archive"]})}),v.jsx("li",{children:v.jsxs("button",{disabled:Be.size===0,onClick:()=>{vt(!0),Dt(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-destructive hover:bg-destructive/10 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsx(Wl,{size:16})," Delete"]})})]})})]}),v.jsx("button",{onClick:St,className:"p-2 text-muted-foreground hover:bg-accent rounded-full",children:v.jsx(ks,{})})]})]})}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:Hr}),v.jsx("p",{className:"text-muted-foreground",children:dt})]}),v.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[!T&&!x&&v.jsx("button",{onClick:St,className:`px-4 py-2 text-sm font-medium rounded-md ${Ne?"bg-primary/20 text-primary":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:"Select"}),v.jsxs("button",{onClick:()=>pe(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:[v.jsx(Ts,{size:18})," New"]}),v.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary bg-primary/10 rounded-md hover:bg-primary/20",children:[v.jsx(Kc,{size:18})," Import"]})]}),v.jsx("input",{type:"file",ref:me,onChange:Ee,accept:".slpkg",className:"hidden"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx(q0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),v.jsx("input",{type:"text",value:X,onChange:qe=>ie(qe.target.value),placeholder:`Search ${Hr.toLowerCase()}...`,className:"w-full pl-10 pr-4 py-2 bg-card border border-input rounded-md focus:outline-none focus:ring-1 focus:ring-ring"})]}),x?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:jt.archived.map(qe=>v.jsx(et,{bundle:qe},qe.id))}):T?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:jt.deleted.map(qe=>v.jsx(et,{bundle:qe},qe.id))}):v.jsxs(v.Fragment,{children:[jt.pinned.length>0&&v.jsxs("div",{className:"mb-8",children:[v.jsxs("h2",{className:"flex items-center gap-2 text-sm font-semibold text-muted-foreground mb-3",children:[v.jsx(Jc,{size:14})," PINNED"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:jt.pinned.map(qe=>v.jsx(et,{bundle:qe},qe.id))})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:jt.active.map(qe=>v.jsx(et,{bundle:qe},qe.id))})]}),Vt.length===0&&v.jsxs("div",{className:"text-center py-16 px-6 bg-card border-2 border-dashed border-border rounded-lg",children:[v.jsx(X2,{size:48,className:"mx-auto text-muted-foreground"}),v.jsx("h3",{className:"mt-4 text-xl font-semibold text-foreground",children:X?"No Matching Bundles":"No Bundles Here"}),v.jsx("p",{className:"mt-2 text-muted-foreground",children:X?"Try adjusting your search query.":T?"Your recycle bin is empty.":"Create your first bundle to get started!"})]})]}),v.jsx(za,{isOpen:!!E,onClose:()=>C(null),title:"Confirm Deletion",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>C(null),className:"px-4 py-2 font-medium bg-muted text-foreground rounded-md hover:bg-accent",children:"Cancel"}),v.jsx("button",{onClick:fe,className:"px-4 py-2 font-medium text-destructive-foreground bg-destructive rounded-md hover:bg-destructive/90",children:T?"Delete Permanently":"Delete"})]}),children:v.jsxs("p",{children:["Are you sure you want to ",T?"permanently delete":"delete",' "',E==null?void 0:E.title,'"? This action cannot be undone.']})}),v.jsx(za,{isOpen:Tt,onClose:()=>vt(!1),title:`Delete ${Be.size} Bundles`,footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>vt(!1),className:"px-4 py-2 font-medium bg-muted rounded-md",children:"Cancel"}),v.jsx("button",{onClick:vr,className:"px-4 py-2 font-medium text-destructive-foreground bg-destructive rounded-md",children:"Delete"})]}),children:v.jsxs("p",{children:["Are you sure you want to move ",Be.size," bundles to the Recycle Bin?"]})}),v.jsx(za,{isOpen:!!H,onClose:()=>ae(null),title:"Import Conflict",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>ae(null),className:"px-4 py-2 font-medium bg-muted text-foreground rounded-md hover:bg-accent",children:"Cancel"}),v.jsx("button",{onClick:tt,className:"px-4 py-2 font-medium text-secondary-foreground bg-secondary rounded-md hover:bg-secondary/90",children:"Keep Both"}),v.jsx("button",{onClick:ke,className:"px-4 py-2 font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:"Replace"})]}),children:v.jsxs("p",{children:['A bundle named "',H==null?void 0:H.existingBundle.title,'" already exists. How would you like to proceed?']})}),J&&v.jsx("div",{onDragLeave:ht,onDrop:kt,onDragOver:ct,className:"absolute inset-0 bg-primary/20 backdrop-blur-sm z-50 flex items-center justify-center border-4 border-dashed border-primary rounded-lg",children:v.jsxs("div",{className:"text-center p-4",children:[v.jsx(Kc,{size:64,className:"text-primary-foreground mx-auto"}),v.jsx("p",{className:"mt-4 text-2xl font-bold text-primary-foreground",children:"Drop .slpkg file to import"})]})})]})},s1=Le.createContext(void 0),Ep=({children:A})=>{const[k,x]=Le.useState(()=>localStorage.getItem("theme")||"system");Le.useEffect(()=>{const T=window.document.documentElement,_=k==="dark"||k==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;T.classList.toggle("dark",_),localStorage.setItem("theme",k)},[k]),Le.useEffect(()=>{const T=window.matchMedia("(prefers-color-scheme: dark)"),_=()=>{k==="system"&&window.document.documentElement.classList.toggle("dark",T.matches)};return T.addEventListener("change",_),()=>T.removeEventListener("change",_)},[k]);const g=T=>{x(T)};return v.jsx(s1.Provider,{value:{theme:k,setTheme:g},children:A})},o1=()=>{const A=Le.useContext(s1);if(A===void 0)throw new Error("useTheme must be used within a ThemeProvider");return A},Cp=({icon:A,label:k,onClick:x,isMobile:g})=>g?v.jsxs("button",{onClick:x,className:"group flex items-center w-full text-left p-4 bg-card border-b border-border transition-all duration-200",children:[A,v.jsx("span",{className:"font-semibold ml-4 text-sm",children:k})]}):v.jsxs("button",{onClick:x,className:"group flex flex-col justify-center items-center text-center p-6 bg-card border border-border rounded-lg hover:bg-accent hover:shadow-md transition-all duration-200",children:[A,v.jsx("span",{className:"font-semibold mt-2 text-sm",children:k})]}),_0=({bundleId:A,onFormSubmit:k})=>{const[x,g]=Le.useState(null),{addItemToBundle:T,addItemsToBundle:_}=iu(),[I,R]=Le.useState(window.innerWidth<640);Le.useEffect(()=>{const C=()=>R(window.innerWidth<640);return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const S=C=>async(...M)=>{const W=await C(...M),H={id:crypto.randomUUID(),createdAt:new Date().toISOString(),...W};await T(A,H),g(null),k()},y=async C=>{const M=await Promise.all(C.map(async W=>{const H=await mp(W),ae=await gp(W);return{id:crypto.randomUUID(),createdAt:new Date().toISOString(),type:lt.FILE,title:W.name,filename:W.name,mimeType:W.type,size:W.size,content:ae,checksum:H}}));await _(A,M),g(null),k()},O=S((C,M)=>({type:lt.LINK,url:C,title:M||C})),D=S((C,M)=>({type:lt.NOTE,text:C,title:M||`Note ${new Date().toLocaleTimeString()}`})),F=S((C,M,W)=>{const H=W||`Audio Recording ${new Date().toLocaleString()}`;return new Promise(ae=>{const me=new FileReader;me.onloadend=()=>{ae({type:lt.AUDIO,title:H,filename:`${H}.wav`,mimeType:C.type,size:C.size,content:me.result,duration:M})},me.readAsDataURL(C)})}),L=S((C,M)=>({type:lt.CHECKLIST,title:C,items:M.map(W=>({...W,id:crypto.randomUUID()}))})),Y=S(C=>({type:lt.CONTACT,title:`${C.firstName} ${C.lastName}`,...C})),P=S(C=>({type:lt.LOCATION,title:C.address||`Location (${C.latitude}, ${C.longitude})`,...C})),Z=S(C=>{const M=`Drawing ${new Date().toLocaleString()}`,W=atob(C.split(",")[1]).length;return{type:lt.DRAWING,title:M,filename:`${M}.png`,mimeType:"image/png",size:W,content:C}}),ee=S(C=>({type:lt.EMAIL,title:C.subject||`Email to ${C.to}`,...C})),te=S(C=>({type:lt.CODE,...C})),Q=S((C,M)=>({type:lt.QR_CODE,content:C,title:M||C})),m=()=>{switch(x){case lt.LINK:return v.jsx(Np,{onSubmit:O,onCancel:()=>g(null)});case lt.NOTE:return v.jsx(Tp,{onSubmit:D,onCancel:()=>g(null)});case lt.FILE:return v.jsx(Op,{onSubmit:y,onCancel:()=>g(null)});case lt.AUDIO:return v.jsx(Ip,{onSubmit:F,onCancel:()=>g(null)});case lt.CHECKLIST:return v.jsx(Rp,{onSubmit:L,onCancel:()=>g(null)});case lt.CONTACT:return v.jsx(Dp,{onSubmit:Y,onCancel:()=>g(null)});case lt.LOCATION:return v.jsx(Mp,{onSubmit:P,onCancel:()=>g(null)});case lt.DRAWING:return v.jsx(Bp,{onSubmit:Z,onCancel:()=>g(null)});case lt.EMAIL:return v.jsx(jp,{onSubmit:ee,onCancel:()=>g(null)});case lt.CODE:return v.jsx(Lp,{onSubmit:te,onCancel:()=>g(null)});case lt.QR_CODE:return v.jsx(kp,{onSubmit:Q,onCancel:()=>g(null)});default:return null}},E=({icon:C,label:M,type:W})=>v.jsx(Cp,{icon:pn.cloneElement(C,{size:I?24:28,className:`${C.props.className||""} group-hover:scale-110 transition-transform`}),label:M,onClick:()=>g(W),isMobile:I});return v.jsx("div",{className:"sm:my-0",children:x?v.jsxs("div",{className:"p-4 sm:bg-card sm:border sm:border-border sm:rounded-lg",children:[v.jsxs("button",{onClick:()=>g(null),className:"sm:hidden flex items-center gap-1 text-sm font-medium text-primary mb-4",children:[v.jsx(Os,{size:16})," Back"]}),m()]}):v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-5 gap-0 sm:gap-4",children:[v.jsx(E,{icon:v.jsx(id,{className:"text-primary"}),label:"Add Link",type:lt.LINK}),v.jsx(E,{icon:v.jsx(sd,{className:"text-secondary"}),label:"Add Note",type:lt.NOTE}),v.jsx(E,{icon:v.jsx(H0,{className:"text-orange-500"}),label:"Add File",type:lt.FILE}),v.jsx(E,{icon:v.jsx(ud,{className:"text-gray-500"}),label:"Add QR Code",type:lt.QR_CODE}),v.jsx(E,{icon:v.jsx($0,{className:"text-yellow-500"}),label:"Add Code",type:lt.CODE}),v.jsx(E,{icon:v.jsx(ld,{className:"text-red-500"}),label:"Record Audio",type:lt.AUDIO}),v.jsx(E,{icon:v.jsx(su,{className:"text-indigo-500"}),label:"New Checklist",type:lt.CHECKLIST}),v.jsx(E,{icon:v.jsx(Y0,{className:"text-teal-500"}),label:"Add Contact",type:lt.CONTACT}),v.jsx(E,{icon:v.jsx(K0,{className:"text-green-500"}),label:"Add Location",type:lt.LOCATION}),v.jsx(E,{icon:v.jsx(Z0,{className:"text-purple-500"}),label:"New Drawing",type:lt.DRAWING}),v.jsx(E,{icon:v.jsx(W0,{className:"text-blue-500"}),label:"Add Email",type:lt.EMAIL})]})})},Di=({onCancel:A,submitText:k,disabled:x})=>v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-sm font-medium text-foreground bg-muted rounded-md hover:bg-accent",children:"Cancel"}),v.jsxs("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90 flex items-center gap-1 disabled:bg-muted disabled:text-muted-foreground",children:[v.jsx(Ts,{size:16})," ",k]})]}),kr=({label:A,...k})=>v.jsxs("div",{children:[v.jsx("label",{htmlFor:k.id,className:"block text-sm font-medium text-muted-foreground",children:A}),v.jsx("input",{...k,className:"mt-1 block w-full px-3 py-2 bg-transparent border border-input rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-ring"})]}),cd=({label:A,...k})=>v.jsxs("div",{children:[v.jsx("label",{htmlFor:k.id,className:"block text-sm font-medium text-muted-foreground",children:A}),v.jsx("textarea",{...k,className:"mt-1 block w-full px-3 py-2 bg-transparent border border-input rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-ring"})]}),Sp=({label:A,children:k,...x})=>v.jsxs("div",{children:[v.jsx("label",{htmlFor:x.id,className:"block text-sm font-medium text-muted-foreground",children:A}),v.jsx("select",{...x,className:"mt-1 block w-full pl-3 pr-10 py-2 bg-transparent border border-input rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-ring",children:k})]}),Np=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState(""),[T,_]=Le.useState(""),I=R=>{R.preventDefault(),x&&A(x,T)};return v.jsxs("form",{onSubmit:I,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"Add a New Link"}),v.jsx(kr,{label:"URL",id:"link-url",type:"url",value:x,onChange:R=>g(R.target.value),required:!0,placeholder:"https://example.com"}),v.jsx(kr,{label:"Title (Optional)",id:"link-title",type:"text",value:T,onChange:R=>_(R.target.value),placeholder:"My Awesome Link"}),v.jsx(Di,{onCancel:k,submitText:"Add Link"})]})},Tp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState(""),[T,_]=Le.useState(""),I=R=>{R.preventDefault(),x&&A(x,T)};return v.jsxs("form",{onSubmit:I,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"Add a New Note"}),v.jsx(kr,{label:"Title (Optional)",id:"note-title",type:"text",value:T,onChange:R=>_(R.target.value),placeholder:"My Important Note"}),v.jsx(cd,{label:"Content",id:"note-text",value:x,onChange:R=>g(R.target.value),required:!0,rows:4,placeholder:"Type your note here..."}),v.jsx(Di,{onCancel:k,submitText:"Add Note"})]})},Op=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState([]),T=I=>{I.target.files&&g(Array.from(I.target.files))},_=I=>{I.preventDefault(),x.length>0&&A(x)};return v.jsxs("form",{onSubmit:_,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"Add File(s)"}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"file-input",className:"block text-sm font-medium text-muted-foreground",children:"Select File(s)"}),v.jsx("input",{type:"file",id:"file-input",onChange:T,required:!0,multiple:!0,className:"mt-1 block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),x.length>0&&v.jsx("div",{className:"max-h-32 overflow-y-auto bg-muted/50 p-2 rounded-md",children:v.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:x.map(I=>v.jsxs("li",{children:[I.name," (",(I.size/1024).toFixed(2)," KB)"]},I.name+I.size))})}),v.jsx(Di,{onCancel:k,submitText:`Add ${x.length} File(s)`})]})},kp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState(""),[T,_]=Le.useState(""),I=R=>{R.preventDefault(),x&&A(x,T)};return v.jsxs("form",{onSubmit:I,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"Add a New QR Code"}),v.jsx(kr,{label:"Content (URL or Text)",id:"qr-content",type:"text",value:x,onChange:R=>g(R.target.value),required:!0,placeholder:"https://example.com"}),v.jsx(kr,{label:"Title (Optional)",id:"qr-title",type:"text",value:T,onChange:R=>_(R.target.value),placeholder:"My Website QR Code"}),v.jsx(Di,{onCancel:k,submitText:"Add QR Code"})]})},Ip=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState(!1),[T,_]=Le.useState(null),[I,R]=Le.useState(0),[S,y]=Le.useState(""),O=Le.useRef(null),D=Le.useRef([]),F=Le.useRef(null),L=async()=>{try{const Z=await navigator.mediaDevices.getUserMedia({audio:!0});O.current=new MediaRecorder(Z),O.current.ondataavailable=ee=>D.current.push(ee.data),O.current.onstop=()=>{const ee=new Blob(D.current,{type:"audio/wav"});_(ee),D.current=[],Z.getTracks().forEach(te=>te.stop())},O.current.start(),g(!0),R(0),F.current=window.setInterval(()=>R(ee=>ee+1),1e3)}catch(Z){console.error("Error starting recording:",Z),alert("Could not start recording. Please ensure you have given microphone permissions.")}},Y=()=>{var Z;(Z=O.current)==null||Z.stop(),g(!1),F.current&&clearInterval(F.current)},P=()=>{T&&A(T,I,S)};return Le.useEffect(()=>()=>{F.current&&clearInterval(F.current)},[]),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"Record Audio"}),v.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-muted rounded-lg",children:[!x&&!T&&v.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-6 py-3 font-semibold text-white bg-red-600 rounded-full hover:bg-red-700",children:[v.jsx(ld,{size:24})," Start Recording"]}),x&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"text-lg font-mono text-red-500 animate-pulse",children:["Recording... ",Math.floor(I/60),":",(I%60).toString().padStart(2,"0")]}),v.jsx("button",{onClick:Y,className:"mt-4 px-6 py-2 font-semibold text-foreground bg-accent rounded-full hover:bg-border",children:"Stop"})]}),T&&!x&&v.jsxs("div",{className:"w-full",children:[v.jsx("p",{className:"text-center font-medium mb-2",children:"Recording Complete"}),v.jsx("audio",{src:URL.createObjectURL(T),controls:!0,className:"w-full"}),v.jsx("button",{onClick:()=>{_(null),R(0)},className:"w-full mt-4 text-sm text-center text-muted-foreground hover:text-foreground",children:"Record Again"})]})]}),T&&v.jsx(kr,{label:"Title (Optional)",type:"text",value:S,onChange:Z=>y(Z.target.value),placeholder:`Audio Recording ${new Date().toLocaleString()}`}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-foreground bg-muted rounded-md hover:bg-accent",children:"Cancel"}),v.jsxs("button",{type:"button",disabled:!T,onClick:P,className:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground",children:[v.jsx(Ts,{size:16})," Add Recording"]})]})]})},Rp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState(""),[T,_]=Le.useState([]),[I,R]=Le.useState(""),S=Le.useRef(null),y=()=>{var F;I.trim()&&(_([...T,{text:I.trim(),checked:!1}]),R(""),(F=S.current)==null||F.focus())},O=F=>{_(T.filter((L,Y)=>Y!==F))},D=F=>{F.preventDefault(),x&&T.length&&A(x,T)};return v.jsxs("form",{onSubmit:D,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"New Checklist"}),v.jsx(kr,{label:"Title",type:"text",value:x,onChange:F=>g(F.target.value),required:!0,placeholder:"e.g., Shopping List"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-muted-foreground",children:"Items"}),v.jsx("ul",{className:"mt-1 space-y-1",children:T.map((F,L)=>v.jsxs("li",{className:"flex items-center justify-between text-sm p-2 bg-muted rounded group",children:[v.jsx("span",{children:F.text}),v.jsx("button",{type:"button",onClick:()=>O(L),className:"text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(ks,{size:16})})]},L))}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx("input",{ref:S,type:"text",value:I,onChange:F=>R(F.target.value),onKeyDown:F=>F.key==="Enter"&&(F.preventDefault(),y()),className:"flex-grow px-3 py-2 bg-transparent border border-input rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-ring",placeholder:"New item..."}),v.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 text-sm font-medium bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90",children:"Add"})]})]}),v.jsx(Di,{onCancel:k,submitText:"Add Checklist"})]})},Dp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState({firstName:"",lastName:"",phone:"",email:"",organization:"",address:""}),T=I=>g({...x,[I.target.name]:I.target.value}),_=I=>{I.preventDefault(),(x.firstName||x.lastName)&&A(x)};return v.jsxs("form",{onSubmit:_,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"New Contact"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(kr,{label:"First Name",name:"firstName",value:x.firstName,onChange:T,required:!0}),v.jsx(kr,{label:"Last Name",name:"lastName",value:x.lastName,onChange:T})]}),v.jsx(kr,{label:"Phone",name:"phone",type:"tel",value:x.phone,onChange:T}),v.jsx(kr,{label:"Email",name:"email",type:"email",value:x.email,onChange:T}),v.jsx(kr,{label:"Organization",name:"organization",value:x.organization,onChange:T}),v.jsx(kr,{label:"Address",name:"address",value:x.address,onChange:T}),v.jsx(Di,{onCancel:k,submitText:"Add Contact"})]})},Mp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState({latitude:0,longitude:0,address:""}),[T,_]=Le.useState(!1),I=y=>{const{name:O,value:D}=y.target;g({...x,[O]:O==="address"?D:parseFloat(D)||0})},R=y=>{y.preventDefault(),A(x)},S=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser.");return}_(!0),navigator.geolocation.getCurrentPosition(y=>{g(O=>({...O,latitude:y.coords.latitude,longitude:y.coords.longitude})),_(!1)},y=>{alert(`Error getting location: ${y.message}`),_(!1)})};return v.jsxs("form",{onSubmit:R,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"New Location"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(kr,{label:"Latitude",name:"latitude",type:"number",step:"any",value:x.latitude,onChange:I,required:!0}),v.jsx(kr,{label:"Longitude",name:"longitude",type:"number",step:"any",value:x.longitude,onChange:I,required:!0})]}),v.jsxs("button",{type:"button",onClick:S,disabled:T,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-secondary-foreground bg-secondary rounded-md hover:bg-secondary/90 disabled:bg-muted disabled:text-muted-foreground",children:[v.jsx(Z2,{size:16}),T?"Fetching...":"Use My Current Location"]}),v.jsx(kr,{label:"Address or Description",name:"address",value:x.address,onChange:I,placeholder:"e.g. Eiffel Tower"}),v.jsx(Di,{onCancel:k,submitText:"Add Location"})]})},Bp=({onSubmit:A,onCancel:k})=>{const x=Le.useRef(null),g=Le.useRef(null),[T,_]=Le.useState(!1),{theme:I}=o1();Le.useEffect(()=>{const D=x.current;if(!D)return;const F=D.getContext("2d");F&&(F.lineCap="round",F.lineWidth=3,g.current=F)},[]),Le.useEffect(()=>{if(g.current){const D=I==="dark"||I==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;g.current.strokeStyle=D?"white":"black"}},[I]);const R=({nativeEvent:D})=>{var Y,P;const{offsetX:F,offsetY:L}=D;(Y=g.current)==null||Y.beginPath(),(P=g.current)==null||P.moveTo(F,L),_(!0)},S=()=>_(!1),y=({nativeEvent:D})=>{var Y,P;if(!T)return;const{offsetX:F,offsetY:L}=D;(Y=g.current)==null||Y.lineTo(F,L),(P=g.current)==null||P.stroke()},O=()=>{var F;const D=(F=x.current)==null?void 0:F.toDataURL("image/png");D&&A(D)};return v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"New Drawing"}),v.jsx("canvas",{ref:x,onMouseDown:R,onMouseUp:S,onMouseMove:y,onMouseLeave:S,width:400,height:300,className:"bg-muted border border-border rounded-md cursor-crosshair"}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm font-medium text-foreground bg-muted rounded-md hover:bg-accent",children:"Cancel"}),v.jsxs("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:[v.jsx(Ts,{size:16})," Add Drawing"]})]})]})},jp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState({to:"",subject:"",body:""}),T=I=>g({...x,[I.target.name]:I.target.value}),_=I=>{I.preventDefault(),x.to&&x.subject&&A(x)};return v.jsxs("form",{onSubmit:_,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"New Email"}),v.jsx(kr,{label:"To",name:"to",type:"email",value:x.to,onChange:T,required:!0}),v.jsx(kr,{label:"Subject",name:"subject",value:x.subject,onChange:T,required:!0}),v.jsx(cd,{label:"Body",name:"body",value:x.body,onChange:T,rows:5}),v.jsx(Di,{onCancel:k,submitText:"Add Email"})]})},Lp=({onSubmit:A,onCancel:k})=>{const[x,g]=Le.useState(""),[T,_]=Le.useState("javascript"),[I,R]=Le.useState(""),S=O=>{O.preventDefault(),x&&I&&A({title:x,language:T,code:I})},y=["plaintext","javascript","typescript","python","java","csharp","php","ruby","go","swift","kotlin","rust","html","css","sql","bash","json","yaml"];return v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-medium text-center text-foreground",children:"New Code Snippet"}),v.jsx(kr,{label:"Title",type:"text",value:x,onChange:O=>g(O.target.value),required:!0,placeholder:"e.g., React Component"}),v.jsx(Sp,{label:"Language",value:T,onChange:O=>_(O.target.value),children:y.map(O=>v.jsx("option",{value:O,children:O},O))}),v.jsx(cd,{label:"Code",value:I,onChange:O=>R(O.target.value),required:!0,rows:8,placeholder:"Paste your code here...",className:"font-mono text-sm"}),v.jsx(Di,{onCancel:k,submitText:"Add Snippet"})]})};var Jl={exports:{}},zp=Jl.exports,A0;function Pp(){return A0||(A0=1,(function(A,k){(function(x,g){g()})(zp,function(){function x(y,O){return typeof O>"u"?O={autoBom:!1}:typeof O!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),O={autoBom:!O}),O.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\uFEFF",y],{type:y.type}):y}function g(y,O,D){var F=new XMLHttpRequest;F.open("GET",y),F.responseType="blob",F.onload=function(){S(F.response,O,D)},F.onerror=function(){console.error("could not download file")},F.send()}function T(y){var O=new XMLHttpRequest;O.open("HEAD",y,!1);try{O.send()}catch{}return 200<=O.status&&299>=O.status}function _(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent(O)}}var I=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ea=="object"&&Ea.global===Ea?Ea:void 0,R=I.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),S=I.saveAs||(typeof window!="object"||window!==I?function(){}:"download"in HTMLAnchorElement.prototype&&!R?function(y,O,D){var F=I.URL||I.webkitURL,L=document.createElement("a");O=O||y.name||"download",L.download=O,L.rel="noopener",typeof y=="string"?(L.href=y,L.origin===location.origin?_(L):T(L.href)?g(y,O,D):_(L,L.target="_blank")):(L.href=F.createObjectURL(y),setTimeout(function(){F.revokeObjectURL(L.href)},4e4),setTimeout(function(){_(L)},0))}:"msSaveOrOpenBlob"in navigator?function(y,O,D){if(O=O||y.name||"download",typeof y!="string")navigator.msSaveOrOpenBlob(x(y,D),O);else if(T(y))g(y,O,D);else{var F=document.createElement("a");F.href=y,F.target="_blank",setTimeout(function(){_(F)})}}:function(y,O,D,F){if(F=F||open("","_blank"),F&&(F.document.title=F.document.body.innerText="downloading..."),typeof y=="string")return g(y,O,D);var L=y.type==="application/octet-stream",Y=/constructor/i.test(I.HTMLElement)||I.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||L&&Y||R)&&typeof FileReader<"u"){var Z=new FileReader;Z.onloadend=function(){var Q=Z.result;Q=P?Q:Q.replace(/^data:[^;]*;/,"data:attachment/file;"),F?F.location.href=Q:location=Q,F=null},Z.readAsDataURL(y)}else{var ee=I.URL||I.webkitURL,te=ee.createObjectURL(y);F?F.location=te:location.href=te,F=null,setTimeout(function(){ee.revokeObjectURL(te)},4e4)}});I.saveAs=S.saveAs=S,A.exports=S})})(Jl)),Jl.exports}var Up=Pp();const ed=Rs(Up);var Fp=Object.defineProperty,eu=Object.getOwnPropertySymbols,l1=Object.prototype.hasOwnProperty,u1=Object.prototype.propertyIsEnumerable,E0=(A,k,x)=>k in A?Fp(A,k,{enumerable:!0,configurable:!0,writable:!0,value:x}):A[k]=x,td=(A,k)=>{for(var x in k||(k={}))l1.call(k,x)&&E0(A,x,k[x]);if(eu)for(var x of eu(k))u1.call(k,x)&&E0(A,x,k[x]);return A},nd=(A,k)=>{var x={};for(var g in A)l1.call(A,g)&&k.indexOf(g)<0&&(x[g]=A[g]);if(A!=null&&eu)for(var g of eu(A))k.indexOf(g)<0&&u1.call(A,g)&&(x[g]=A[g]);return x};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Is;(A=>{const k=class un{constructor(S,y,O,D){if(this.version=S,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],S<un.MIN_VERSION||S>un.MAX_VERSION)throw new RangeError("Version value out of range");if(D<-1||D>7)throw new RangeError("Mask value out of range");this.size=S*4+17;let F=[];for(let Y=0;Y<this.size;Y++)F.push(!1);for(let Y=0;Y<this.size;Y++)this.modules.push(F.slice()),this.isFunction.push(F.slice());this.drawFunctionPatterns();const L=this.addEccAndInterleave(O);if(this.drawCodewords(L),D==-1){let Y=1e9;for(let P=0;P<8;P++){this.applyMask(P),this.drawFormatBits(P);const Z=this.getPenaltyScore();Z<Y&&(D=P,Y=Z),this.applyMask(P)}}T(0<=D&&D<=7),this.mask=D,this.applyMask(D),this.drawFormatBits(D),this.isFunction=[]}static encodeText(S,y){const O=A.QrSegment.makeSegments(S);return un.encodeSegments(O,y)}static encodeBinary(S,y){const O=A.QrSegment.makeBytes(S);return un.encodeSegments([O],y)}static encodeSegments(S,y,O=1,D=40,F=-1,L=!0){if(!(un.MIN_VERSION<=O&&O<=D&&D<=un.MAX_VERSION)||F<-1||F>7)throw new RangeError("Invalid value");let Y,P;for(Y=O;;Y++){const Q=un.getNumDataCodewords(Y,y)*8,m=I.getTotalBits(S,Y);if(m<=Q){P=m;break}if(Y>=D)throw new RangeError("Data too long")}for(const Q of[un.Ecc.MEDIUM,un.Ecc.QUARTILE,un.Ecc.HIGH])L&&P<=un.getNumDataCodewords(Y,Q)*8&&(y=Q);let Z=[];for(const Q of S){x(Q.mode.modeBits,4,Z),x(Q.numChars,Q.mode.numCharCountBits(Y),Z);for(const m of Q.getData())Z.push(m)}T(Z.length==P);const ee=un.getNumDataCodewords(Y,y)*8;T(Z.length<=ee),x(0,Math.min(4,ee-Z.length),Z),x(0,(8-Z.length%8)%8,Z),T(Z.length%8==0);for(let Q=236;Z.length<ee;Q^=253)x(Q,8,Z);let te=[];for(;te.length*8<Z.length;)te.push(0);return Z.forEach((Q,m)=>te[m>>>3]|=Q<<7-(m&7)),new un(Y,y,te,F)}getModule(S,y){return 0<=S&&S<this.size&&0<=y&&y<this.size&&this.modules[y][S]}getModules(){return this.modules}drawFunctionPatterns(){for(let O=0;O<this.size;O++)this.setFunctionModule(6,O,O%2==0),this.setFunctionModule(O,6,O%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const S=this.getAlignmentPatternPositions(),y=S.length;for(let O=0;O<y;O++)for(let D=0;D<y;D++)O==0&&D==0||O==0&&D==y-1||O==y-1&&D==0||this.drawAlignmentPattern(S[O],S[D]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(S){const y=this.errorCorrectionLevel.formatBits<<3|S;let O=y;for(let F=0;F<10;F++)O=O<<1^(O>>>9)*1335;const D=(y<<10|O)^21522;T(D>>>15==0);for(let F=0;F<=5;F++)this.setFunctionModule(8,F,g(D,F));this.setFunctionModule(8,7,g(D,6)),this.setFunctionModule(8,8,g(D,7)),this.setFunctionModule(7,8,g(D,8));for(let F=9;F<15;F++)this.setFunctionModule(14-F,8,g(D,F));for(let F=0;F<8;F++)this.setFunctionModule(this.size-1-F,8,g(D,F));for(let F=8;F<15;F++)this.setFunctionModule(8,this.size-15+F,g(D,F));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let S=this.version;for(let O=0;O<12;O++)S=S<<1^(S>>>11)*7973;const y=this.version<<12|S;T(y>>>18==0);for(let O=0;O<18;O++){const D=g(y,O),F=this.size-11+O%3,L=Math.floor(O/3);this.setFunctionModule(F,L,D),this.setFunctionModule(L,F,D)}}drawFinderPattern(S,y){for(let O=-4;O<=4;O++)for(let D=-4;D<=4;D++){const F=Math.max(Math.abs(D),Math.abs(O)),L=S+D,Y=y+O;0<=L&&L<this.size&&0<=Y&&Y<this.size&&this.setFunctionModule(L,Y,F!=2&&F!=4)}}drawAlignmentPattern(S,y){for(let O=-2;O<=2;O++)for(let D=-2;D<=2;D++)this.setFunctionModule(S+D,y+O,Math.max(Math.abs(D),Math.abs(O))!=1)}setFunctionModule(S,y,O){this.modules[y][S]=O,this.isFunction[y][S]=!0}addEccAndInterleave(S){const y=this.version,O=this.errorCorrectionLevel;if(S.length!=un.getNumDataCodewords(y,O))throw new RangeError("Invalid argument");const D=un.NUM_ERROR_CORRECTION_BLOCKS[O.ordinal][y],F=un.ECC_CODEWORDS_PER_BLOCK[O.ordinal][y],L=Math.floor(un.getNumRawDataModules(y)/8),Y=D-L%D,P=Math.floor(L/D);let Z=[];const ee=un.reedSolomonComputeDivisor(F);for(let Q=0,m=0;Q<D;Q++){let E=S.slice(m,m+P-F+(Q<Y?0:1));m+=E.length;const C=un.reedSolomonComputeRemainder(E,ee);Q<Y&&E.push(0),Z.push(E.concat(C))}let te=[];for(let Q=0;Q<Z[0].length;Q++)Z.forEach((m,E)=>{(Q!=P-F||E>=Y)&&te.push(m[Q])});return T(te.length==L),te}drawCodewords(S){if(S.length!=Math.floor(un.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let O=this.size-1;O>=1;O-=2){O==6&&(O=5);for(let D=0;D<this.size;D++)for(let F=0;F<2;F++){const L=O-F,P=(O+1&2)==0?this.size-1-D:D;!this.isFunction[P][L]&&y<S.length*8&&(this.modules[P][L]=g(S[y>>>3],7-(y&7)),y++)}}T(y==S.length*8)}applyMask(S){if(S<0||S>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let O=0;O<this.size;O++){let D;switch(S){case 0:D=(O+y)%2==0;break;case 1:D=y%2==0;break;case 2:D=O%3==0;break;case 3:D=(O+y)%3==0;break;case 4:D=(Math.floor(O/3)+Math.floor(y/2))%2==0;break;case 5:D=O*y%2+O*y%3==0;break;case 6:D=(O*y%2+O*y%3)%2==0;break;case 7:D=((O+y)%2+O*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][O]&&D&&(this.modules[y][O]=!this.modules[y][O])}}getPenaltyScore(){let S=0;for(let F=0;F<this.size;F++){let L=!1,Y=0,P=[0,0,0,0,0,0,0];for(let Z=0;Z<this.size;Z++)this.modules[F][Z]==L?(Y++,Y==5?S+=un.PENALTY_N1:Y>5&&S++):(this.finderPenaltyAddHistory(Y,P),L||(S+=this.finderPenaltyCountPatterns(P)*un.PENALTY_N3),L=this.modules[F][Z],Y=1);S+=this.finderPenaltyTerminateAndCount(L,Y,P)*un.PENALTY_N3}for(let F=0;F<this.size;F++){let L=!1,Y=0,P=[0,0,0,0,0,0,0];for(let Z=0;Z<this.size;Z++)this.modules[Z][F]==L?(Y++,Y==5?S+=un.PENALTY_N1:Y>5&&S++):(this.finderPenaltyAddHistory(Y,P),L||(S+=this.finderPenaltyCountPatterns(P)*un.PENALTY_N3),L=this.modules[Z][F],Y=1);S+=this.finderPenaltyTerminateAndCount(L,Y,P)*un.PENALTY_N3}for(let F=0;F<this.size-1;F++)for(let L=0;L<this.size-1;L++){const Y=this.modules[F][L];Y==this.modules[F][L+1]&&Y==this.modules[F+1][L]&&Y==this.modules[F+1][L+1]&&(S+=un.PENALTY_N2)}let y=0;for(const F of this.modules)y=F.reduce((L,Y)=>L+(Y?1:0),y);const O=this.size*this.size,D=Math.ceil(Math.abs(y*20-O*10)/O)-1;return T(0<=D&&D<=9),S+=D*un.PENALTY_N4,T(0<=S&&S<=2568888),S}getAlignmentPatternPositions(){if(this.version==1)return[];{const S=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(S*2-2))*2;let O=[6];for(let D=this.size-7;O.length<S;D-=y)O.splice(1,0,D);return O}}static getNumRawDataModules(S){if(S<un.MIN_VERSION||S>un.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*S+128)*S+64;if(S>=2){const O=Math.floor(S/7)+2;y-=(25*O-10)*O-55,S>=7&&(y-=36)}return T(208<=y&&y<=29648),y}static getNumDataCodewords(S,y){return Math.floor(un.getNumRawDataModules(S)/8)-un.ECC_CODEWORDS_PER_BLOCK[y.ordinal][S]*un.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][S]}static reedSolomonComputeDivisor(S){if(S<1||S>255)throw new RangeError("Degree out of range");let y=[];for(let D=0;D<S-1;D++)y.push(0);y.push(1);let O=1;for(let D=0;D<S;D++){for(let F=0;F<y.length;F++)y[F]=un.reedSolomonMultiply(y[F],O),F+1<y.length&&(y[F]^=y[F+1]);O=un.reedSolomonMultiply(O,2)}return y}static reedSolomonComputeRemainder(S,y){let O=y.map(D=>0);for(const D of S){const F=D^O.shift();O.push(0),y.forEach((L,Y)=>O[Y]^=un.reedSolomonMultiply(L,F))}return O}static reedSolomonMultiply(S,y){if(S>>>8||y>>>8)throw new RangeError("Byte out of range");let O=0;for(let D=7;D>=0;D--)O=O<<1^(O>>>7)*285,O^=(y>>>D&1)*S;return T(O>>>8==0),O}finderPenaltyCountPatterns(S){const y=S[1];T(y<=this.size*3);const O=y>0&&S[2]==y&&S[3]==y*3&&S[4]==y&&S[5]==y;return(O&&S[0]>=y*4&&S[6]>=y?1:0)+(O&&S[6]>=y*4&&S[0]>=y?1:0)}finderPenaltyTerminateAndCount(S,y,O){return S&&(this.finderPenaltyAddHistory(y,O),y=0),y+=this.size,this.finderPenaltyAddHistory(y,O),this.finderPenaltyCountPatterns(O)}finderPenaltyAddHistory(S,y){y[0]==0&&(S+=this.size),y.pop(),y.unshift(S)}};k.MIN_VERSION=1,k.MAX_VERSION=40,k.PENALTY_N1=3,k.PENALTY_N2=3,k.PENALTY_N3=40,k.PENALTY_N4=10,k.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],k.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],A.QrCode=k;function x(R,S,y){if(S<0||S>31||R>>>S)throw new RangeError("Value out of range");for(let O=S-1;O>=0;O--)y.push(R>>>O&1)}function g(R,S){return(R>>>S&1)!=0}function T(R){if(!R)throw new Error("Assertion error")}const _=class ir{constructor(S,y,O){if(this.mode=S,this.numChars=y,this.bitData=O,y<0)throw new RangeError("Invalid argument");this.bitData=O.slice()}static makeBytes(S){let y=[];for(const O of S)x(O,8,y);return new ir(ir.Mode.BYTE,S.length,y)}static makeNumeric(S){if(!ir.isNumeric(S))throw new RangeError("String contains non-numeric characters");let y=[];for(let O=0;O<S.length;){const D=Math.min(S.length-O,3);x(parseInt(S.substring(O,O+D),10),D*3+1,y),O+=D}return new ir(ir.Mode.NUMERIC,S.length,y)}static makeAlphanumeric(S){if(!ir.isAlphanumeric(S))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],O;for(O=0;O+2<=S.length;O+=2){let D=ir.ALPHANUMERIC_CHARSET.indexOf(S.charAt(O))*45;D+=ir.ALPHANUMERIC_CHARSET.indexOf(S.charAt(O+1)),x(D,11,y)}return O<S.length&&x(ir.ALPHANUMERIC_CHARSET.indexOf(S.charAt(O)),6,y),new ir(ir.Mode.ALPHANUMERIC,S.length,y)}static makeSegments(S){return S==""?[]:ir.isNumeric(S)?[ir.makeNumeric(S)]:ir.isAlphanumeric(S)?[ir.makeAlphanumeric(S)]:[ir.makeBytes(ir.toUtf8ByteArray(S))]}static makeEci(S){let y=[];if(S<0)throw new RangeError("ECI assignment value out of range");if(S<128)x(S,8,y);else if(S<16384)x(2,2,y),x(S,14,y);else if(S<1e6)x(6,3,y),x(S,21,y);else throw new RangeError("ECI assignment value out of range");return new ir(ir.Mode.ECI,0,y)}static isNumeric(S){return ir.NUMERIC_REGEX.test(S)}static isAlphanumeric(S){return ir.ALPHANUMERIC_REGEX.test(S)}getData(){return this.bitData.slice()}static getTotalBits(S,y){let O=0;for(const D of S){const F=D.mode.numCharCountBits(y);if(D.numChars>=1<<F)return 1/0;O+=4+F+D.bitData.length}return O}static toUtf8ByteArray(S){S=encodeURI(S);let y=[];for(let O=0;O<S.length;O++)S.charAt(O)!="%"?y.push(S.charCodeAt(O)):(y.push(parseInt(S.substring(O+1,O+3),16)),O+=2);return y}};_.NUMERIC_REGEX=/^[0-9]*$/,_.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,_.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let I=_;A.QrSegment=_})(Is||(Is={}));(A=>{(k=>{const x=class{constructor(T,_){this.ordinal=T,this.formatBits=_}};x.LOW=new x(0,1),x.MEDIUM=new x(1,0),x.QUARTILE=new x(2,3),x.HIGH=new x(3,2),k.Ecc=x})(A.QrCode||(A.QrCode={}))})(Is||(Is={}));(A=>{(k=>{const x=class{constructor(T,_){this.modeBits=T,this.numBitsCharCount=_}numCharCountBits(T){return this.numBitsCharCount[Math.floor((T+7)/17)]}};x.NUMERIC=new x(1,[10,12,14]),x.ALPHANUMERIC=new x(2,[9,11,13]),x.BYTE=new x(4,[8,16,16]),x.KANJI=new x(8,[8,10,12]),x.ECI=new x(7,[0,0,0]),k.Mode=x})(A.QrSegment||(A.QrSegment={}))})(Is||(Is={}));var io=Is;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Hp={L:io.QrCode.Ecc.LOW,M:io.QrCode.Ecc.MEDIUM,Q:io.QrCode.Ecc.QUARTILE,H:io.QrCode.Ecc.HIGH},c1=128,d1="L",f1="#FFFFFF",h1="#000000",m1=!1,g1=1,Gp=4,Vp=0,Xp=.1;function p1(A,k=0){const x=[];return A.forEach(function(g,T){let _=null;g.forEach(function(I,R){if(!I&&_!==null){x.push(`M${_+k} ${T+k}h${R-_}v1H${_+k}z`),_=null;return}if(R===g.length-1){if(!I)return;_===null?x.push(`M${R+k},${T+k} h1v1H${R+k}z`):x.push(`M${_+k},${T+k} h${R+1-_}v1H${_+k}z`);return}I&&_===null&&(_=R)})}),x.join("")}function x1(A,k){return A.slice().map((x,g)=>g<k.y||g>=k.y+k.h?x:x.map((T,_)=>_<k.x||_>=k.x+k.w?T:!1))}function qp(A,k,x,g){if(g==null)return null;const T=A.length+x*2,_=Math.floor(k*Xp),I=T/k,R=(g.width||_)*I,S=(g.height||_)*I,y=g.x==null?A.length/2-R/2:g.x*I,O=g.y==null?A.length/2-S/2:g.y*I,D=g.opacity==null?1:g.opacity;let F=null;if(g.excavate){let Y=Math.floor(y),P=Math.floor(O),Z=Math.ceil(R+y-Y),ee=Math.ceil(S+O-P);F={x:Y,y:P,w:Z,h:ee}}const L=g.crossOrigin;return{x:y,y:O,h:S,w:R,excavation:F,opacity:D,crossOrigin:L}}function Yp(A,k){return k!=null?Math.max(Math.floor(k),0):A?Gp:Vp}function y1({value:A,level:k,minVersion:x,includeMargin:g,marginSize:T,imageSettings:_,size:I,boostLevel:R}){let S=pn.useMemo(()=>{const Y=(Array.isArray(A)?A:[A]).reduce((P,Z)=>(P.push(...io.QrSegment.makeSegments(Z)),P),[]);return io.QrCode.encodeSegments(Y,Hp[k],x,void 0,void 0,R)},[A,k,x,R]);const{cells:y,margin:O,numCells:D,calculatedImageSettings:F}=pn.useMemo(()=>{let L=S.getModules();const Y=Yp(g,T),P=L.length+Y*2,Z=qp(L,I,Y,_);return{cells:L,margin:Y,numCells:P,calculatedImageSettings:Z}},[S,I,_,g,T]);return{qrcode:S,margin:O,cells:y,numCells:D,calculatedImageSettings:F}}var Kp=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Zp=pn.forwardRef(function(k,x){const g=k,{value:T,size:_=c1,level:I=d1,bgColor:R=f1,fgColor:S=h1,includeMargin:y=m1,minVersion:O=g1,boostLevel:D,marginSize:F,imageSettings:L}=g,P=nd(g,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:Z}=P,ee=nd(P,["style"]),te=L==null?void 0:L.src,Q=pn.useRef(null),m=pn.useRef(null),E=pn.useCallback(j=>{Q.current=j,typeof x=="function"?x(j):x&&(x.current=j)},[x]),[C,M]=pn.useState(!1),{margin:W,cells:H,numCells:ae,calculatedImageSettings:me}=y1({value:T,level:I,minVersion:O,boostLevel:D,includeMargin:y,marginSize:F,imageSettings:L,size:_});pn.useEffect(()=>{if(Q.current!=null){const j=Q.current,$=j.getContext("2d");if(!$)return;let X=H;const ie=m.current,Se=me!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;Se&&me.excavation!=null&&(X=x1(H,me.excavation));const _e=window.devicePixelRatio||1;j.height=j.width=_*_e;const se=_/ae*_e;$.scale(se,se),$.fillStyle=R,$.fillRect(0,0,ae,ae),$.fillStyle=S,Kp?$.fill(new Path2D(p1(X,W))):H.forEach(function(le,pe){le.forEach(function(Ne,De){Ne&&$.fillRect(De+W,pe+W,1,1)})}),me&&($.globalAlpha=me.opacity),Se&&$.drawImage(ie,me.x+W,me.y+W,me.w,me.h)}}),pn.useEffect(()=>{M(!1)},[te]);const J=td({height:_,width:_},Z);let ge=null;return te!=null&&(ge=pn.createElement("img",{src:te,key:te,style:{display:"none"},onLoad:()=>{M(!0)},ref:m,crossOrigin:me==null?void 0:me.crossOrigin})),pn.createElement(pn.Fragment,null,pn.createElement("canvas",td({style:J,height:_,width:_,ref:E,role:"img"},ee)),ge)});Zp.displayName="QRCodeCanvas";var dd=pn.forwardRef(function(k,x){const g=k,{value:T,size:_=c1,level:I=d1,bgColor:R=f1,fgColor:S=h1,includeMargin:y=m1,minVersion:O=g1,boostLevel:D,title:F,marginSize:L,imageSettings:Y}=g,P=nd(g,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:Z,cells:ee,numCells:te,calculatedImageSettings:Q}=y1({value:T,level:I,minVersion:O,boostLevel:D,includeMargin:y,marginSize:L,imageSettings:Y,size:_});let m=ee,E=null;Y!=null&&Q!=null&&(Q.excavation!=null&&(m=x1(ee,Q.excavation)),E=pn.createElement("image",{href:Y.src,height:Q.h,width:Q.w,x:Q.x+Z,y:Q.y+Z,preserveAspectRatio:"none",opacity:Q.opacity,crossOrigin:Q.crossOrigin}));const C=p1(m,Z);return pn.createElement("svg",td({height:_,width:_,viewBox:`0 0 ${te} ${te}`,ref:x,role:"img"},P),!!F&&pn.createElement("title",null,F),pn.createElement("path",{fill:R,d:`M0,0 h${te}v${te}H0z`,shapeRendering:"crispEdges"}),pn.createElement("path",{fill:S,d:C,shapeRendering:"crispEdges"}),E)});dd.displayName="QRCodeSVG";const C0=async A=>{const x=new TextEncoder().encode(A),g=await crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(g)).map(_=>_.toString(16).padStart(2,"0")).join("")},Wp=new a1.Converter({sanitize:!0}),Qp=({text:A,highlight:k})=>{if(!k.trim())return v.jsx(v.Fragment,{children:A});const x=new RegExp(`(${k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi"),g=A.split(x);return v.jsx(v.Fragment,{children:g.map((T,_)=>x.test(T)?v.jsx("mark",{children:T},_):v.jsx(pn.Fragment,{children:T},_))})},Jp=({item:A,onUpdate:k})=>{const[x,g]=Le.useState(!1),[T,_]=Le.useState(A.text),I=Le.useRef(null),R=()=>{k({text:T}),g(!1)};Le.useEffect(()=>{const y=O=>{x&&(O.ctrlKey||O.metaKey)&&O.key==="s"&&(O.preventDefault(),R())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[x,T]);const S=y=>{const O=I.current;if(!O)return;const{selectionStart:D,selectionEnd:F,value:L}=O,Y=L.substring(D,F);let P;switch(y){case"bold":P=`**${Y}**`;break;case"italic":P=`*${Y}*`;break;case"code":P=`\`${Y}\``;break;case"quote":P=`> ${Y.replace(/\n/g,`
> `)}`;break;case"list":P=Y.split(`
`).map(Z=>`- ${Z}`).join(`
`);break}_(L.substring(0,D)+P+L.substring(F)),O.focus()};return x?v.jsxs("div",{className:"mt-2 space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-1 border border-input rounded-t-md p-1 bg-muted/50",children:[v.jsx("button",{onClick:()=>S("bold"),title:"Bold (Ctrl+B)",className:"p-2 rounded hover:bg-accent",children:v.jsx(ep,{size:16})}),v.jsx("button",{onClick:()=>S("italic"),title:"Italic (Ctrl+I)",className:"p-2 rounded hover:bg-accent",children:v.jsx(tp,{size:16})}),v.jsx("button",{onClick:()=>S("code"),title:"Code",className:"p-2 rounded hover:bg-accent",children:v.jsx(np,{size:16})}),v.jsx("button",{onClick:()=>S("quote"),title:"Quote",className:"p-2 rounded hover:bg-accent",children:v.jsx(rp,{size:16})}),v.jsx("button",{onClick:()=>S("list"),title:"List",className:"p-2 rounded hover:bg-accent",children:v.jsx(ap,{size:16})})]}),v.jsx("textarea",{ref:I,value:T,onChange:y=>_(y.target.value),rows:8,autoFocus:!0,className:"w-full text-sm p-2 bg-transparent border border-input rounded-b-md focus:outline-none focus:ring-1 focus:ring-ring font-mono",placeholder:"Write in Markdown..."}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 text-xs font-medium text-foreground bg-muted rounded-md hover:bg-accent",children:"Cancel"}),v.jsx("button",{onClick:R,className:"px-3 py-1 text-xs font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:"Save (Ctrl+S)"})]})]}):v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground mt-2",dangerouslySetInnerHTML:{__html:Wp.makeHtml(A.text)}}),v.jsx("button",{onClick:()=>g(!0),className:"absolute -top-1 -right-1 p-1.5 text-muted-foreground hover:text-primary rounded-full hover:bg-accent opacity-0 group-hover:opacity-100 transition-opacity",title:"Edit note",children:v.jsx(X0,{size:14})})]})},$p=pn.memo(({firstName:A="",lastName:k=""})=>{const x=`${A.charAt(0)}${k.charAt(0)}`.toUpperCase(),g=(A.charCodeAt(0)||77)+(k.charCodeAt(0)||97),T=["bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200","bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200","bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200","bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200","bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200","bg-indigo-200 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-200"],_=T[g%T.length];return v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0 ${_}`,children:x})}),ex=pn.memo(({item:A})=>{const k=pn.useRef(null);return pn.useEffect(()=>{k.current&&window.hljs&&window.hljs.highlightElement(k.current)},[A.language,A.code]),v.jsxs("div",{className:"mt-2",children:[v.jsx("span",{className:"text-xs font-semibold uppercase text-muted-foreground bg-muted px-2 py-1 rounded-md",children:A.language}),v.jsx("pre",{className:"mt-2 text-sm",children:v.jsx("code",{ref:k,className:`language-${A.language}`,children:A.code})})]})}),tx=({item:A,onUpdate:k})=>{const[x,g]=Le.useState(""),T=L=>k({items:L}),_=L=>{const Y=JSON.parse(JSON.stringify(A.items)),P=Z=>{for(const ee of Z){if(ee.id===L)return ee.checked=!ee.checked,!0;if(ee.children&&P(ee.children))return!0}return!1};P(Y),T(Y)},I=L=>{const Y=JSON.parse(JSON.stringify(A.items)),P=Z=>Z.filter(ee=>ee.id===L?!1:(ee.children&&(ee.children=P(ee.children)),!0));T(P(Y))},R=()=>{x.trim()&&(T([...A.items,{id:crypto.randomUUID(),text:x.trim(),checked:!1}]),g(""))},S=L=>L.reduce((Y,P)=>{const Z=P.children?S(P.children):{total:0,checked:0};return{total:Y.total+1+Z.total,checked:Y.checked+(P.checked?1:0)+Z.checked}},{total:0,checked:0}),{total:y,checked:O}=S(A.items),D=y>0?O/y*100:0,F=L=>v.jsxs("li",{className:"group flex items-center gap-3 py-1.5",children:[v.jsx("input",{id:`checkbox-${L.id}`,type:"checkbox",checked:L.checked,onChange:()=>_(L.id),className:"h-5 w-5 rounded border-input text-primary focus:ring-primary focus:ring-2 focus:ring-offset-2 focus:ring-offset-card"}),v.jsx("label",{htmlFor:`checkbox-${L.id}`,className:`flex-grow cursor-pointer ${L.checked?"line-through text-muted-foreground":"text-foreground"}`,children:L.text}),v.jsx("button",{onClick:()=>I(L.id),className:"text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity ml-auto",children:v.jsx(ks,{size:16})})]},L.id);return v.jsxs("div",{className:"space-y-3 mt-2",children:[y>0&&v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs font-medium text-muted-foreground mb-1",children:[v.jsxs("span",{children:[Math.round(D),"% Complete"]}),v.jsxs("span",{children:[O," / ",y," Tasks"]})]}),v.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:v.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${D}%`}})})]}),v.jsx("ul",{className:"space-y-1",children:A.items.map(F)}),v.jsxs("div",{className:"flex gap-2 pt-2 border-t border-border",children:[v.jsx("input",{type:"text",value:x,onChange:L=>g(L.target.value),onKeyDown:L=>L.key==="Enter"&&R(),placeholder:"Add a task...",className:"flex-grow text-sm px-3 py-1.5 bg-transparent border border-input rounded-md focus:ring-1 focus:ring-ring focus:outline-none"}),v.jsx("button",{onClick:R,className:"px-4 py-1.5 text-sm font-medium text-secondary-foreground bg-secondary rounded-md hover:bg-secondary/90",children:"Add"})]})]})},nx=({item:A,onClose:k})=>v.jsx(za,{isOpen:!0,onClose:k,title:A.title,children:v.jsx("div",{className:"w-full h-[70vh] bg-muted rounded-md",children:v.jsx("iframe",{src:A.content,title:A.title,className:"w-full h-full border-0 rounded-md"})})}),rx=pn.memo(({item:A,onUpdateItem:k,onDeleteItem:x,onDuplicateItem:g,searchQuery:T,isSelectMode:_,isSelected:I,onToggleSelect:R})=>{const{showToast:S}=hd(),[y,O]=Le.useState(!1),[D,F]=Le.useState(!1),[L,Y]=Le.useState("main"),P=Le.useRef(null),Z=m=>{navigator.clipboard.writeText(m),S("Copied to clipboard!")},ee=m=>ed(i1(m.content,m.mimeType),m.filename);Le.useEffect(()=>{const m=E=>{P.current&&!P.current.contains(E.target)&&F(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const te=()=>{switch(A.type){case lt.LINK:return v.jsx("p",{className:"text-sm text-primary truncate hover:underline mt-2",children:v.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",children:A.url})});case lt.NOTE:return v.jsx(Jp,{item:A,onUpdate:k});case lt.FILE:const m=A,E=m.mimeType==="application/pdf"||m.mimeType.startsWith("text/");return m.mimeType.startsWith("image/")?v.jsx("img",{src:m.content,alt:m.filename,className:"mt-2 max-h-48 rounded-md object-contain"}):E?v.jsx("button",{onClick:()=>O(!0),className:"text-sm text-primary hover:underline mt-2 text-left",children:m.filename}):v.jsxs("p",{className:"text-sm text-foreground mt-2",children:[m.filename," ",v.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(m.size/1024).toFixed(2)," KB)"]})]});case lt.AUDIO:return v.jsx("audio",{src:A.content,controls:!0,className:"w-full mt-2 h-10"});case lt.CHECKLIST:return v.jsx(tx,{item:A,onUpdate:k});case lt.CONTACT:const C=A;return v.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[v.jsx($p,{firstName:C.firstName,lastName:C.lastName}),v.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[(C.firstName||C.lastName)&&v.jsxs("p",{className:"font-semibold text-foreground",children:[C.firstName," ",C.lastName]}),C.phone&&v.jsx("p",{children:C.phone}),C.email&&v.jsx("p",{children:C.email})]})]});case lt.LOCATION:return v.jsx("a",{href:`https://www.google.com/maps?q=${A.latitude},${A.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline mt-2 block",children:A.address||`${A.latitude}, ${A.longitude}`});case lt.DRAWING:return v.jsx("img",{src:A.content,alt:A.title,className:"mt-2 max-h-48 rounded-md border border-border"});case lt.EMAIL:return v.jsxs("div",{className:"text-sm mt-2 space-y-1",children:[v.jsxs("p",{children:[v.jsx("strong",{className:"text-muted-foreground",children:"To:"})," ",A.to]}),v.jsxs("p",{className:"text-muted-foreground whitespace-pre-wrap",children:[A.body.substring(0,100),A.body.length>100?"...":""]})]});case lt.CODE:return v.jsx(ex,{item:A});case lt.QR_CODE:return v.jsx("div",{className:"mt-2 p-2 bg-white inline-block rounded-md",children:v.jsx(dd,{value:A.content,size:128})});default:return null}},Q=v.jsxs("div",{className:`p-4 rounded-lg border flex items-start gap-3 transition-all duration-200 ${A.color||"bg-card"} ${I?"ring-2 ring-primary":""}`,style:{borderColor:A.color?"transparent":"hsl(var(--border))"},children:[!_&&v.jsx("div",{className:"flex-shrink-0 w-8 h-10 flex items-center justify-center cursor-grab active:cursor-grabbing text-muted-foreground/50 hover:text-muted-foreground",children:v.jsx(J2,{size:20})}),_&&v.jsx("input",{type:"checkbox",checked:I,onChange:R,className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary mt-2 flex-shrink-0"}),v.jsxs("div",{className:"flex-grow min-w-0",onClick:()=>_&&R(),children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("h4",{className:"font-semibold text-card-foreground truncate flex-grow pr-2",children:v.jsx(Qp,{text:A.title,highlight:T})}),!_&&v.jsxs("div",{className:"relative flex-shrink-0",ref:P,children:[v.jsx("button",{onClick:()=>{F(m=>!m),D||Y("main")},className:"p-2 text-muted-foreground hover:bg-accent rounded-full -mr-2 -mt-1",children:v.jsx(od,{size:18})}),D&&v.jsx("div",{className:"absolute right-0 top-full mt-1 w-auto bg-popover rounded-md shadow-lg z-20 border border-border",children:L==="main"?v.jsxs("ul",{className:"py-1 w-48",children:[v.jsx("li",{children:v.jsxs("button",{onClick:()=>{k({isPinned:!A.isPinned}),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[A.isPinned?v.jsx(t1,{size:16}):v.jsx(Jc,{size:16})," ",A.isPinned?"Unpin":"Pin"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>{g(),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx($l,{size:16})," Duplicate"]})}),(A.type===lt.LINK||A.type===lt.NOTE||A.type===lt.CODE)&&v.jsx("li",{children:v.jsxs("button",{onClick:()=>{Z(A.url||A.text||A.code),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx(op,{size:16})," Copy Content"]})}),(A.type===lt.FILE||A.type===lt.AUDIO||A.type===lt.DRAWING)&&v.jsx("li",{children:v.jsxs("button",{onClick:()=>{ee(A),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx(G0,{size:16})," Download"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>Y("color"),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx($2,{size:16})," Color"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>{x(A),F(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-destructive hover:bg-destructive/10",children:[v.jsx(Wl,{size:16})," Delete"]})})]}):v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center p-1 border-b border-border",children:[v.jsx("button",{onClick:()=>Y("main"),className:"p-2 rounded-full hover:bg-accent",children:v.jsx(Os,{size:16})}),v.jsx("span",{className:"text-sm font-semibold mx-auto pr-8",children:"Select Color"})]}),v.jsx("div",{className:"p-2 flex justify-center gap-2",children:["bg-red-500/20","bg-yellow-500/20","bg-green-500/20","bg-blue-500/20","bg-indigo-500/20","bg-purple-500/20"].map(m=>v.jsx("button",{onClick:()=>{k({color:m}),F(!1)},className:`w-6 h-6 rounded-full ${m.replace("/20","")} hover:scale-110 transition-transform ring-2 ring-offset-2 ring-offset-popover ${A.color===m?"ring-primary":"ring-transparent"}`},m))}),v.jsx("button",{onClick:()=>{k({color:""}),F(!1)},className:"w-full text-xs text-center p-2 hover:bg-accent rounded-b-md border-t border-border",children:"Clear Color"})]})})]})]}),te()]})]});return v.jsxs(v.Fragment,{children:[y&&A.type===lt.FILE&&v.jsx(nx,{item:A,onClose:()=>O(!1)}),Q]})}),ax=()=>v.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 animate-pulse",children:[v.jsx("div",{className:"h-6 w-1/3 bg-muted rounded-md mb-4"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"h-10 w-2/3 bg-muted rounded-md mb-2"}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("div",{className:"h-9 w-24 bg-muted rounded-full"}),v.jsx("div",{className:"h-9 w-9 bg-muted rounded-md"}),v.jsx("div",{className:"h-9 w-24 bg-muted rounded-md"})]})]}),v.jsx("div",{className:"h-40 w-full bg-card border border-border rounded-lg mb-6"}),v.jsx("div",{className:"space-y-4",children:[...Array(3)].map((A,k)=>v.jsxs("div",{className:"bg-card p-4 rounded-lg border border-border flex items-start gap-4",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-muted rounded-full"}),v.jsxs("div",{className:"flex-grow min-w-0",children:[v.jsx("div",{className:"h-5 w-1/2 bg-muted rounded-md"}),v.jsx("div",{className:"h-4 w-full bg-muted rounded-md mt-3"})]})]},k))})]}),ix=({bundleId:A,onBack:k,onNavigateToShare:x})=>{const{updateBundle:g,removeItemFromBundle:T,moveItemInBundle:_,updateItemInBundle:I,removeItemsFromBundle:R,duplicateItemInBundle:S}=iu(),y=au(()=>Pt.bundles.get(A),[A]),[O,D]=Le.useState((y==null?void 0:y.title)||""),[F,L]=Le.useState(!1),Y=Le.useRef(null),[P,Z]=Le.useState(null),[ee,te]=Le.useState(""),[Q,m]=Le.useState(!1),[E,C]=Le.useState(!1),[M,W]=Le.useState(null),[H,ae]=Le.useState(!1),[me,J]=Le.useState(new Set),[ge,j]=Le.useState(!1);Le.useEffect(()=>{const $e=Xe=>{Xe.key==="Escape"&&(Z(null),m(!1),C(!1),ae(!1))};return window.addEventListener("keydown",$e),()=>window.removeEventListener("keydown",$e)},[]),Le.useEffect(()=>{D((y==null?void 0:y.title)||"")},[y==null?void 0:y.title]),Le.useEffect(()=>{const $e=document.title;return y!=null&&y.title&&(document.title=`Editing: ${y.title} | StaticLink`),()=>{document.title=$e}},[y==null?void 0:y.title]),Le.useEffect(()=>{F&&Y.current&&(Y.current.focus(),Y.current.select())},[F]);const $=()=>{L(!1),y&&O.trim()&&O!==y.title?g(y.id,{title:O}):D((y==null?void 0:y.title)||"")},X=Le.useCallback(($e,Xe)=>{I(A,$e,Xe)},[A,I]),ie=Le.useCallback($e=>{S(A,$e)},[A,S]),Se=()=>{H&&me.size>0?(R(A,me),ae(!1),J(new Set),Z(null)):P&&y&&(T(y.id,P.id),Z(null))},_e=($e,Xe)=>{W(Xe),$e.dataTransfer.effectAllowed="move"},se=$e=>$e.preventDefault(),le=($e,Xe)=>{$e.preventDefault(),M!==null&&M!==Xe&&_(A,M,Xe),W(null)},pe=$e=>{J(Xe=>{const Ve=new Set(Xe);return Ve.has($e)?Ve.delete($e):Ve.add($e),Ve})},Ne=Le.useMemo(()=>{if(!y)return[];let $e=[...y.items];if(ee.trim()){const Xe=ee.toLowerCase();$e=$e.filter(Ve=>JSON.stringify(Ve).toLowerCase().includes(Xe))}return $e.sort((Xe,Ve)=>(Ve.isPinned?1:0)-(Xe.isPinned?1:0)),$e},[y,ee]);if(!y)return v.jsx(ax,{});const De=({onClose:$e})=>{const[Xe,Ve]=Le.useState(y.isLocked?"remove":"set"),[Dt,Tt]=Le.useState(""),[vt,yt]=Le.useState(""),[z,Ge]=Le.useState(""),Pe=async oe=>{if(oe.preventDefault(),Ge(""),Dt.length<4){Ge("Password must be at least 4 characters.");return}if(Dt!==vt){Ge("Passwords do not match.");return}const we=await C0(Dt);await g(A,{isLocked:!0,passwordHash:we}),$e()},fe=async oe=>{if(oe.preventDefault(),Ge(""),await C0(Dt)!==y.passwordHash){Ge("Incorrect password.");return}await g(A,{isLocked:!1,passwordHash:""}),$e()};return v.jsx(za,{isOpen:!0,onClose:$e,title:"Manage Bundle Protection",children:Xe==="set"?v.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[v.jsx("p",{children:"Set a password to lock this bundle."}),v.jsx("input",{type:"password",value:Dt,onChange:oe=>Tt(oe.target.value),placeholder:"New Password",required:!0,className:"w-full px-3 py-2 bg-transparent border border-input rounded-md"})," ",v.jsx("input",{type:"password",value:vt,onChange:oe=>yt(oe.target.value),placeholder:"Confirm Password",required:!0,className:"w-full px-3 py-2 bg-transparent border border-input rounded-md"})," ",z&&v.jsx("p",{className:"text-sm text-destructive",children:z}),v.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[v.jsx("button",{type:"button",onClick:$e,className:"px-4 py-2 font-medium bg-muted rounded-md",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 font-medium text-primary-foreground bg-primary rounded-md",children:"Set Password"})]})]}):v.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[v.jsx("p",{children:"Enter current password to remove protection."}),v.jsx("input",{type:"password",value:Dt,onChange:oe=>Tt(oe.target.value),placeholder:"Current Password",required:!0,className:"w-full px-3 py-2 bg-transparent border border-input rounded-md"})," ",z&&v.jsx("p",{className:"text-sm text-destructive",children:z}),v.jsxs("div",{className:"flex justify-between items-center pt-2",children:[v.jsx("button",{type:"button",onClick:()=>Ve("set"),className:"text-sm text-primary hover:underline",children:"Change password?"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{type:"button",onClick:$e,className:"px-4 py-2 font-medium bg-muted rounded-md",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 font-medium text-destructive-foreground bg-destructive rounded-md",children:"Remove"})]})]})]})})},Be=({onClose:$e})=>v.jsx("div",{className:"bottom-sheet-overlay",onClick:$e,children:v.jsxs("div",{className:"bottom-sheet",onClick:Xe=>Xe.stopPropagation(),children:[v.jsxs("div",{className:"p-4 border-b border-border sticky top-0 bg-card",children:[v.jsx("h3",{className:"text-xl font-semibold text-center",children:"Add to Bundle"}),v.jsx("button",{onClick:$e,className:"absolute top-3 right-3 text-muted-foreground",children:v.jsx(ks,{})})]}),v.jsx(_0,{bundleId:A,onFormSubmit:$e})]})}),ze=({label:$e,icon:Xe,isActive:Ve=!1,onClick:Dt})=>v.jsxs("button",{onClick:Dt,className:`flex-1 flex flex-col items-center justify-center h-full transition-colors ${Ve?"text-primary":"text-muted-foreground hover:text-primary"}`,children:[Xe,v.jsx("span",{className:"text-xs font-medium mt-1",children:$e})]});return v.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 pb-24 sm:pb-8",children:[Q&&v.jsx(De,{onClose:()=>m(!1)}),!H&&v.jsxs("div",{className:"sm:hidden mobile-dock",children:[v.jsx(ze,{label:"Back",icon:v.jsx(Os,{size:22}),onClick:k}),v.jsxs("button",{onClick:()=>C(!0),className:"flex-1 flex flex-col items-center justify-center h-full text-primary",children:[v.jsx("div",{className:"h-14 w-14 bg-primary text-primary-foreground rounded-full shadow-lg flex items-center justify-center ring-4 ring-background -mt-6",children:v.jsx(Ts,{size:28})}),v.jsx("span",{className:"text-xs font-medium mt-1",children:"Add"})]}),v.jsx(ze,{label:"Select",icon:v.jsx(su,{size:22}),isActive:H,onClick:()=>ae(!H)}),v.jsx(ze,{label:"Share",icon:v.jsx(Qc,{size:22}),onClick:()=>x(y.id)})]}),E&&v.jsx(Be,{onClose:()=>C(!1)}),v.jsxs("header",{className:"mb-6",children:[v.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-sm font-medium text-primary hover:underline mb-4",children:[v.jsx(Os,{size:16}),"Back to My Bundles"]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsx("div",{className:"min-w-0 flex-1",children:F?v.jsx("input",{ref:Y,type:"text",value:O,onChange:$e=>D($e.target.value),onBlur:$,onKeyDown:$e=>$e.key==="Enter"&&$e.target.blur(),className:"text-3xl font-bold bg-transparent focus:outline-none w-full text-foreground -ml-1 p-1 rounded-md ring-1 ring-ring"}):v.jsx("h1",{onClick:()=>L(!0),className:"text-3xl font-bold w-full text-foreground -ml-1 p-1 rounded-md hover:bg-accent/50 cursor-pointer truncate",title:"Click to edit",children:y.title})}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 w-full sm:w-auto justify-end",children:[v.jsx("button",{onClick:()=>m(!0),title:"Manage Protection",className:"flex-shrink-0 flex items-center justify-center h-9 w-9 font-semibold text-primary bg-primary/10 rounded-md hover:bg-primary/20",children:y.isLocked?v.jsx(e1,{size:16}):v.jsx(W2,{size:16})}),v.jsxs("button",{onClick:()=>x(y.id),className:"flex items-center gap-1.5 px-4 py-1.5 text-sm font-semibold text-primary-foreground bg-primary rounded-md hover:bg-primary/90 shadow-sm",children:[v.jsx(Qc,{size:14}),"Share"]})]})]})]}),v.jsx("div",{className:"hidden sm:block mb-6",children:ge?v.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:v.jsx(_0,{bundleId:A,onFormSubmit:()=>j(!1)})}):v.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium text-primary bg-primary/10 rounded-md hover:bg-primary/20 border-2 border-dashed border-primary/20 hover:border-primary/40 transition-all",children:[v.jsx(Ts,{size:18})," Add New Item"]})}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[v.jsxs("div",{className:"relative flex-grow",children:[v.jsx(q0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),v.jsx("input",{type:"text",value:ee,onChange:$e=>te($e.target.value),placeholder:"Search items...",className:"w-full pl-10 pr-4 py-2 bg-card border border-input rounded-md focus:outline-none focus:ring-1 focus:ring-ring"})]}),v.jsx("button",{onClick:()=>ae(!H),className:`hidden sm:inline-flex px-4 py-2 text-sm font-medium rounded-md ${H?"bg-primary/20 text-primary":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:"Select"})]}),v.jsx("div",{className:"space-y-4",children:Ne.length>0?Ne.map(($e,Xe)=>v.jsx("div",{draggable:!H,onDragStart:Ve=>_e(Ve,Xe),onDragOver:se,onDrop:Ve=>le(Ve,Xe),className:`transition-opacity ${M===Xe?"opacity-30":""}`,children:v.jsx(rx,{item:$e,searchQuery:ee,onUpdateItem:Ve=>X($e.id,Ve),onDeleteItem:()=>Z($e),onDuplicateItem:()=>ie($e.id),isSelectMode:H,isSelected:me.has($e.id),onToggleSelect:()=>pe($e.id)})},$e.id)):v.jsxs("div",{className:"text-center py-16 px-6 bg-card border-2 border-dashed border-border rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold text-foreground",children:ee?"No Matching Items":"This Bundle is Empty"}),v.jsxs("p",{className:"mt-2 text-muted-foreground",children:[ee?"Try another search.":"Add your first item!"," "]})]})}),H&&v.jsx("div",{className:"fixed bottom-0 left-0 right-0 sm:bottom-4 sm:left-auto sm:right-4 z-30",children:v.jsxs("div",{className:"bg-background border-t sm:border border-border shadow-lg sm:rounded-full flex items-center justify-between gap-4 p-2 pl-4 h-16 sm:h-auto",children:[v.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[me.size," selected"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{disabled:me.size===0,onClick:()=>Z({id:"bulk_delete"}),className:"px-4 py-2 text-sm font-medium rounded-full bg-destructive text-destructive-foreground disabled:bg-muted disabled:text-muted-foreground",children:"Delete"}),v.jsx("button",{onClick:()=>ae(!1),className:"p-2 text-muted-foreground hover:bg-accent rounded-full",children:v.jsx(ks,{})})]})]})}),v.jsx(za,{isOpen:!!P,onClose:()=>Z(null),title:H?`Delete ${me.size} Items`:"Delete Item",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>Z(null),className:"px-4 py-2 font-medium bg-muted rounded-md",children:"Cancel"}),v.jsx("button",{onClick:Se,className:"px-4 py-2 font-medium text-destructive-foreground bg-destructive rounded-md",children:"Delete"})]}),children:v.jsxs("p",{children:["Are you sure you want to delete ",H?`${me.size} items`:`"${P==null?void 0:P.title}"`,"?"]})})]})},sx=2048,b1=(A,k)=>{const x={className:"w-5 h-5 flex-shrink-0"};switch(A){case lt.LINK:return v.jsx(id,{...x,className:"text-primary"});case lt.NOTE:return v.jsx(sd,{...x,className:"text-secondary"});case lt.FILE:const g=k;return g&&g.mimeType.startsWith("image/")?v.jsx(Q0,{...x,className:"text-purple-500"}):g&&(g.mimeType.includes("pdf")||g.mimeType.includes("document"))?v.jsx(J0,{...x,className:"text-blue-500"}):v.jsx(H0,{...x,className:"text-orange-500"});case lt.AUDIO:return v.jsx(ld,{...x,className:"text-red-500"});case lt.CHECKLIST:return v.jsx(su,{...x,className:"text-indigo-500"});case lt.CONTACT:return v.jsx(Y0,{...x,className:"text-teal-500"});case lt.LOCATION:return v.jsx(K0,{...x,className:"text-green-500"});case lt.DRAWING:return v.jsx(Z0,{...x,className:"text-purple-500"});case lt.EMAIL:return v.jsx(W0,{...x,className:"text-blue-500"});case lt.CODE:return v.jsx($0,{...x,className:"text-yellow-500"});case lt.QR_CODE:return v.jsx(ud,{...x,className:"text-gray-500"});default:return null}},ox=({bundle:A})=>{const k=Le.useMemo(()=>{const x=A.items.reduce((_,I)=>(_[I.type]=(_[I.type]||0)+1,_),{}),g=yp(A),T=g>1024*1024?`${(g/(1024*1024)).toFixed(2)} MB`:`${(g/1024).toFixed(2)} KB`;return{counts:x,formattedSize:T,totalItems:A.items.length}},[A]);return v.jsxs("div",{className:"w-full p-6 bg-card border border-border rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4 text-card-foreground",children:"Bundle Overview"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Items"}),v.jsx("span",{className:"font-semibold text-foreground",children:k.totalItems})]}),v.jsxs("div",{className:"flex justify-between items-center text-sm",children:[v.jsx("span",{className:"font-medium text-muted-foreground",children:"Bundle Size"}),v.jsx("span",{className:"font-semibold text-foreground",children:k.formattedSize})]}),Object.keys(k.counts).length>0&&v.jsxs("div",{className:"pt-2 border-t border-border",children:[v.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Item Breakdown:"}),v.jsx("ul",{className:"space-y-2",children:Object.entries(k.counts).map(([x,g])=>v.jsxs("li",{className:"flex items-center gap-3 text-sm",children:[b1(x),v.jsxs("span",{className:"capitalize flex-grow text-foreground",children:[x.replace("_"," "),"s"]}),v.jsx("span",{className:"font-semibold text-foreground",children:g})]},x))})]})]})]})},lx=({bundleId:A,onBack:k})=>{const x=au(()=>Pt.bundles.get(A),[A]),[g,T]=Le.useState("loading"),[_,I]=Le.useState(!1),[R,S]=Le.useState(null),[y,O]=Le.useState(new Set);Le.useEffect(()=>{x!==void 0&&T(x?"loaded":"not-found")},[x]);const D=Le.useMemo(()=>!x||x.items.some(m=>[lt.FILE,lt.AUDIO,lt.DRAWING].includes(m.type))?!1:JSON.stringify({staticlink_qr:!0,bundle:x}).length<sx,[x]),F=Le.useMemo(()=>{if(!D||!x)return null;const te={title:x.title,items:x.items.map(({id:Q,createdAt:m,...E})=>E)};return JSON.stringify({staticlink_qr:!0,bundle:te})},[x,D]),L=te=>{x&&(S(te),O(new Set(x.items.map(Q=>Q.id))),I(!0))},Y=()=>L("slpkg"),P=()=>L("html"),Z=async()=>{if(!x||!R||y.size===0)return;const te=x.items.filter(m=>y.has(m.id)),Q={...x,items:te};if(R==="slpkg"){const m=await pp(Q);ed(m,`${Q.title.replace(/\s/g,"_")}.slpkg`)}else if(R==="html"){const m=bp(Q);ed(m,`${Q.title.replace(/\s/g,"_")}.html`)}I(!1),S(null)},ee=()=>{if(!x)return null;const te=E=>{const C=new Set(y);C.has(E)?C.delete(E):C.add(E),O(C)},Q=()=>O(new Set(x.items.map(E=>E.id))),m=()=>O(new Set);return v.jsx(za,{isOpen:_,onClose:()=>I(!1),title:"Customize Export",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 font-medium bg-muted rounded-md",children:"Cancel"}),v.jsx("button",{onClick:Z,disabled:y.size===0,className:"px-4 py-2 font-medium text-primary-foreground bg-primary rounded-md disabled:bg-muted",children:"Export"})]}),children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("p",{children:["Select which items to include in the exported ",v.jsx("span",{className:"font-semibold",children:R==="slpkg"?".slpkg package":".html file"}),"."]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("span",{className:"text-sm font-medium",children:[y.size," of ",x.items.length," selected"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:m,className:"text-xs font-semibold text-primary",children:"Deselect All"}),v.jsx("button",{onClick:Q,className:"text-xs font-semibold text-primary",children:"Select All"})]})]}),v.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 p-2 bg-muted/50 rounded-md border",children:x.items.map(E=>v.jsxs("label",{className:"flex items-center gap-3 p-2 bg-card rounded-md cursor-pointer hover:bg-accent",children:[v.jsx("input",{type:"checkbox",checked:y.has(E.id),onChange:()=>te(E.id),className:"h-4 w-4 rounded text-primary focus:ring-primary"}),b1(E.type,E),v.jsx("span",{className:"flex-grow text-sm truncate",children:E.title})]},E.id))})]})})};return g==="loading"?v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx("p",{children:"Loading bundle..."})}):g==="not-found"||!x?v.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold mt-8",children:"Bundle Not Found"}),v.jsx("p",{className:"text-muted-foreground mt-2",children:"The requested bundle could not be found. It may have been deleted."}),v.jsxs("button",{onClick:k,className:"mt-6 flex items-center mx-auto gap-2 text-sm font-medium text-primary hover:underline",children:[v.jsx(Os,{size:16})," Go Back"]})]}):v.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[v.jsx(ee,{}),v.jsxs("header",{className:"mb-6",children:[v.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-sm font-medium text-primary hover:underline mb-4",children:[v.jsx(Os,{size:16})," Back to Editor"]}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:['Share "',x.title,'"']}),v.jsxs("p",{className:"text-muted-foreground",children:[x.items.length," item",x.items.length!==1&&"s"]})]})]}),v.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 gap-8 items-start",children:[v.jsx("div",{className:"w-full md:sticky md:top-24 order-1 md:order-2",children:v.jsxs("div",{className:"w-full p-6 bg-card border border-border rounded-lg flex flex-col items-center",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4 text-card-foreground",children:"Share via QR Code"}),D&&F?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"p-4 bg-white rounded-lg",children:v.jsx(dd,{value:F,size:256})}),v.jsx("p",{className:"text-sm text-center text-muted-foreground mt-4 max-w-xs",children:"Scan this code to instantly import this bundle."})]}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx(ud,{size:48,className:"mx-auto text-muted-foreground"}),v.jsx("p",{className:"text-muted-foreground mt-4 max-w-xs",children:"This bundle is too large or contains files, making it unsuitable for QR code sharing."})]})]})}),v.jsxs("div",{className:"space-y-8 w-full order-2 md:order-1",children:[v.jsx(ox,{bundle:x}),v.jsxs("div",{className:"w-full p-6 bg-card border border-border rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Download Package"}),v.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Download a portable ",v.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:".slpkg"})," file containing all your items."]}),v.jsxs("button",{onClick:Y,className:"w-full flex justify-center items-center gap-2 px-6 py-2 font-semibold text-primary-foreground bg-primary rounded-md hover:bg-primary/90",children:[v.jsx(G0,{size:18}),"Download .slpkg"]})]}),v.jsxs("div",{className:"w-full p-6 bg-card border border-border rounded-lg",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Export as HTML"}),v.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a self-contained HTML file of your bundle, viewable in any browser."}),v.jsxs("button",{onClick:P,className:"w-full flex justify-center items-center gap-2 px-6 py-2 font-semibold text-secondary-foreground bg-secondary rounded-md hover:bg-secondary/90",children:[v.jsx(Q2,{size:18}),"Export .html"]})]})]})]})]})},ux=({onBack:A})=>{const[k,x]=Le.useState(!1),g=`javascript:(function(){const url='${window.location.origin}${window.location.pathname}#/home?url='+encodeURIComponent(window.location.href)+'&title='+encodeURIComponent(document.title);window.open(url,'_blank');})();`,T=()=>{navigator.clipboard.writeText(g),x(!0),setTimeout(()=>x(!1),2e3)};return v.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[v.jsxs("header",{className:"mb-6",children:[v.jsxs("button",{onClick:A,className:"flex items-center gap-2 text-sm font-medium text-primary hover:underline mb-4",children:[v.jsx(Os,{size:16}),"Back to My Bundles"]}),v.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Quick Add Bookmarklet"}),v.jsx("p",{className:"text-muted-foreground mt-2",children:"Save links to StaticLink from any website with a single click."})]}),v.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-card-foreground",children:"How It Works"}),v.jsx("p",{className:"text-muted-foreground mt-2",children:"The bookmarklet is a special browser bookmark. When you're on a webpage you want to save, just click it. A new StaticLink tab will open, ready to add the link to your 'Inbox' bundle."})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-card-foreground",children:"Setup Instructions"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4 text-muted-foreground",children:[v.jsxs("li",{children:[v.jsx("strong",{className:"text-foreground",children:"Drag this link to your bookmarks bar:"}),v.jsx("div",{className:"mt-2",children:v.jsxs("a",{href:g,onClick:_=>_.preventDefault(),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-semibold hover:bg-primary/90",title:"Drag me to your bookmarks bar",children:[v.jsx(n1,{size:16}),"Add to StaticLink"]})})]}),v.jsxs("li",{children:[v.jsx("strong",{className:"text-foreground",children:"Or, create a bookmark manually:"}),v.jsx("p",{children:'Create a new bookmark in your browser, name it whatever you like (e.g., "Add to StaticLink"), and paste the code below into the URL/Address field.'}),v.jsxs("div",{className:"mt-2 relative",children:[v.jsx("pre",{className:"bg-muted p-4 rounded-md text-sm text-foreground overflow-x-auto",children:v.jsx("code",{children:g})}),v.jsx("button",{onClick:T,className:"absolute top-2 right-2 p-2 bg-card rounded-md hover:bg-accent text-muted-foreground",children:k?v.jsx(V0,{size:16,className:"text-green-500"}):v.jsx($l,{size:16})})]})]}),v.jsxs("li",{children:[v.jsx("strong",{className:"text-foreground",children:"You're all set!"}),v.jsx("p",{children:"Navigate to any website, click your new bookmark, and see the magic happen."})]})]})]})]})]})};var pt;(function(A){A[A.QR_CODE=0]="QR_CODE",A[A.AZTEC=1]="AZTEC",A[A.CODABAR=2]="CODABAR",A[A.CODE_39=3]="CODE_39",A[A.CODE_93=4]="CODE_93",A[A.CODE_128=5]="CODE_128",A[A.DATA_MATRIX=6]="DATA_MATRIX",A[A.MAXICODE=7]="MAXICODE",A[A.ITF=8]="ITF",A[A.EAN_13=9]="EAN_13",A[A.EAN_8=10]="EAN_8",A[A.PDF_417=11]="PDF_417",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pt||(pt={}));var S0=new Map([[pt.QR_CODE,"QR_CODE"],[pt.AZTEC,"AZTEC"],[pt.CODABAR,"CODABAR"],[pt.CODE_39,"CODE_39"],[pt.CODE_93,"CODE_93"],[pt.CODE_128,"CODE_128"],[pt.DATA_MATRIX,"DATA_MATRIX"],[pt.MAXICODE,"MAXICODE"],[pt.ITF,"ITF"],[pt.EAN_13,"EAN_13"],[pt.EAN_8,"EAN_8"],[pt.PDF_417,"PDF_417"],[pt.RSS_14,"RSS_14"],[pt.RSS_EXPANDED,"RSS_EXPANDED"],[pt.UPC_A,"UPC_A"],[pt.UPC_E,"UPC_E"],[pt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),N0;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.URL=1]="URL"})(N0||(N0={}));function cx(A){return Object.values(pt).includes(A)}var tu;(function(A){A[A.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",A[A.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(tu||(tu={}));var dx=(function(){function A(){}return A.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",A.SCAN_DEFAULT_FPS=2,A.DEFAULT_DISABLE_FLIP=!1,A.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,A.DEFAULT_SUPPORTED_SCAN_TYPE=[tu.SCAN_TYPE_CAMERA,tu.SCAN_TYPE_FILE],A})(),w1=(function(){function A(k,x){this.format=k,this.formatName=x}return A.prototype.toString=function(){return this.formatName},A.create=function(k){if(!S0.has(k))throw"".concat(k," not in html5QrcodeSupportedFormatsTextMap");return new A(k,S0.get(k))},A})(),T0=(function(){function A(){}return A.createFromText=function(k){var x={text:k};return{decodedText:k,result:x}},A.createFromQrcodeResult=function(k){return{decodedText:k.text,result:k}},A})(),rd;(function(A){A[A.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",A[A.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",A[A.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(rd||(rd={}));var fx=(function(){function A(){}return A.createFrom=function(k){return{errorMessage:k,type:rd.UNKWOWN_ERROR}},A})(),hx=(function(){function A(k){this.verbose=k}return A.prototype.log=function(k){this.verbose&&console.log(k)},A.prototype.warn=function(k){this.verbose&&console.warn(k)},A.prototype.logError=function(k,x){(this.verbose||x===!0)&&console.error(k)},A.prototype.logErrors=function(k){if(k.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(k)},A})();function Ii(A){return typeof A>"u"||A===null}var so=(function(){function A(){}return A.codeParseError=function(k){return"QR code parse error, error = ".concat(k)},A.errorGettingUserMedia=function(k){return"Error getting userMedia, error = ".concat(k)},A.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},A.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},A.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},A.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},A.scannerPaused=function(){return"Scanner paused"},A})(),v1=(function(){function A(){}return A.isMediaStreamConstraintsValid=function(k,x){if(typeof k!="object"){var g=typeof k;return x.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(g,"."),!0),!1}for(var T=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],_=new Set(T),I=Object.keys(k),R=0,S=I;R<S.length;R++){var y=S[R];if(_.has(y))return x.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},A})(),Qo={exports:{}},mx=Qo.exports,O0;function gx(){return O0||(O0=1,(function(A,k){(function(x,g){g(k)})(mx,(function(x){function g(G){return G==null}var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,t){G.__proto__=t}||function(G,t){for(var r in t)t.hasOwnProperty(r)&&(G[r]=t[r])};function _(G,t){T(G,t);function r(){this.constructor=G}G.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function I(G,t){var r=Object.setPrototypeOf;r?r(G,t):G.__proto__=t}function R(G,t){t===void 0&&(t=G.constructor);var r=Error.captureStackTrace;r&&r(G,t)}var S=(function(G){_(t,G);function t(r){var i=this.constructor,l=G.call(this,r)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),I(l,i.prototype),R(l),l}return t})(Error);class y extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}y.kind="Exception";class O extends y{}O.kind="ArgumentException";class D extends y{}D.kind="IllegalArgumentException";class F{constructor(t){if(this.binarizer=t,t===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,l){const u=this.binarizer.getLuminanceSource().crop(t,r,i,l);return new F(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new F(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new F(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends y{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class Y{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(t,r,i,l,u){for(;u--;)i[l++]=t[r++]}static currentTimeMillis(){return Date.now()}}class Z extends y{}Z.kind="IndexOutOfBoundsException";class ee extends Z{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}ee.kind="ArrayIndexOutOfBoundsException";class te{static fill(t,r){for(let i=0,l=t.length;i<l;i++)t[i]=r}static fillWithin(t,r,i,l){te.rangeCheck(t.length,r,i);for(let u=r;u<i;u++)t[u]=l}static rangeCheck(t,r,i){if(r>i)throw new D("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new ee(r);if(i>t)throw new ee(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(u=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(u=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,l=t.length;i<l;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const l=i-r,u=new Int32Array(l);return P.arraycopy(t,r,u,0,l),u}static binarySearch(t,r,i){i===void 0&&(i=te.numberComparator);let l=0,u=t.length-1;for(;l<=u;){const a=u+l>>1,s=i(r,t[a]);if(s>0)l=a+1;else if(s<0)u=a-1;else return a}return-l-1}static numberComparator(t,r){return t-r}}class Q{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class m{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=m.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=m.makeArray(t);P.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let l=Math.floor(t/32),u=i[l];u&=~((1<<(t&31))-1);const a=i.length;for(;u===0;){if(++l===a)return r;u=i[l]}const s=l*32+Q.numberOfTrailingZeros(u);return s>r?r:s}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let l=Math.floor(t/32),u=~i[l];u&=~((1<<(t&31))-1);const a=i.length;for(;u===0;){if(++l===a)return r;u=~i[l]}const s=l*32+Q.numberOfTrailingZeros(u);return s>r?r:s}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new D;if(r===t)return;r--;const i=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let a=i;a<=l;a++){const s=a>i?0:t&31,f=(2<<(a<l?31:r&31))-(1<<s);u[a]|=f}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new D;if(r===t)return!0;r--;const l=Math.floor(t/32),u=Math.floor(r/32),a=this.bits;for(let s=l;s<=u;s++){const c=s>l?0:t&31,p=(2<<(s<u?31:r&31))-(1<<c)&4294967295;if((a[s]&p)!==(i?p:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new D("Sizes don't match");const r=this.bits;for(let i=0,l=r.length;i<l;i++)r[i]^=t.bits[i]}toBytes(t,r,i,l){for(let u=0;u<l;u++){let a=0;for(let s=0;s<8;s++)this.get(t)&&(a|=1<<7-s),t++;r[i+u]=a}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,l=this.bits;for(let u=0;u<i;u++){let a=l[u];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,t[r-u]=a}if(this.size!==i*32){const u=i*32-this.size;let a=t[0]>>>u;for(let s=1;s<i;s++){const c=t[s];a|=c<<32-u,t[s-1]=a,a=c>>>u}t[i-1]=a}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof m))return!1;const r=t;return this.size===r.size&&te.equals(this.bits,r.bits)}hashCode(){return 31*this.size+te.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new m(this.size,this.bits.slice())}}var E;(function(G){G[G.OTHER=0]="OTHER",G[G.PURE_BARCODE=1]="PURE_BARCODE",G[G.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",G[G.TRY_HARDER=3]="TRY_HARDER",G[G.CHARACTER_SET=4]="CHARACTER_SET",G[G.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",G[G.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",G[G.ASSUME_GS1=7]="ASSUME_GS1",G[G.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",G[G.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",G[G.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(E||(E={}));var C=E;class M extends y{static getFormatInstance(){return new M}}M.kind="FormatException";var W;(function(G){G[G.Cp437=0]="Cp437",G[G.ISO8859_1=1]="ISO8859_1",G[G.ISO8859_2=2]="ISO8859_2",G[G.ISO8859_3=3]="ISO8859_3",G[G.ISO8859_4=4]="ISO8859_4",G[G.ISO8859_5=5]="ISO8859_5",G[G.ISO8859_6=6]="ISO8859_6",G[G.ISO8859_7=7]="ISO8859_7",G[G.ISO8859_8=8]="ISO8859_8",G[G.ISO8859_9=9]="ISO8859_9",G[G.ISO8859_10=10]="ISO8859_10",G[G.ISO8859_11=11]="ISO8859_11",G[G.ISO8859_13=12]="ISO8859_13",G[G.ISO8859_14=13]="ISO8859_14",G[G.ISO8859_15=14]="ISO8859_15",G[G.ISO8859_16=15]="ISO8859_16",G[G.SJIS=16]="SJIS",G[G.Cp1250=17]="Cp1250",G[G.Cp1251=18]="Cp1251",G[G.Cp1252=19]="Cp1252",G[G.Cp1256=20]="Cp1256",G[G.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",G[G.UTF8=22]="UTF8",G[G.ASCII=23]="ASCII",G[G.Big5=24]="Big5",G[G.GB18030=25]="GB18030",G[G.EUC_KR=26]="EUC_KR"})(W||(W={}));class H{constructor(t,r,i,...l){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,H.VALUE_IDENTIFIER_TO_ECI.set(t,this),H.NAME_TO_ECI.set(i,this);const u=this.values;for(let a=0,s=u.length;a!==s;a++){const c=u[a];H.VALUES_TO_ECI.set(c,this)}for(const a of l)H.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new M("incorect value");const r=H.VALUES_TO_ECI.get(t);if(r===void 0)throw new M("incorect value");return r}static getCharacterSetECIByName(t){const r=H.NAME_TO_ECI.get(t);if(r===void 0)throw new M("incorect value");return r}equals(t){if(!(t instanceof H))return!1;const r=t;return this.getName()===r.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(W.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(W.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(W.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(W.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(W.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(W.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(W.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(W.Big5,28,"Big5"),H.GB18030=new H(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(W.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends y{}ae.kind="UnsupportedOperationException";class me{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!me.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof H?t:H.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(me.isDecodeFallbackSupported(i)){let l="";for(let u=0,a=t.length;u<a;u++){let s=t[u].toString(16);s.length<2&&(s="0"+s),l+="%"+s}return decodeURIComponent(l)}if(i.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ae(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(H.UTF8)||t.equals(H.ISO8859_1)||t.equals(H.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let u=0;u<i.length;u++)l.push(i[u].charCodeAt(0));return new Uint8Array(l)}}class J{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return me.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(C.CHARACTER_SET)!==void 0)return r.get(C.CHARACTER_SET).toString();const i=t.length;let l=!0,u=!0,a=!0,s=0,c=0,f=0,p=0,w=0,N=0,B=0,V=0,q=0,re=0,K=0;const he=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ce=0;ce<i&&(l||u||a);ce++){const de=t[ce]&255;a&&(s>0?(de&128)===0?a=!1:s--:(de&128)!==0&&((de&64)===0?a=!1:(s++,(de&32)===0?c++:(s++,(de&16)===0?f++:(s++,(de&8)===0?p++:a=!1))))),l&&(de>127&&de<160?l=!1:de>159&&(de<192||de===215||de===247)&&K++),u&&(w>0?de<64||de===127||de>252?u=!1:w--:de===128||de===160||de>239?u=!1:de>160&&de<224?(N++,V=0,B++,B>q&&(q=B)):de>127?(w++,B=0,V++,V>re&&(re=V)):(B=0,V=0))}return a&&s>0&&(a=!1),u&&w>0&&(u=!1),a&&(he||c+f+p>0)?J.UTF8:u&&(J.ASSUME_SHIFT_JIS||q>=3||re>=3)?J.SHIFT_JIS:l&&u?q===2&&N===2||K*10>=i?J.SHIFT_JIS:J.ISO88591:l?J.ISO88591:u?J.SHIFT_JIS:a?J.UTF8:J.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function l(a,s,c,f,p,w){if(a==="%%")return"%";if(r[++i]===void 0)return;a=f?parseInt(f.substr(1)):void 0;let N=p?parseInt(p.substr(1)):void 0,B;switch(w){case"s":B=r[i];break;case"c":B=r[i][0];break;case"f":B=parseFloat(r[i]).toFixed(a);break;case"p":B=parseFloat(r[i]).toPrecision(a);break;case"e":B=parseFloat(r[i]).toExponential(a);break;case"x":B=parseInt(r[i]).toString(N||16);break;case"d":B=parseFloat(parseInt(r[i],N||10).toPrecision(a)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(N);let V=parseInt(c),q=c&&c[0]+""=="0"?"0":" ";for(;B.length<V;)B=s!==void 0?B+q:q+B;return B}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,l)}static getBytes(t,r){return me.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}J.SHIFT_JIS=H.SJIS.getName(),J.GB2312="GB2312",J.ISO88591=H.ISO8859_1.getName(),J.EUC_JP="EUC_JP",J.UTF8=H.UTF8.getName(),J.PLATFORM_DEFAULT_ENCODING=J.UTF8,J.ASSUME_SHIFT_JIS=!1;class ge{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=J.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let l=r;r<r+i;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class j{constructor(t,r,i,l){if(this.width=t,this.height=r,this.rowSize=i,this.bits=l,r==null&&(r=t),this.height=r,t<1||r<1)throw new D("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,l=new j(i,r);for(let u=0;u<r;u++){const a=t[u];for(let s=0;s<i;s++)a[s]&&l.set(s,u)}return l}static parseFromString(t,r,i){if(t===null)throw new D("stringRepresentation cannot be null");const l=new Array(t.length);let u=0,a=0,s=-1,c=0,f=0;for(;f<t.length;)if(t.charAt(f)===`
`||t.charAt(f)==="\r"){if(u>a){if(s===-1)s=u-a;else if(u-a!==s)throw new D("row lengths do not match");a=u,c++}f++}else if(t.substring(f,f+r.length)===r)f+=r.length,l[u]=!0,u++;else if(t.substring(f,f+i.length)===i)f+=i.length,l[u]=!1,u++;else throw new D("illegal character encountered: "+t.substring(f));if(u>a){if(s===-1)s=u-a;else if(u-a!==s)throw new D("row lengths do not match");c++}const p=new j(s,c);for(let w=0;w<u;w++)l[w]&&p.set(Math.floor(w%s),Math.floor(w/s));return p}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new D("input matrix dimensions do not match");const r=new m(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let u=0,a=this.height;u<a;u++){const s=u*i,c=t.getRow(u,r).getBitArray();for(let f=0;f<i;f++)l[s+f]^=c[f]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,l){if(r<0||t<0)throw new D("Left and top must be nonnegative");if(l<1||i<1)throw new D("Height and width must be at least 1");const u=t+i,a=r+l;if(a>this.height||u>this.width)throw new D("The region must fit inside the matrix");const s=this.rowSize,c=this.bits;for(let f=r;f<a;f++){const p=f*s;for(let w=t;w<u;w++)c[p+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new m(this.width):r.clear();const i=this.rowSize,l=this.bits,u=t*i;for(let a=0;a<i;a++)r.setBulk(a*32,l[u+a]);return r}setRow(t,r){P.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new m(t),l=new m(t);for(let u=0,a=Math.floor((r+1)/2);u<a;u++)i=this.getRow(u,i),l=this.getRow(r-1-u,l),i.reverse(),l.reverse(),this.setRow(u,l),this.setRow(r-1-u,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,l=this.bits;let u=t,a=r,s=-1,c=-1;for(let f=0;f<r;f++)for(let p=0;p<i;p++){const w=l[f*i+p];if(w!==0){if(f<a&&(a=f),f>c&&(c=f),p*32<u){let N=0;for(;(w<<31-N&4294967295)===0;)N++;p*32+N<u&&(u=p*32+N)}if(p*32+31>s){let N=31;for(;!(w>>>N);)N--;p*32+N>s&&(s=p*32+N)}}}return s<u||c<a?null:Int32Array.from([u,a,s-u+1,c-a+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const l=i/t;let u=i%t*32;const a=r[i];let s=0;for(;(a<<31-s&4294967295)===0;)s++;return u+=s,Int32Array.from([u,l])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/t);let u=Math.floor(i%t)*32;const a=r[i];let s=31;for(;!(a>>>s);)s--;return u+=s,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof j))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&te.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+te.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let l=new ge;for(let u=0,a=this.height;u<a;u++){for(let s=0,c=this.width;s<c;s++)l.append(this.get(s,u)?t:r);l.append(i)}return l.toString()}clone(){return new j(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends y{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class X extends Y{constructor(t){super(t),this.luminances=X.EMPTY,this.buckets=new Int32Array(X.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),l=i.getWidth();r==null||r.getSize()<l?r=new m(l):r.clear(),this.initArrays(l);const u=i.getRow(t,this.luminances),a=this.buckets;for(let c=0;c<l;c++)a[(u[c]&255)>>X.LUMINANCE_SHIFT]++;const s=X.estimateBlackPoint(a);if(l<3)for(let c=0;c<l;c++)(u[c]&255)<s&&r.set(c);else{let c=u[0]&255,f=u[1]&255;for(let p=1;p<l-1;p++){const w=u[p+1]&255;(f*4-c-w)/2<s&&r.set(p),c=f,f=w}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),l=new j(r,i);this.initArrays(r);const u=this.buckets;for(let c=1;c<5;c++){const f=Math.floor(i*c/5),p=t.getRow(f,this.luminances),w=Math.floor(r*4/5);for(let N=Math.floor(r/5);N<w;N++){const B=p[N]&255;u[B>>X.LUMINANCE_SHIFT]++}}const a=X.estimateBlackPoint(u),s=t.getMatrix();for(let c=0;c<i;c++){const f=c*r;for(let p=0;p<r;p++)(s[f+p]&255)<a&&l.set(p,c)}return l}createBinarizer(t){return new X(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<X.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,l=0,u=0;for(let p=0;p<r;p++)t[p]>u&&(l=p,u=t[p]),t[p]>i&&(i=t[p]);let a=0,s=0;for(let p=0;p<r;p++){const w=p-l,N=t[p]*w*w;N>s&&(a=p,s=N)}if(l>a){const p=l;l=a,a=p}if(a-l<=r/16)throw new $;let c=a-1,f=-1;for(let p=a-1;p>l;p--){const w=p-l,N=w*w*(a-p)*(i-t[p]);N>f&&(c=p,f=N)}return c<<X.LUMINANCE_SHIFT}}X.LUMINANCE_BITS=5,X.LUMINANCE_SHIFT=8-X.LUMINANCE_BITS,X.LUMINANCE_BUCKETS=1<<X.LUMINANCE_BITS,X.EMPTY=Uint8ClampedArray.from([0]);class ie extends X{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=ie.MINIMUM_DIMENSION&&i>=ie.MINIMUM_DIMENSION){const l=t.getMatrix();let u=r>>ie.BLOCK_SIZE_POWER;(r&ie.BLOCK_SIZE_MASK)!==0&&u++;let a=i>>ie.BLOCK_SIZE_POWER;(i&ie.BLOCK_SIZE_MASK)!==0&&a++;const s=ie.calculateBlackPoints(l,u,a,r,i),c=new j(r,i);ie.calculateThresholdForBlock(l,u,a,r,i,s,c),this.matrix=c}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ie(t)}static calculateThresholdForBlock(t,r,i,l,u,a,s){const c=u-ie.BLOCK_SIZE,f=l-ie.BLOCK_SIZE;for(let p=0;p<i;p++){let w=p<<ie.BLOCK_SIZE_POWER;w>c&&(w=c);const N=ie.cap(p,2,i-3);for(let B=0;B<r;B++){let V=B<<ie.BLOCK_SIZE_POWER;V>f&&(V=f);const q=ie.cap(B,2,r-3);let re=0;for(let he=-2;he<=2;he++){const ce=a[N+he];re+=ce[q-2]+ce[q-1]+ce[q]+ce[q+1]+ce[q+2]}const K=re/25;ie.thresholdBlock(t,V,w,K,l,s)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,l,u,a){for(let s=0,c=i*u+r;s<ie.BLOCK_SIZE;s++,c+=u)for(let f=0;f<ie.BLOCK_SIZE;f++)(t[c+f]&255)<=l&&a.set(r+f,i+s)}static calculateBlackPoints(t,r,i,l,u){const a=u-ie.BLOCK_SIZE,s=l-ie.BLOCK_SIZE,c=new Array(i);for(let f=0;f<i;f++){c[f]=new Int32Array(r);let p=f<<ie.BLOCK_SIZE_POWER;p>a&&(p=a);for(let w=0;w<r;w++){let N=w<<ie.BLOCK_SIZE_POWER;N>s&&(N=s);let B=0,V=255,q=0;for(let K=0,he=p*l+N;K<ie.BLOCK_SIZE;K++,he+=l){for(let ce=0;ce<ie.BLOCK_SIZE;ce++){const de=t[he+ce]&255;B+=de,de<V&&(V=de),de>q&&(q=de)}if(q-V>ie.MIN_DYNAMIC_RANGE)for(K++,he+=l;K<ie.BLOCK_SIZE;K++,he+=l)for(let ce=0;ce<ie.BLOCK_SIZE;ce++)B+=t[he+ce]&255}let re=B>>ie.BLOCK_SIZE_POWER*2;if(q-V<=ie.MIN_DYNAMIC_RANGE&&(re=V/2,f>0&&w>0)){const K=(c[f-1][w]+2*c[f][w-1]+c[f-1][w-1])/4;V<K&&(re=K)}c[f][w]=re}}return c}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class Se{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,l){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new ge;for(let i=0;i<this.height;i++){const l=this.getRow(i,t);for(let u=0;u<this.width;u++){const a=l[u]&255;let s;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()}}class _e extends Se{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),l=this.getWidth();for(let u=0;u<l;u++)i[u]=255-(i[u]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let l=0;l<r;l++)i[l]=255-(t[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,l){return new _e(this.delegate.crop(t,r,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class se extends Se{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=se.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return se.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const l=new Uint8ClampedArray(r*i);for(let u=0,a=0,s=t.length;u<s;u+=4,a++){let c;if(t[u+3]===0)c=255;else{const p=t[u],w=t[u+1],N=t[u+2];c=306*p+601*w+117*N+512>>10}l[a]=c}return l}getRow(t,r){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const i=this.getWidth(),l=t*i;return r===null?r=this.buffer.slice(l,l+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(l,l+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,l){return super.crop(t,r,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),l=t*se.DEGREE_TO_RADIANS,u=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*a),c=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*a);return r.width=s,r.height=c,i.translate(s/2,c/2),i.rotate(l),i.drawImage(this.canvas,u/-2,a/-2),this.buffer=se.makeBufferFromCanvasImageData(r),this}invert(){return new _e(this)}}se.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var pe=(globalThis||Ea||self||window||void 0)&&(globalThis||Ea||self||window||void 0).__awaiter||function(G,t,r,i){function l(u){return u instanceof r?u:new r(function(a){a(u)})}return new(r||(r=Promise))(function(u,a){function s(p){try{f(i.next(p))}catch(w){a(w)}}function c(p){try{f(i.throw(p))}catch(w){a(w)}}function f(p){p.done?u(p.value):l(p.value).then(s,c)}f((i=i.apply(G,t||[])).next())})};class Ne{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const u=i.deviceId||i.id,a=i.label||`Video device ${r.length+1}`,s=i.groupId,c={deviceId:u,label:a,kind:l,groupId:s};r.push(c)}return r})}getVideoInputDevices(){return pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new le(r.deviceId,r.label))})}findDeviceById(t){return pe(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return pe(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(t,r){return pe(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return pe(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return pe(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,r,i)})}decodeFromConstraints(t,r,i){return pe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,r,i)})}decodeFromStream(t,r,i){return pe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return pe(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new O(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new O(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new O("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new O("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new O("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new O("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new O("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new O("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new O("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new O("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,r);return i.src=t,l}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const l=(u,a)=>{if(this._stopAsyncDecode){a(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const s=this.decode(t);u(s)}catch(s){const c=r&&s instanceof $,p=(s instanceof L||s instanceof M)&&i;if(c||p)return setTimeout(l,this._timeBetweenDecodingAttempts,u,a);a(s)}};return new Promise((u,a)=>l(u,a))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);r(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){r(null,l);const u=l instanceof L||l instanceof M,a=l instanceof $;(u||a)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new se(r),l=new ie(i);return new F(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=l+"px",r.width=i,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(t,r,i=r==null?0:8*r.length,l,u,a=P.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=l,this.format=u,this.timestamp=a,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=l,this.format=u,this.resultMetadata=null,a==null?this.timestamp=P.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);P.arraycopy(r,0,i,0,r.length),P.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Be;(function(G){G[G.AZTEC=0]="AZTEC",G[G.CODABAR=1]="CODABAR",G[G.CODE_39=2]="CODE_39",G[G.CODE_93=3]="CODE_93",G[G.CODE_128=4]="CODE_128",G[G.DATA_MATRIX=5]="DATA_MATRIX",G[G.EAN_8=6]="EAN_8",G[G.EAN_13=7]="EAN_13",G[G.ITF=8]="ITF",G[G.MAXICODE=9]="MAXICODE",G[G.PDF_417=10]="PDF_417",G[G.QR_CODE=11]="QR_CODE",G[G.RSS_14=12]="RSS_14",G[G.RSS_EXPANDED=13]="RSS_EXPANDED",G[G.UPC_A=14]="UPC_A",G[G.UPC_E=15]="UPC_E",G[G.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Be||(Be={}));var ze=Be,$e;(function(G){G[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($e||($e={}));var Xe=$e;class Ve{constructor(t,r,i,l,u=-1,a=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=a,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Dt{exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Tt{constructor(t,r){if(r.length===0)throw new D;this.field=t;const i=r.length;if(i>1&&r[0]===0){let l=1;for(;l<i&&r[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),P.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let a=0,s=r.length;a!==s;a++){const c=r[a];i=Dt.addOrSubtract(i,c)}return i}i=r[0];const l=r.length,u=this.field;for(let a=1;a<l;a++)i=Dt.addOrSubtract(u.multiply(t,i),r[a]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const a=r;r=i,i=a}let l=new Int32Array(i.length);const u=i.length-r.length;P.arraycopy(i,0,l,0,u);for(let a=u;a<i.length;a++)l[a]=Dt.addOrSubtract(r[a-u],i[a]);return new Tt(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,l=t.coefficients,u=l.length,a=new Int32Array(i+u-1),s=this.field;for(let c=0;c<i;c++){const f=r[c];for(let p=0;p<u;p++)a[c+p]=Dt.addOrSubtract(a[c+p],s.multiply(f,l[p]))}return new Tt(s,a)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,l=new Int32Array(r),u=this.coefficients;for(let a=0;a<r;a++)l[a]=i.multiply(u[a],t);return new Tt(i,l)}multiplyByMonomial(t,r){if(t<0)throw new D;if(r===0)return this.field.getZero();const i=this.coefficients,l=i.length,u=new Int32Array(l+t),a=this.field;for(let s=0;s<l;s++)u[s]=a.multiply(i[s],r);return new Tt(a,u)}divide(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new D("Divide by 0");const r=this.field;let i=r.getZero(),l=this;const u=t.getCoefficient(t.getDegree()),a=r.inverse(u);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const s=l.getDegree()-t.getDegree(),c=r.multiply(l.getCoefficient(l.getDegree()),a),f=t.multiplyByMonomial(s,c),p=r.buildMonomial(s,c);i=i.addOrSubtract(p),l=l.addOrSubtract(f)}return[i,l]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const l=this.field.log(i);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class vt extends y{}vt.kind="ArithmeticException";class yt extends Dt{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const l=new Int32Array(r);let u=1;for(let s=0;s<r;s++)l[s]=u,u*=2,u>=r&&(u^=t,u&=r-1);this.expTable=l;const a=new Int32Array(r);for(let s=0;s<r-1;s++)a[l[s]]=s;this.logTable=a,this.zero=new Tt(this,Int32Array.from([0])),this.one=new Tt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new D;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new Tt(this,i)}inverse(t){if(t===0)throw new vt;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}yt.AZTEC_DATA_12=new yt(4201,4096,1),yt.AZTEC_DATA_10=new yt(1033,1024,1),yt.AZTEC_DATA_6=new yt(67,64,1),yt.AZTEC_PARAM=new yt(19,16,1),yt.QR_CODE_FIELD_256=new yt(285,256,0),yt.DATA_MATRIX_FIELD_256=new yt(301,256,1),yt.AZTEC_DATA_8=yt.DATA_MATRIX_FIELD_256,yt.MAXICODE_FIELD_64=yt.AZTEC_DATA_6;class z extends y{}z.kind="ReedSolomonException";class Ge extends y{}Ge.kind="IllegalStateException";class Pe{constructor(t){this.field=t}decode(t,r){const i=this.field,l=new Tt(i,t),u=new Int32Array(r);let a=!0;for(let B=0;B<r;B++){const V=l.evaluateAt(i.exp(B+i.getGeneratorBase()));u[u.length-1-B]=V,V!==0&&(a=!1)}if(a)return;const s=new Tt(i,u),c=this.runEuclideanAlgorithm(i.buildMonomial(r,1),s,r),f=c[0],p=c[1],w=this.findErrorLocations(f),N=this.findErrorMagnitudes(p,w);for(let B=0;B<w.length;B++){const V=t.length-1-i.log(w[B]);if(V<0)throw new z("Bad error location");t[V]=yt.addOrSubtract(t[V],N[B])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const B=t;t=r,r=B}const l=this.field;let u=t,a=r,s=l.getZero(),c=l.getOne();for(;a.getDegree()>=(i/2|0);){let B=u,V=s;if(u=a,s=c,u.isZero())throw new z("r_{i-1} was zero");a=B;let q=l.getZero();const re=u.getCoefficient(u.getDegree()),K=l.inverse(re);for(;a.getDegree()>=u.getDegree()&&!a.isZero();){const he=a.getDegree()-u.getDegree(),ce=l.multiply(a.getCoefficient(a.getDegree()),K);q=q.addOrSubtract(l.buildMonomial(he,ce)),a=a.addOrSubtract(u.multiplyByMonomial(he,ce))}if(c=q.multiply(s).addOrSubtract(V),a.getDegree()>=u.getDegree())throw new Ge("Division algorithm failed to reduce polynomial?")}const f=c.getCoefficient(0);if(f===0)throw new z("sigmaTilde(0) was zero");const p=l.inverse(f),w=c.multiplyScalar(p),N=a.multiplyScalar(p);return[w,N]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let l=0;const u=this.field;for(let a=1;a<u.getSize()&&l<r;a++)t.evaluateAt(a)===0&&(i[l]=u.inverse(a),l++);if(l!==r)throw new z("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,l=new Int32Array(i),u=this.field;for(let a=0;a<i;a++){const s=u.inverse(r[a]);let c=1;for(let f=0;f<i;f++)if(a!==f){const p=u.multiply(r[f],s),w=(p&1)===0?p|1:p&-2;c=u.multiply(c,w)}l[a]=u.multiply(t.evaluateAt(s),u.inverse(c)),u.getGeneratorBase()!==0&&(l[a]=u.multiply(l[a],s))}return l}}var fe;(function(G){G[G.UPPER=0]="UPPER",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.DIGIT=3]="DIGIT",G[G.PUNCT=4]="PUNCT",G[G.BINARY=5]="BINARY"})(fe||(fe={}));class oe{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),l=this.correctBits(i),u=oe.convertBoolArrayToByteArray(l),a=oe.getEncodedData(l),s=new Ve(u,a,null,null);return s.setNumBits(l.length),s}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=fe.UPPER,l=fe.UPPER,u="",a=0;for(;a<r;)if(l===fe.BINARY){if(r-a<5)break;let s=oe.readCode(t,a,5);if(a+=5,s===0){if(r-a<11)break;s=oe.readCode(t,a,11)+31,a+=11}for(let c=0;c<s;c++){if(r-a<8){a=r;break}const f=oe.readCode(t,a,8);u+=J.castAsNonUtf8Char(f),a+=8}l=i}else{let s=l===fe.DIGIT?4:5;if(r-a<s)break;let c=oe.readCode(t,a,s);a+=s;let f=oe.getCharacter(l,c);f.startsWith("CTRL_")?(i=l,l=oe.getTable(f.charAt(5)),f.charAt(6)==="L"&&(i=l)):(u+=f,l=i)}return u}static getTable(t){switch(t){case"L":return fe.LOWER;case"P":return fe.PUNCT;case"M":return fe.MIXED;case"D":return fe.DIGIT;case"B":return fe.BINARY;case"U":default:return fe.UPPER}}static getCharacter(t,r){switch(t){case fe.UPPER:return oe.UPPER_TABLE[r];case fe.LOWER:return oe.LOWER_TABLE[r];case fe.MIXED:return oe.MIXED_TABLE[r];case fe.PUNCT:return oe.PUNCT_TABLE[r];case fe.DIGIT:return oe.DIGIT_TABLE[r];default:throw new Ge("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=yt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=yt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=yt.AZTEC_DATA_10):(i=12,r=yt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=t.length/i;if(u<l)throw new M;let a=t.length%i,s=new Int32Array(u);for(let N=0;N<u;N++,a+=i)s[N]=oe.readCode(t,a,i);try{new Pe(r).decode(s,u-l)}catch(N){throw new M(N)}let c=(1<<i)-1,f=0;for(let N=0;N<l;N++){let B=s[N];if(B===0||B===c)throw new M;(B===1||B===c-1)&&f++}let p=new Array(l*i-f),w=0;for(let N=0;N<l;N++){let B=s[N];if(B===1||B===c-1)p.fill(B>1,w,w+i-1),w+=i-1;else for(let V=i-1;V>=0;--V)p[w++]=(B&1<<V)!==0}return p}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(r?11:14)+i*4,u=new Int32Array(l),a=new Array(this.totalBitsInLayer(i,r));if(r)for(let s=0;s<u.length;s++)u[s]=s;else{let s=l+1+2*Q.truncDivision(Q.truncDivision(l,2)-1,15),c=l/2,f=Q.truncDivision(s,2);for(let p=0;p<c;p++){let w=p+Q.truncDivision(p,15);u[c-p-1]=f-w-1,u[c+p]=f+w+1}}for(let s=0,c=0;s<i;s++){let f=(i-s)*4+(r?9:12),p=s*2,w=l-1-p;for(let N=0;N<f;N++){let B=N*2;for(let V=0;V<2;V++)a[c+B+V]=t.get(u[p+V],u[p+N]),a[c+2*f+B+V]=t.get(u[p+N],u[w-V]),a[c+4*f+B+V]=t.get(u[w-V],u[w-N]),a[c+6*f+B+V]=t.get(u[w-N],u[p+V])}c+=f*8}return a}static readCode(t,r,i){let l=0;for(let u=r;u<r+i;u++)l<<=1,t[u]&&(l|=1);return l}static readByte(t,r){let i=t.length-r;return i>=8?oe.readCode(t,r,8):oe.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=oe.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}oe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],oe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],oe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],oe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],oe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class we{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,l){const u=t-i,a=r-l;return Math.sqrt(u*u+a*a)}static sum(t){let r=0;for(let i=0,l=t.length;i!==l;i++){const u=t[i];r+=u}return r}}class Ke{static floatToIntBits(t){return t}}Ke.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ee){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Ke.floatToIntBits(this.x)+Ke.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let u,a,s;if(i>=r&&i>=l?(a=t[0],u=t[1],s=t[2]):l>=i&&l>=r?(a=t[1],u=t[0],s=t[2]):(a=t[2],u=t[0],s=t[1]),this.crossProductZ(u,a,s)<0){const c=u;u=s,s=c}t[0]=u,t[1]=a,t[2]=s}static distance(t,r){return we.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const l=r.x,u=r.y;return(i.x-l)*(t.y-u)-(i.y-u)*(t.x-l)}}class ke{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class tt extends ke{constructor(t,r,i,l,u){super(t,r),this.compact=i,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ct{constructor(t,r,i,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=ct.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const u=r/2|0;if(this.leftInit=i-u,this.rightInit=i+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,l=this.downInit,u=!1,a=!0,s=!1,c=!1,f=!1,p=!1,w=!1;const N=this.width,B=this.height;for(;a;){a=!1;let V=!0;for(;(V||!c)&&r<N;)V=this.containsBlackPoint(i,l,r,!1),V?(r++,a=!0,c=!0):c||r++;if(r>=N){u=!0;break}let q=!0;for(;(q||!f)&&l<B;)q=this.containsBlackPoint(t,r,l,!0),q?(l++,a=!0,f=!0):f||l++;if(l>=B){u=!0;break}let re=!0;for(;(re||!p)&&t>=0;)re=this.containsBlackPoint(i,l,t,!1),re?(t--,a=!0,p=!0):p||t--;if(t<0){u=!0;break}let K=!0;for(;(K||!w)&&i>=0;)K=this.containsBlackPoint(t,r,i,!0),K?(i--,a=!0,w=!0):w||i--;if(i<0){u=!0;break}a&&(s=!0)}if(!u&&s){const V=r-t;let q=null;for(let ce=1;q===null&&ce<V;ce++)q=this.getBlackPointOnSegment(t,l-ce,t+ce,l);if(q==null)throw new $;let re=null;for(let ce=1;re===null&&ce<V;ce++)re=this.getBlackPointOnSegment(t,i+ce,t+ce,i);if(re==null)throw new $;let K=null;for(let ce=1;K===null&&ce<V;ce++)K=this.getBlackPointOnSegment(r,i+ce,r-ce,i);if(K==null)throw new $;let he=null;for(let ce=1;he===null&&ce<V;ce++)he=this.getBlackPointOnSegment(r,l-ce,r-ce,l);if(he==null)throw new $;return this.centerEdges(he,q,K,re)}else throw new $}getBlackPointOnSegment(t,r,i,l){const u=we.round(we.distance(t,r,i,l)),a=(i-t)/u,s=(l-r)/u,c=this.image;for(let f=0;f<u;f++){const p=we.round(t+f*a),w=we.round(r+f*s);if(c.get(p,w))return new Ee(p,w)}return null}centerEdges(t,r,i,l){const u=t.getX(),a=t.getY(),s=r.getX(),c=r.getY(),f=i.getX(),p=i.getY(),w=l.getX(),N=l.getY(),B=ct.CORR;return u<this.width/2?[new Ee(w-B,N+B),new Ee(s+B,c+B),new Ee(f-B,p-B),new Ee(u+B,a-B)]:[new Ee(w+B,N+B),new Ee(s+B,c-B),new Ee(f-B,p+B),new Ee(u-B,a-B)]}containsBlackPoint(t,r,i,l){const u=this.image;if(l){for(let a=t;a<=r;a++)if(u.get(a,i))return!0}else for(let a=t;a<=r;a++)if(u.get(i,a))return!0;return!1}}ct.INIT_SIZE=10,ct.CORR=1;class it{static checkAndNudgePoints(t,r){const i=t.getWidth(),l=t.getHeight();let u=!0;for(let a=0;a<r.length&&u;a+=2){const s=Math.floor(r[a]),c=Math.floor(r[a+1]);if(s<-1||s>i||c<-1||c>l)throw new $;u=!1,s===-1?(r[a]=0,u=!0):s===i&&(r[a]=i-1,u=!0),c===-1?(r[a+1]=0,u=!0):c===l&&(r[a+1]=l-1,u=!0)}u=!0;for(let a=r.length-2;a>=0&&u;a-=2){const s=Math.floor(r[a]),c=Math.floor(r[a+1]);if(s<-1||s>i||c<-1||c>l)throw new $;u=!1,s===-1?(r[a]=0,u=!0):s===i&&(r[a]=i-1,u=!0),c===-1?(r[a+1]=0,u=!0):c===l&&(r[a+1]=l-1,u=!0)}}}class ht{constructor(t,r,i,l,u,a,s,c,f){this.a11=t,this.a21=r,this.a31=i,this.a12=l,this.a22=u,this.a32=a,this.a13=s,this.a23=c,this.a33=f}static quadrilateralToQuadrilateral(t,r,i,l,u,a,s,c,f,p,w,N,B,V,q,re){const K=ht.quadrilateralToSquare(t,r,i,l,u,a,s,c);return ht.squareToQuadrilateral(f,p,w,N,B,V,q,re).times(K)}transformPoints(t){const r=t.length,i=this.a11,l=this.a12,u=this.a13,a=this.a21,s=this.a22,c=this.a23,f=this.a31,p=this.a32,w=this.a33;for(let N=0;N<r;N+=2){const B=t[N],V=t[N+1],q=u*B+c*V+w;t[N]=(i*B+a*V+f)/q,t[N+1]=(l*B+s*V+p)/q}}transformPointsWithValues(t,r){const i=this.a11,l=this.a12,u=this.a13,a=this.a21,s=this.a22,c=this.a23,f=this.a31,p=this.a32,w=this.a33,N=t.length;for(let B=0;B<N;B++){const V=t[B],q=r[B],re=u*V+c*q+w;t[B]=(i*V+a*q+f)/re,r[B]=(l*V+s*q+p)/re}}static squareToQuadrilateral(t,r,i,l,u,a,s,c){const f=t-i+u-s,p=r-l+a-c;if(f===0&&p===0)return new ht(i-t,u-i,t,l-r,a-l,r,0,0,1);{const w=i-u,N=s-u,B=l-a,V=c-a,q=w*V-N*B,re=(f*V-N*p)/q,K=(w*p-f*B)/q;return new ht(i-t+re*i,s-t+K*s,t,l-r+re*l,c-r+K*c,r,re,K,1)}}static quadrilateralToSquare(t,r,i,l,u,a,s,c){return ht.squareToQuadrilateral(t,r,i,l,u,a,s,c).buildAdjoint()}buildAdjoint(){return new ht(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new ht(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class kt extends it{sampleGrid(t,r,i,l,u,a,s,c,f,p,w,N,B,V,q,re,K,he,ce){const de=ht.quadrilateralToQuadrilateral(l,u,a,s,c,f,p,w,N,B,V,q,re,K,he,ce);return this.sampleGridWithTransform(t,r,i,de)}sampleGridWithTransform(t,r,i,l){if(r<=0||i<=0)throw new $;const u=new j(r,i),a=new Float32Array(2*r);for(let s=0;s<i;s++){const c=a.length,f=s+.5;for(let p=0;p<c;p+=2)a[p]=p/2+.5,a[p+1]=f;l.transformPoints(a),it.checkAndNudgePoints(t,a);try{for(let p=0;p<c;p+=2)t.get(Math.floor(a[p]),Math.floor(a[p+1]))&&u.set(p/2,s)}catch{throw new $}}return u}}class At{static setGridSampler(t){At.gridSampler=t}static getInstance(){return At.gridSampler}}At.gridSampler=new kt;class St{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Fr{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let a=i[0];i[0]=i[2],i[2]=a}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),u=this.getMatrixCornerPoints(i);return new tt(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new $;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let l=0;for(let a=0;a<4;a++){let s=i[(this.shift+a)%4];this.compact?(l<<=7,l+=s>>1&127):(l<<=10,l+=(s>>2&992)+(s>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,r){let i=0;t.forEach((l,u,a)=>{let s=(l>>r-2<<1)+(l&1);i=(i<<3)+s}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(Q.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new $}getCorrectedParameterData(t,r){let i,l;r?(i=7,l=2):(i=10,l=4);let u=i-l,a=new Int32Array(i);for(let c=i-1;c>=0;--c)a[c]=t&15,t>>=4;try{new Pe(yt.AZTEC_PARAM).decode(a,u)}catch{throw new $}let s=0;for(let c=0;c<l;c++)s=(s<<4)+a[c];return s}getBullsEyeCorners(t){let r=t,i=t,l=t,u=t,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(r,a,1,-1),N=this.getFirstDifferent(i,a,1,1),B=this.getFirstDifferent(l,a,-1,1),V=this.getFirstDifferent(u,a,-1,-1);if(this.nbCenterLayers>2){let q=this.distancePoint(V,w)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(q<.75||q>1.25||!this.isWhiteOrBlackRectangle(w,N,B,V))break}r=w,i=N,l=B,u=V,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let s=new Ee(r.getX()+.5,r.getY()-.5),c=new Ee(i.getX()+.5,i.getY()+.5),f=new Ee(l.getX()-.5,l.getY()+.5),p=new Ee(u.getX()-.5,u.getY()-.5);return this.expandSquare([s,c,f,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,l;try{let s=new ct(this.image).detect();t=s[0],r=s[1],i=s[2],l=s[3]}catch{let c=this.image.getWidth()/2,f=this.image.getHeight()/2;t=this.getFirstDifferent(new St(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new St(c+7,f+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new St(c-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new St(c-7,f-7),!1,-1,-1).toResultPoint()}let u=we.round((t.getX()+l.getX()+r.getX()+i.getX())/4),a=we.round((t.getY()+l.getY()+r.getY()+i.getY())/4);try{let s=new ct(this.image,15,u,a).detect();t=s[0],r=s[1],i=s[2],l=s[3]}catch{t=this.getFirstDifferent(new St(u+7,a-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new St(u+7,a+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new St(u-7,a+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new St(u-7,a-7),!1,-1,-1).toResultPoint()}return u=we.round((t.getX()+l.getX()+r.getX()+i.getX())/4),a=we.round((t.getY()+l.getY()+r.getY()+i.getY())/4),new St(u,a)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,l,u){let a=At.getInstance(),s=this.getDimension(),c=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return a.sampleGrid(t,s,s,c,c,f,c,f,f,c,f,r.getX(),r.getY(),i.getX(),i.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(t,r,i){let l=0,u=this.distanceResultPoint(t,r),a=u/i,s=t.getX(),c=t.getY(),f=a*(r.getX()-t.getX())/u,p=a*(r.getY()-t.getY())/u;for(let w=0;w<i;w++)this.image.get(we.round(s+w*f),we.round(c+w*p))&&(l|=1<<i-w-1);return l}isWhiteOrBlackRectangle(t,r,i,l){let u=3;t=new St(t.getX()-u,t.getY()+u),r=new St(r.getX()-u,r.getY()-u),i=new St(i.getX()+u,i.getY()-u),l=new St(l.getX()+u,l.getY()+u);let a=this.getColor(l,t);if(a===0)return!1;let s=this.getColor(t,r);return s!==a||(s=this.getColor(r,i),s!==a)?!1:(s=this.getColor(i,l),s===a)}getColor(t,r){let i=this.distancePoint(t,r),l=(r.getX()-t.getX())/i,u=(r.getY()-t.getY())/i,a=0,s=t.getX(),c=t.getY(),f=this.image.get(t.getX(),t.getY()),p=Math.ceil(i);for(let N=0;N<p;N++)s+=l,c+=u,this.image.get(we.round(s),we.round(c))!==f&&a++;let w=a/i;return w>.1&&w<.9?0:w<=.1===f?1:-1}getFirstDifferent(t,r,i,l){let u=t.getX()+i,a=t.getY()+l;for(;this.isValid(u,a)&&this.image.get(u,a)===r;)u+=i,a+=l;for(u-=i,a-=l;this.isValid(u,a)&&this.image.get(u,a)===r;)u+=i;for(u-=i;this.isValid(u,a)&&this.image.get(u,a)===r;)a+=l;return a-=l,new St(u,a)}expandSquare(t,r,i){let l=i/(2*r),u=t[0].getX()-t[2].getX(),a=t[0].getY()-t[2].getY(),s=(t[0].getX()+t[2].getX())/2,c=(t[0].getY()+t[2].getY())/2,f=new Ee(s+l*u,c+l*a),p=new Ee(s-l*u,c-l*a);u=t[1].getX()-t[3].getX(),a=t[1].getY()-t[3].getY(),s=(t[1].getX()+t[3].getX())/2,c=(t[1].getY()+t[3].getY())/2;let w=new Ee(s+l*u,c+l*a),N=new Ee(s-l*u,c-l*a);return[f,w,p,N]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=we.round(t.getX()),i=we.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return we.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return we.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class Yn{decode(t,r=null){let i=null,l=new Fr(t.getBlackMatrix()),u=null,a=null;try{let p=l.detectMirror(!1);u=p.getPoints(),this.reportFoundResultPoints(r,u),a=new oe().decode(p)}catch(p){i=p}if(a==null)try{let p=l.detectMirror(!0);u=p.getPoints(),this.reportFoundResultPoints(r,u),a=new oe().decode(p)}catch(p){throw i??p}let s=new De(a.getText(),a.getRawBytes(),a.getNumBits(),u,ze.AZTEC,P.currentTimeMillis()),c=a.getByteSegments();c!=null&&s.putMetadata(Xe.BYTE_SEGMENTS,c);let f=a.getECLevel();return f!=null&&s.putMetadata(Xe.ERROR_CORRECTION_LEVEL,f),s}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(C.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((l,u,a)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class vr extends Ne{constructor(t=500){super(new Yn,t)}}class Ot{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(C.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),a=this.doDecode(u,r),s=a.getResultMetadata();let c=270;s!==null&&s.get(Xe.ORIENTATION)===!0&&(c=c+s.get(Xe.ORIENTATION)%360),a.putMetadata(Xe.ORIENTATION,c);const f=a.getResultPoints();if(f!==null){const p=u.getHeight();for(let w=0;w<f.length;w++)f[w]=new Ee(p-f[w].getY()-1,f[w].getX())}return a}else throw new $}}reset(){}doDecode(t,r){const i=t.getWidth(),l=t.getHeight();let u=new m(i);const a=r&&r.get(C.TRY_HARDER)===!0,s=Math.max(1,l>>(a?8:5));let c;a?c=l:c=15;const f=Math.trunc(l/2);for(let p=0;p<c;p++){const w=Math.trunc((p+1)/2),N=(p&1)===0,B=f+s*(N?w:-w);if(B<0||B>=l)break;try{u=t.getBlackRow(B,u)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(u.reverse(),r&&r.get(C.NEED_RESULT_POINT_CALLBACK)===!0)){const q=new Map;r.forEach((re,K)=>q.set(K,re)),q.delete(C.NEED_RESULT_POINT_CALLBACK),r=q}try{const q=this.decodeRow(B,u,r);if(V===1){q.putMetadata(Xe.ORIENTATION,180);const re=q.getResultPoints();re!==null&&(re[0]=new Ee(i-re[0].getX()-1,re[0].getY()),re[1]=new Ee(i-re[1].getX()-1,re[1].getY()))}return q}catch{}}}throw new $}static recordPattern(t,r,i){const l=i.length;for(let f=0;f<l;f++)i[f]=0;const u=t.getSize();if(r>=u)throw new $;let a=!t.get(r),s=0,c=r;for(;c<u;){if(t.get(c)!==a)i[s]++;else{if(++s===l)break;i[s]=1,a=!a}c++}if(!(s===l||s===l-1&&c===u))throw new $}static recordPatternInReverse(t,r,i){let l=i.length,u=t.get(r);for(;r>0&&l>=0;)t.get(--r)!==u&&(l--,u=!u);if(l>=0)throw new $;Ot.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const l=t.length;let u=0,a=0;for(let f=0;f<l;f++)u+=t[f],a+=r[f];if(u<a)return Number.POSITIVE_INFINITY;const s=u/a;i*=s;let c=0;for(let f=0;f<l;f++){const p=t[f],w=r[f]*s,N=p>w?p-w:w-p;if(N>i)return Number.POSITIVE_INFINITY;c+=N}return c/u}}class st extends Ot{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),a=i,s=!1;const c=6;for(let f=i;f<r;f++)if(t.get(f)!==s)u[l]++;else{if(l===c-1){let p=st.MAX_AVG_VARIANCE,w=-1;for(let N=st.CODE_START_A;N<=st.CODE_START_C;N++){const B=Ot.patternMatchVariance(u,st.CODE_PATTERNS[N],st.MAX_INDIVIDUAL_VARIANCE);B<p&&(p=B,w=N)}if(w>=0&&t.isRange(Math.max(0,a-(f-a)/2),a,!1))return Int32Array.from([a,f,w]);a+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,s=!s}throw new $}static decodeCode(t,r,i){Ot.recordPattern(t,i,r);let l=st.MAX_AVG_VARIANCE,u=-1;for(let a=0;a<st.CODE_PATTERNS.length;a++){const s=st.CODE_PATTERNS[a],c=this.patternMatchVariance(r,s,st.MAX_INDIVIDUAL_VARIANCE);c<l&&(l=c,u=a)}if(u>=0)return u;throw new $}decodeRow(t,r,i){const l=i&&i.get(C.ASSUME_GS1)===!0,u=st.findStartPattern(r),a=u[2];let s=0;const c=new Uint8Array(20);c[s++]=a;let f;switch(a){case st.CODE_START_A:f=st.CODE_CODE_A;break;case st.CODE_START_B:f=st.CODE_CODE_B;break;case st.CODE_START_C:f=st.CODE_CODE_C;break;default:throw new M}let p=!1,w=!1,N="",B=u[0],V=u[1];const q=Int32Array.from([0,0,0,0,0,0]);let re=0,K=0,he=a,ce=0,de=!0,be=!1,ye=!1;for(;!p;){const at=w;switch(w=!1,re=K,K=st.decodeCode(r,q,V),c[s++]=K,K!==st.CODE_STOP&&(de=!0),K!==st.CODE_STOP&&(ce++,he+=ce*K),B=V,V+=q.reduce((ot,ft)=>ot+ft,0),K){case st.CODE_START_A:case st.CODE_START_B:case st.CODE_START_C:throw new M}switch(f){case st.CODE_CODE_A:if(K<64)ye===be?N+=String.fromCharCode(32+K):N+=String.fromCharCode(32+K+128),ye=!1;else if(K<96)ye===be?N+=String.fromCharCode(K-64):N+=String.fromCharCode(K+64),ye=!1;else switch(K!==st.CODE_STOP&&(de=!1),K){case st.CODE_FNC_1:l&&(N.length===0?N+="]C1":N+="");break;case st.CODE_FNC_2:case st.CODE_FNC_3:break;case st.CODE_FNC_4_A:!be&&ye?(be=!0,ye=!1):be&&ye?(be=!1,ye=!1):ye=!0;break;case st.CODE_SHIFT:w=!0,f=st.CODE_CODE_B;break;case st.CODE_CODE_B:f=st.CODE_CODE_B;break;case st.CODE_CODE_C:f=st.CODE_CODE_C;break;case st.CODE_STOP:p=!0;break}break;case st.CODE_CODE_B:if(K<96)ye===be?N+=String.fromCharCode(32+K):N+=String.fromCharCode(32+K+128),ye=!1;else switch(K!==st.CODE_STOP&&(de=!1),K){case st.CODE_FNC_1:l&&(N.length===0?N+="]C1":N+="");break;case st.CODE_FNC_2:case st.CODE_FNC_3:break;case st.CODE_FNC_4_B:!be&&ye?(be=!0,ye=!1):be&&ye?(be=!1,ye=!1):ye=!0;break;case st.CODE_SHIFT:w=!0,f=st.CODE_CODE_A;break;case st.CODE_CODE_A:f=st.CODE_CODE_A;break;case st.CODE_CODE_C:f=st.CODE_CODE_C;break;case st.CODE_STOP:p=!0;break}break;case st.CODE_CODE_C:if(K<100)K<10&&(N+="0"),N+=K;else switch(K!==st.CODE_STOP&&(de=!1),K){case st.CODE_FNC_1:l&&(N.length===0?N+="]C1":N+="");break;case st.CODE_CODE_A:f=st.CODE_CODE_A;break;case st.CODE_CODE_B:f=st.CODE_CODE_B;break;case st.CODE_STOP:p=!0;break}break}at&&(f=f===st.CODE_CODE_A?st.CODE_CODE_B:st.CODE_CODE_A)}const Ae=V-B;if(V=r.getNextUnset(V),!r.isRange(V,Math.min(r.getSize(),V+(V-B)/2),!1))throw new $;if(he-=ce*re,he%103!==re)throw new L;const Me=N.length;if(Me===0)throw new $;Me>0&&de&&(f===st.CODE_CODE_C?N=N.substring(0,Me-2):N=N.substring(0,Me-1));const Fe=(u[1]+u[0])/2,Re=B+Ae/2,Qe=c.length,nt=new Uint8Array(Qe);for(let at=0;at<Qe;at++)nt[at]=c[at];const rt=[new Ee(Fe,t),new Ee(Re,t)];return new De(N,nt,0,rt,ze.CODE_128,new Date().getTime())}}st.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],st.MAX_AVG_VARIANCE=.25,st.MAX_INDIVIDUAL_VARIANCE=.7,st.CODE_SHIFT=98,st.CODE_CODE_C=99,st.CODE_CODE_B=100,st.CODE_CODE_A=101,st.CODE_FNC_1=102,st.CODE_FNC_2=97,st.CODE_FNC_3=96,st.CODE_FNC_4_A=101,st.CODE_FNC_4_B=100,st.CODE_START_A=103,st.CODE_START_B=104,st.CODE_START_C=105,st.CODE_STOP=106;class jt extends Ot{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=jt.findAsteriskPattern(r,l),a=r.getNextSet(u[1]),s=r.getSize(),c,f;do{jt.recordPattern(r,a,l);let q=jt.toNarrowWidePattern(l);if(q<0)throw new $;c=jt.patternToChar(q),this.decodeRowResult+=c,f=a;for(let re of l)a+=re;a=r.getNextSet(a)}while(c!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let q of l)p+=q;let w=a-f-p;if(a!==s&&w*2<p)throw new $;if(this.usingCheckDigit){let q=this.decodeRowResult.length-1,re=0;for(let K=0;K<q;K++)re+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(q)!==jt.ALPHABET_STRING.charAt(re%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,q)}if(this.decodeRowResult.length===0)throw new $;let N;this.extendedMode?N=jt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let B=(u[1]+u[0])/2,V=f+p/2;return new De(N,null,0,[new Ee(B,t),new Ee(V,t)],ze.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),l=t.getNextSet(0),u=0,a=l,s=!1,c=r.length;for(let f=l;f<i;f++)if(t.get(f)!==s)r[u]++;else{if(u===c-1){if(this.toNarrowWidePattern(r)===jt.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((f-a)/2)),a,!1))return[a,f];a+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,s=!s}throw new $}static toNarrowWidePattern(t){let r=t.length,i=0,l;do{let u=2147483647;for(let c of t)c<u&&c>i&&(u=c);i=u,l=0;let a=0,s=0;for(let c=0;c<r;c++){let f=t[c];f>i&&(s|=1<<r-1-c,l++,a+=f)}if(l===3){for(let c=0;c<r&&l>0;c++){let f=t[c];if(f>i&&(l--,f*2>=a))return-1}return s}}while(l>3);return-1}static patternToChar(t){for(let r=0;r<jt.CHARACTER_ENCODINGS.length;r++)if(jt.CHARACTER_ENCODINGS[r]===t)return jt.ALPHABET_STRING.charAt(r);if(t===jt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(t){let r=t.length,i="";for(let l=0;l<r;l++){let u=t.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let a=t.charAt(l+1),s="\0";switch(u){case"+":if(a>="A"&&a<="Z")s=String.fromCharCode(a.charCodeAt(0)+32);else throw new M;break;case"$":if(a>="A"&&a<="Z")s=String.fromCharCode(a.charCodeAt(0)-64);else throw new M;break;case"%":if(a>="A"&&a<="E")s=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")s=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")s=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")s=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")s="\0";else if(a==="V")s="@";else if(a==="W")s="`";else if(a==="X"||a==="Y"||a==="Z")s="";else throw new M;break;case"/":if(a>="A"&&a<="O")s=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")s=":";else throw new M;break}i+=s,l++}else i+=u}return i}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class et extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let l=this.decodeStart(r),u=this.decodeEnd(r),a=new ge;et.decodeMiddle(r,l[1],u[0],a);let s=a.toString(),c=null;i!=null&&(c=i.get(C.ALLOWED_LENGTHS)),c==null&&(c=et.DEFAULT_ALLOWED_LENGTHS);let f=s.length,p=!1,w=0;for(let V of c){if(f===V){p=!0;break}V>w&&(w=V)}if(!p&&f>w&&(p=!0),!p)throw new M;const N=[new Ee(l[1],t),new Ee(u[0],t)];return new De(s,null,0,N,ze.ITF,new Date().getTime())}static decodeMiddle(t,r,i,l){let u=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(u.fill(0),a.fill(0),s.fill(0);r<i;){Ot.recordPattern(t,r,u);for(let f=0;f<5;f++){let p=2*f;a[f]=u[p],s[f]=u[p+1]}let c=et.decodeDigit(a);l.append(c.toString()),c=this.decodeDigit(s),l.append(c.toString()),u.forEach(function(f){r+=f})}}decodeStart(t){let r=et.skipWhiteSpace(t),i=et.findGuardPattern(t,r,et.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let l=r-1;i>0&&l>=0&&!t.get(l);l--)i--;if(i!==0)throw new $}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new $;return i}decodeEnd(t){t.reverse();try{let r=et.skipWhiteSpace(t),i;try{i=et.findGuardPattern(t,r,et.END_PATTERN_REVERSED[0])}catch(u){u instanceof $&&(i=et.findGuardPattern(t,r,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let l=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-l,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let l=i.length,u=new Int32Array(l),a=t.getSize(),s=!1,c=0,f=r;u.fill(0);for(let p=r;p<a;p++)if(t.get(p)!==s)u[c]++;else{if(c===l-1){if(Ot.patternMatchVariance(u,i,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[f,p];f+=u[0]+u[1],P.arraycopy(u,2,u,0,c-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,s=!s}throw new $}static decodeDigit(t){let r=et.MAX_AVG_VARIANCE,i=-1,l=et.PATTERNS.length;for(let u=0;u<l;u++){let a=et.PATTERNS[u],s=Ot.patternMatchVariance(t,a,et.MAX_INDIVIDUAL_VARIANCE);s<r?(r=s,i=u):s===r&&(i=-1)}if(i>=0)return i%10;throw new $}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class en extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,l=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),i=en.findGuardPattern(t,l,!1,this.START_END_PATTERN,u);let a=i[0];l=i[1];let s=a-(l-a);s>=0&&(r=t.isRange(s,a,!1))}return i}static checkChecksum(t){return en.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return en.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let l=r-1;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new M;i+=u}i*=3;for(let l=r-2;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new M;i+=u}return(1e3-i)%10}static decodeEnd(t,r){return en.findGuardPattern(t,r,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,l){return this.findGuardPattern(t,r,i,l,new Int32Array(l.length))}static findGuardPattern(t,r,i,l,u){let a=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let s=0,c=r,f=l.length,p=i;for(let w=r;w<a;w++)if(t.get(w)!==p)u[s]++;else{if(s===f-1){if(Ot.patternMatchVariance(u,l,en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return Int32Array.from([c,w]);c+=u[0]+u[1];let N=u.slice(2,u.length-1);for(let B=0;B<s-1;B++)u[B]=N[B];u[s-1]=0,u[s]=0,s--}else s++;u[s]=1,p=!p}throw new $}static decodeDigit(t,r,i,l){this.recordPattern(t,i,r);let u=this.MAX_AVG_VARIANCE,a=-1,s=l.length;for(let c=0;c<s;c++){let f=l[c],p=Ot.patternMatchVariance(r,f,en.MAX_INDIVIDUAL_VARIANCE);p<u&&(u=p,a=c)}if(a>=0)return a;throw new $}}en.MAX_AVG_VARIANCE=.48,en.MAX_INDIVIDUAL_VARIANCE=.7,en.START_END_PATTERN=Int32Array.from([1,1,1]),en.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),en.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),en.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _r{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,l),a=l.toString(),s=_r.parseExtensionString(a),c=[new Ee((i[0]+i[1])/2,t),new Ee(u,t)],f=new De(a,null,0,c,ze.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f}decodeMiddle(t,r,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),a=r[1],s=0;for(let f=0;f<5&&a<u;f++){let p=en.decodeDigit(t,l,a,en.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let w of l)a+=w;p>=10&&(s|=1<<4-f),f!==4&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(i.length!==5)throw new $;let c=this.determineCheckDigit(s);if(_r.extensionChecksum(i.toString())!==c)throw new $;return a}static extensionChecksum(t){let r=t.length,i=0;for(let l=r-2;l>=0;l-=2)i+=t.charAt(l).charCodeAt(0)-48;i*=3;for(let l=r-1;l>=0;l-=2)i+=t.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new $}static parseExtensionString(t){if(t.length!==5)return null;let r=_r.parseExtension5String(t);return r==null?null:new Map([[Xe.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),l=(i/100).toString(),u=i%100,a=u<10?"0"+u:u.toString();return r+l+"."+a}}class Hr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,l),a=l.toString(),s=Hr.parseExtensionString(a),c=[new Ee((i[0]+i[1])/2,t),new Ee(u,t)],f=new De(a,null,0,c,ze.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f}decodeMiddle(t,r,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),a=r[1],s=0;for(let c=0;c<2&&a<u;c++){let f=en.decodeDigit(t,l,a,en.L_AND_G_PATTERNS);i+=String.fromCharCode(48+f%10);for(let p of l)a+=p;f>=10&&(s|=1<<1-c),c!==1&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(i.length!==2)throw new $;if(parseInt(i.toString())%4!==s)throw new $;return a}static parseExtensionString(t){return t.length!==2?null:new Map([[Xe.ISSUE_NUMBER,parseInt(t)]])}}class dt{static decodeRow(t,r,i){let l=en.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new _r().decodeRow(t,r,l)}catch{return new Hr().decodeRow(t,r,l)}}}dt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Vt extends en{constructor(){super(),this.decodeRowStringBuffer="",Vt.L_AND_G_PATTERNS=Vt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Vt.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let l=0;l<r.length;l++)i[l]=r[r.length-l-1];Vt.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let l=Vt.findStartGuardPattern(r),u=i==null?null:i.get(C.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new Ee((l[0]+l[1])/2,t);u.foundPossibleResultPoint(de)}let a=this.decodeMiddle(r,l,this.decodeRowStringBuffer),s=a.rowOffset,c=a.resultString;if(u!=null){const de=new Ee(s,t);u.foundPossibleResultPoint(de)}let f=this.decodeEnd(r,s);if(u!=null){const de=new Ee((f[0]+f[1])/2,t);u.foundPossibleResultPoint(de)}let p=f[1],w=p+(p-f[0]);if(w>=r.getSize()||!r.isRange(p,w,!1))throw new $;let N=c.toString();if(N.length<8)throw new M;if(!Vt.checkChecksum(N))throw new L;let B=(l[1]+l[0])/2,V=(f[1]+f[0])/2,q=this.getBarcodeFormat(),re=[new Ee(B,t),new Ee(V,t)],K=new De(N,null,0,re,q,new Date().getTime()),he=0;try{let de=dt.decodeRow(t,r,f[1]);K.putMetadata(Xe.UPC_EAN_EXTENSION,de.getText()),K.putAllMetadata(de.getResultMetadata()),K.addResultPoints(de.getResultPoints()),he=de.getText().length}catch{}let ce=i==null?null:i.get(C.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let de=!1;for(let be in ce)if(he.toString()===be){de=!0;break}if(!de)throw new $}return K}decodeEnd(t,r){return Vt.findGuardPattern(t,r,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Vt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Vt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let l=r-1;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new M;i+=u}i*=3;for(let l=r-2;l>=0;l-=2){let u=t.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new M;i+=u}return(1e3-i)%10}}class Mn extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),a=r[1],s=0;for(let f=0;f<6&&a<u;f++){let p=Vt.decodeDigit(t,l,a,Vt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let w of l)a+=w;p>=10&&(s|=1<<5-f)}i=Mn.determineFirstDigit(i,s),a=Vt.findGuardPattern(t,a,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<6&&a<u;f++){let p=Vt.decodeDigit(t,l,a,Vt.L_PATTERNS);i+=String.fromCharCode(48+p);for(let w of l)a+=w}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return ze.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new $}}Mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qe extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),a=r[1];for(let c=0;c<4&&a<u;c++){let f=Vt.decodeDigit(t,l,a,Vt.L_PATTERNS);i+=String.fromCharCode(48+f);for(let p of l)a+=p}a=Vt.findGuardPattern(t,a,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let c=0;c<4&&a<u;c++){let f=Vt.decodeDigit(t,l,a,Vt.L_PATTERNS);i+=String.fromCharCode(48+f);for(let p of l)a+=p}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return ze.EAN_8}}class Rt extends Vt{constructor(){super(...arguments),this.ean13Reader=new Mn}getBarcodeFormat(){return ze.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new De(r.substring(1),null,null,t.getResultPoints(),ze.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new $}reset(){this.ean13Reader.reset()}}class Mt extends Vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const l=this.decodeMiddleCounters.map(f=>f);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=t.getSize();let a=r[1],s=0;for(let f=0;f<6&&a<u;f++){const p=Mt.decodeDigit(t,l,a,Mt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);for(let w of l)a+=w;p>=10&&(s|=1<<5-f)}let c=Mt.determineNumSysAndCheckDigit(i,s);return{rowOffset:a,resultString:c}}decodeEnd(t,r){return Mt.findGuardPatternWithoutCounters(t,r,!0,Mt.MIDDLE_END_PATTERN)}checkChecksum(t){return Vt.checkChecksum(Mt.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let u=String.fromCharCode(48+i),a=String.fromCharCode(48+l);return u+t+a}throw $.getNotFoundInstance()}getBarcodeFormat(){return ze.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),i=new ge;i.append(t.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(l),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(l);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Mt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class On extends Ot{constructor(t){super();let r=t==null?null:t.get(C.POSSIBLE_FORMATS),i=[];g(r)?(i.push(new Mn),i.push(new Rt),i.push(new qe),i.push(new Mt)):(r.indexOf(ze.EAN_13)>-1&&i.push(new Mn),r.indexOf(ze.UPC_A)>-1&&i.push(new Rt),r.indexOf(ze.EAN_8)>-1&&i.push(new qe),r.indexOf(ze.UPC_E)>-1&&i.push(new Mt)),this.readers=i}decodeRow(t,r,i){for(let l of this.readers)try{const u=l.decodeRow(t,r,i),a=u.getBarcodeFormat()===ze.EAN_13&&u.getText().charAt(0)==="0",s=i==null?null:i.get(C.POSSIBLE_FORMATS),c=s==null||s.includes(ze.UPC_A);if(a&&c){const f=u.getRawBytes(),p=new De(u.getText().substring(1),f,f?f.length:null,u.getResultPoints(),ze.UPC_A);return p.putAllMetadata(u.getResultMetadata()),p}return u}catch{}throw new $}reset(){for(let t of this.readers)t.reset()}}class dn extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(Ot.patternMatchVariance(t,r[i],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return i;throw new $}static count(t){return we.sum(new Int32Array(t))}static increment(t,r){let i=0,l=r[0];for(let u=1;u<t.length;u++)r[u]>l&&(l=r[u],i=u);t[i]++}static decrement(t,r){let i=0,l=r[0];for(let u=1;u<t.length;u++)r[u]<l&&(l=r[u],i=u);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],l=r/i;if(l>=dn.MIN_FINDER_PATTERN_RATIO&&l<=dn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let s of t)s>a&&(a=s),s<u&&(u=s);return a<10*u}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class _n{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof _n))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xn{constructor(t,r,i,l,u){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ee(i,u)),this.resultPoints.push(new Ee(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof xn))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Cn{constructor(){}static getRSSvalue(t,r,i){let l=0;for(let c of t)l+=c;let u=0,a=0,s=t.length;for(let c=0;c<s-1;c++){let f;for(f=1,a|=1<<c;f<t[c];f++,a&=~(1<<c)){let p=Cn.combins(l-f-1,s-c-2);if(i&&a===0&&l-f-(s-c-1)>=s-c-1&&(p-=Cn.combins(l-f-(s-c),s-c-2)),s-c-1>1){let w=0;for(let N=l-f-(s-c-2);N>r;N--)w+=Cn.combins(l-f-N-1,s-c-3);p-=w*(s-1-c)}else l-f>r&&p--;u+=p}l-=f}return u}static combins(t,r){let i,l;t-r>r?(l=r,i=t-r):(l=t-r,i=r);let u=1,a=1;for(let s=t;s>i;s--)u*=s,a<=l&&(u/=a,a++);for(;a<=l;)u/=a,a++;return u}}class An{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,l=new m(i),u=0,s=t[0].getRightChar().getValue();for(let c=11;c>=0;--c)(s&1<<c)!=0&&l.set(u),u++;for(let c=1;c<t.length;++c){let f=t[c],p=f.getLeftChar().getValue();for(let w=11;w>=0;--w)(p&1<<w)!=0&&l.set(u),u++;if(f.getRightChar()!=null){let w=f.getRightChar().getValue();for(let N=11;N>=0;--N)(w&1<<N)!=0&&l.set(u),u++}}return l}}class mt{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Wt{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class mr extends Wt{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===mr.FNC1}}mr.FNC1="$";class Jr extends Wt{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ar extends Wt{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new M;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ar.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ar.FNC1}isAnyFNC1(){return this.firstDigit===Ar.FNC1||this.secondDigit===Ar.FNC1}}Ar.FNC1=10;class gt{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new $;let r=t.substring(0,2);for(let u of gt.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(2,u[2],t):gt.processFixedAI(2,u[1],t);if(t.length<3)throw new $;let i=t.substring(0,3);for(let u of gt.THREE_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(3,u[2],t):gt.processFixedAI(3,u[1],t);for(let u of gt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(4,u[2],t):gt.processFixedAI(4,u[1],t);if(t.length<4)throw new $;let l=t.substring(0,4);for(let u of gt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(4,u[2],t):gt.processFixedAI(4,u[1],t);throw new $}static processFixedAI(t,r,i){if(i.length<t)throw new $;let l=i.substring(0,t);if(i.length<t+r)throw new $;let u=i.substring(t,t+r),a=i.substring(t+r),s="("+l+")"+u,c=gt.parseFieldsInGeneralPurpose(a);return c==null?s:s+c}static processVariableAI(t,r,i){let l=i.substring(0,t),u;i.length<t+r?u=i.length:u=t+r;let a=i.substring(t,u),s=i.substring(u),c="("+l+")"+a,f=gt.parseFieldsInGeneralPurpose(s);return f==null?c:c+f}}gt.VARIABLE_LENGTH=[],gt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",gt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",gt.VARIABLE_LENGTH,20],["22",gt.VARIABLE_LENGTH,29],["30",gt.VARIABLE_LENGTH,8],["37",gt.VARIABLE_LENGTH,8],["90",gt.VARIABLE_LENGTH,30],["91",gt.VARIABLE_LENGTH,30],["92",gt.VARIABLE_LENGTH,30],["93",gt.VARIABLE_LENGTH,30],["94",gt.VARIABLE_LENGTH,30],["95",gt.VARIABLE_LENGTH,30],["96",gt.VARIABLE_LENGTH,30],["97",gt.VARIABLE_LENGTH,3],["98",gt.VARIABLE_LENGTH,30],["99",gt.VARIABLE_LENGTH,30]],gt.THREE_DIGIT_DATA_LENGTH=[["240",gt.VARIABLE_LENGTH,30],["241",gt.VARIABLE_LENGTH,30],["242",gt.VARIABLE_LENGTH,6],["250",gt.VARIABLE_LENGTH,30],["251",gt.VARIABLE_LENGTH,30],["253",gt.VARIABLE_LENGTH,17],["254",gt.VARIABLE_LENGTH,20],["400",gt.VARIABLE_LENGTH,30],["401",gt.VARIABLE_LENGTH,30],["402",17],["403",gt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",gt.VARIABLE_LENGTH,20],["421",gt.VARIABLE_LENGTH,15],["422",3],["423",gt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],gt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",gt.VARIABLE_LENGTH,15],["391",gt.VARIABLE_LENGTH,18],["392",gt.VARIABLE_LENGTH,15],["393",gt.VARIABLE_LENGTH,18],["703",gt.VARIABLE_LENGTH,30]],gt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",gt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",gt.VARIABLE_LENGTH,20],["8003",gt.VARIABLE_LENGTH,30],["8004",gt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",gt.VARIABLE_LENGTH,30],["8008",gt.VARIABLE_LENGTH,12],["8018",18],["8020",gt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",gt.VARIABLE_LENGTH,70],["8200",gt.VARIABLE_LENGTH,70]];class $r{constructor(t){this.buffer=new ge,this.information=t}decodeAllCodes(t,r){let i=r,l=null;do{let u=this.decodeGeneralPurposeField(i,l),a=gt.parseFieldsInGeneralPurpose(u.getNewString());if(a!=null&&t.append(a),u.isRemaining()?l=""+u.getRemainingValue():l=null,i===u.getNewPosition())break;i=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Ar(this.information.getSize(),Ar.FNC1,Ar.FNC1):new Ar(this.information.getSize(),u-1,Ar.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,l=(r-8)%11;return new Ar(t+7,i,l)}extractNumericValueFromBitArray(t,r){return $r.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let l=0;for(let u=0;u<i;++u)t.get(r+u)&&(l|=1<<i-u-1);return l}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Jr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Jr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Jr(this.current.getPosition(),this.buffer.toString()):r=new Jr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new mt(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Jr(this.current.getPosition(),this.buffer.toString());return new mt(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Jr(this.current.getPosition(),this.buffer.toString());return new mt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Jr(this.current.getPosition(),this.buffer.toString());return new mt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new mr(t+5,mr.FNC1);if(r>=5&&r<15)return new mr(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new mr(t+7,""+(i+1));if(i>=90&&i<116)return new mr(t+7,""+(i+7));let l=this.extractNumericValueFromBitArray(t,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new M}return new mr(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new mr(t+5,mr.FNC1);if(r>=5&&r<15)return new mr(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new mr(t+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ge("Decoding invalid alphanumeric value: "+i)}return new mr(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Gr{constructor(t){this.information=t,this.generalDecoder=new $r(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class kn extends Gr{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}kn.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let l=0;l<13;l++){let u=t.charAt(l+r).charCodeAt(0)-48;i+=(l&1)===0?3*u:u}i=10-i%10,i===10&&(i=0),t.append(i)}}kn.GTIN_SIZE=40;class er extends kn{constructor(t){super(t)}parseInformation(){let t=new ge;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(er.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,er.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,er.HEADER_SIZE+44)}}er.HEADER_SIZE=4;class Yr extends Gr{constructor(t){super(t)}parseInformation(){let t=new ge;return this.getGeneralDecoder().decodeAllCodes(t,Yr.HEADER_SIZE)}}Yr.HEADER_SIZE=5;class oa extends kn{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,l);let u=this.checkWeight(l),a=1e5;for(let s=0;s<5;++s)u/a===0&&t.append("0"),a/=10;t.append(u)}}class rn extends oa{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+oa.GTIN_SIZE+rn.WEIGHT_SIZE)throw new $;let t=new ge;return this.encodeCompressedGtin(t,rn.HEADER_SIZE),this.encodeCompressedWeight(t,rn.HEADER_SIZE+oa.GTIN_SIZE,rn.WEIGHT_SIZE),t.toString()}}rn.HEADER_SIZE=5,rn.WEIGHT_SIZE=15;class os extends rn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Ca extends rn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class or extends kn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<or.HEADER_SIZE+kn.GTIN_SIZE)throw new $;let t=new ge;this.encodeCompressedGtin(t,or.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(or.HEADER_SIZE+kn.GTIN_SIZE,or.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(or.HEADER_SIZE+kn.GTIN_SIZE+or.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}or.HEADER_SIZE=8,or.LAST_DIGIT_SIZE=2;class Hn extends kn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Hn.HEADER_SIZE+kn.GTIN_SIZE)throw new $;let t=new ge;this.encodeCompressedGtin(t,Hn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Hn.HEADER_SIZE+kn.GTIN_SIZE,Hn.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Hn.HEADER_SIZE+kn.GTIN_SIZE+Hn.LAST_DIGIT_SIZE,Hn.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Hn.HEADER_SIZE+kn.GTIN_SIZE+Hn.LAST_DIGIT_SIZE+Hn.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}Hn.HEADER_SIZE=8,Hn.LAST_DIGIT_SIZE=2,Hn.FIRST_THREE_DIGITS_SIZE=10;class Ut extends oa{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE+Ut.DATE_SIZE)throw new $;let t=new ge;return this.encodeCompressedGtin(t,Ut.HEADER_SIZE),this.encodeCompressedWeight(t,Ut.HEADER_SIZE+Ut.GTIN_SIZE,Ut.WEIGHT_SIZE),this.encodeCompressedDate(t,Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ut.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=i%32;i/=32;let u=i%12+1;i/=12;let a=i;a/10==0&&t.append("0"),t.append(a),u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ut.HEADER_SIZE=8,Ut.WEIGHT_SIZE=20,Ut.DATE_SIZE=16;function la(G){try{if(G.get(1))return new er(G);if(!G.get(2))return new Yr(G);switch($r.extractNumericValueFromBitArray(G,1,4)){case 4:return new os(G);case 5:return new Ca(G)}switch($r.extractNumericValueFromBitArray(G,1,5)){case 12:return new or(G);case 13:return new Hn(G)}switch($r.extractNumericValueFromBitArray(G,1,7)){case 56:return new Ut(G,"310","11");case 57:return new Ut(G,"320","11");case 58:return new Ut(G,"310","13");case 59:return new Ut(G,"320","13");case 60:return new Ut(G,"310","15");case 61:return new Ut(G,"320","15");case 62:return new Ut(G,"310","17");case 63:return new Ut(G,"320","17")}}catch(t){throw console.log(t),new Ge("unknown decoder: "+G)}}class lr{constructor(t,r,i,l){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof lr?lr.equalsOrNull(t.leftchar,r.leftchar)&&lr.equalsOrNull(t.rightchar,r.rightchar)&&lr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:lr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Mi{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Mi?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((l,u)=>{r.forEach(a=>{l.getLeftChar().getValue()===a.getLeftChar().getValue()&&l.getRightChar().getValue()===a.getRightChar().getValue()&&l.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(i=!0)})}),i}}class Ze extends dn{constructor(t){super(...arguments),this.pairs=new Array(Ze.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return Ze.constructResult(this.decodeRow2pairs(t,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,Ze.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof $){if(!this.pairs.length)throw new $;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new $}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let a of t)this.pairs.push(a.getPairs());if(this.pairs.push(l.getPairs()),!Ze.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(l);try{return this.checkRows(u,i+1)}catch(a){this.verbose&&console.log(a)}}throw new $}static isValidSequence(t){for(let r of Ze.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=r[l]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,l=!1,u=!1;for(;i<this.rows.length;){let a=this.rows[i];if(a.getRowNumber()>t){u=a.isEquivalent(this.pairs);break}l=a.isEquivalent(this.pairs),i++}u||l||Ze.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Mi(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let l of i.getPairs())for(let u of t)if(lr.equals(l,u))break}}static isPartialRow(t,r){for(let i of r){let l=!0;for(let u of t){let a=!1;for(let s of i.getPairs())if(u.equals(s)){a=!0;break}if(!a){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=An.buildBitArray(t),l=la(r).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),a=t[t.length-1].getFinderPattern().getResultPoints(),s=[u[0],u[1],a[0],a[1]];return new De(l,null,null,s,ze.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),u=2;for(let s=1;s<this.pairs.size();++s){let c=this.pairs.get(s);l+=c.getLeftChar().getChecksumPortion(),u++;let f=c.getRightChar();f!=null&&(l+=f.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let l=r.length%2==0;this.startFromEven&&(l=!l);let u,a=!0,s=-1;do this.findNextPair(t,r,s),u=this.parseFoundFinderPattern(t,i,l),u==null?s=Ze.getNextSecondBar(t,this.startEnd[0]):a=!1;while(a);let c=this.decodeDataCharacter(t,u,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new $;let f;try{f=this.decodeDataCharacter(t,u,l,!1)}catch(p){f=null,this.verbose&&console.log(p)}return new lr(c,f,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=t.getSize(),a;i>=0?a=i:this.isEmptyPair(r)?a=0:a=r[r.length-1].getFinderPattern().getStartEnd()[1];let s=r.length%2!=0;this.startFromEven&&(s=!s);let c=!1;for(;a<u&&(c=!t.get(a),!!c);)a++;let f=0,p=a;for(let w=a;w<u;w++)if(t.get(w)!=c)l[f]++;else{if(f==3){if(s&&Ze.reverseCounters(l),Ze.isFinderPattern(l)){this.startEnd[0]=p,this.startEnd[1]=w;return}s&&Ze.reverseCounters(l),p+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,f--}else f++;l[f]=1,c=!c}throw new $}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let l=t[i];t[i]=t[r-i-1],t[r-i-1]=l}}parseFoundFinderPattern(t,r,i){let l,u,a;if(i){let f=this.startEnd[0]-1;for(;f>=0&&!t.get(f);)f--;f++,l=this.startEnd[0]-f,u=f,a=this.startEnd[1]}else u=this.startEnd[0],a=t.getNextUnset(this.startEnd[1]+1),l=a-this.startEnd[1];let s=this.getDecodeFinderCounters();P.arraycopy(s,0,s,1,s.length-1),s[0]=l;let c;try{c=this.parseFinderValue(s,Ze.FINDER_PATTERNS)}catch{return null}return new xn(c,[u,a],u,a,r)}decodeDataCharacter(t,r,i,l){let u=this.getDataCharacterCounters();for(let Re=0;Re<u.length;Re++)u[Re]=0;if(l)Ze.recordPatternInReverse(t,r.getStartEnd()[0],u);else{Ze.recordPattern(t,r.getStartEnd()[1],u);for(let Re=0,Qe=u.length-1;Re<Qe;Re++,Qe--){let nt=u[Re];u[Re]=u[Qe],u[Qe]=nt}}let a=17,s=we.sum(new Int32Array(u))/a,c=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(s-c)/c>.3)throw new $;let f=this.getOddCounts(),p=this.getEvenCounts(),w=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Re=0;Re<u.length;Re++){let Qe=1*u[Re]/s,nt=Qe+.5;if(nt<1){if(Qe<.3)throw new $;nt=1}else if(nt>8){if(Qe>8.7)throw new $;nt=8}let rt=Re/2;(Re&1)==0?(f[rt]=nt,w[rt]=Qe-nt):(p[rt]=nt,N[rt]=Qe-nt)}this.adjustOddEvenCounts(a);let B=4*r.getValue()+(i?0:2)+(l?0:1)-1,V=0,q=0;for(let Re=f.length-1;Re>=0;Re--){if(Ze.isNotA1left(r,i,l)){let Qe=Ze.WEIGHTS[B][2*Re];q+=f[Re]*Qe}V+=f[Re]}let re=0;for(let Re=p.length-1;Re>=0;Re--)if(Ze.isNotA1left(r,i,l)){let Qe=Ze.WEIGHTS[B][2*Re+1];re+=p[Re]*Qe}let K=q+re;if((V&1)!=0||V>13||V<4)throw new $;let he=(13-V)/2,ce=Ze.SYMBOL_WIDEST[he],de=9-ce,be=Cn.getRSSvalue(f,ce,!0),ye=Cn.getRSSvalue(p,de,!1),Ae=Ze.EVEN_TOTAL_SUBSET[he],Me=Ze.GSUM[he],Fe=be*Ae+ye+Me;return new _n(Fe,K)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=we.sum(new Int32Array(this.getOddCounts())),i=we.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let a=!1,s=!1;i>13?s=!0:i<4&&(a=!0);let c=r+i-t,f=(r&1)==1,p=(i&1)==0;if(c==1)if(f){if(p)throw new $;u=!0}else{if(!p)throw new $;s=!0}else if(c==-1)if(f){if(p)throw new $;l=!0}else{if(!p)throw new $;a=!0}else if(c==0){if(f){if(!p)throw new $;r<i?(l=!0,s=!0):(u=!0,a=!0)}else if(p)throw new $}else throw new $;if(l){if(u)throw new $;Ze.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Ze.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new $;Ze.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&Ze.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ze.SYMBOL_WIDEST=[7,5,4,3,1],Ze.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ze.GSUM=[0,348,1388,2948,3988],Ze.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ze.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ze.FINDER_PAT_A=0,Ze.FINDER_PAT_B=1,Ze.FINDER_PAT_C=2,Ze.FINDER_PAT_D=3,Ze.FINDER_PAT_E=4,Ze.FINDER_PAT_F=5,Ze.FINDER_PATTERN_SEQUENCES=[[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_C,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_C],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_E],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F]],Ze.MAX_PAIRS=11;class Pa extends _n{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class cn extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const l=this.decodePair(r,!1,t,i);cn.addOrTally(this.possibleLeftPairs,l),r.reverse();let u=this.decodePair(r,!0,t,i);cn.addOrTally(this.possibleRightPairs,u),r.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let s of this.possibleRightPairs)if(s.getCount()>1&&cn.checkChecksum(a,s))return cn.constructResult(a,s)}throw new $}static addOrTally(t,r){if(r==null)return;let i=!1;for(let l of t)if(l.getValue()===r.getValue()){l.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),l=new String(i).toString(),u=new ge;for(let f=13-l.length;f>0;f--)u.append("0");u.append(l);let a=0;for(let f=0;f<13;f++){let p=u.charAt(f).charCodeAt(0)-48;a+=(f&1)===0?3*p:p}a=10-a%10,a===10&&(a=0),u.append(a.toString());let s=t.getFinderPattern().getResultPoints(),c=r.getFinderPattern().getResultPoints();return new De(u.toString(),null,0,[s[0],s[1],c[0],c[1]],ze.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(t,r,i,l){try{let u=this.findFinderPattern(t,r),a=this.parseFoundFinderPattern(t,i,r,u),s=l==null?null:l.get(C.NEED_RESULT_POINT_CALLBACK);if(s!=null){let p=(u[0]+u[1])/2;r&&(p=t.getSize()-1-p),s.foundPossibleResultPoint(new Ee(p,i))}let c=this.decodeDataCharacter(t,a,!0),f=this.decodeDataCharacter(t,a,!1);return new Pa(1597*c.getValue()+f.getValue(),c.getChecksumPortion()+4*f.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(t,r,i){let l=this.getDataCharacterCounters();for(let re=0;re<l.length;re++)l[re]=0;if(i)Ot.recordPatternInReverse(t,r.getStartEnd()[0],l);else{Ot.recordPattern(t,r.getStartEnd()[1]+1,l);for(let re=0,K=l.length-1;re<K;re++,K--){let he=l[re];l[re]=l[K],l[K]=he}}let u=i?16:15,a=we.sum(new Int32Array(l))/u,s=this.getOddCounts(),c=this.getEvenCounts(),f=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let re=0;re<l.length;re++){let K=l[re]/a,he=Math.floor(K+.5);he<1?he=1:he>8&&(he=8);let ce=Math.floor(re/2);(re&1)===0?(s[ce]=he,f[ce]=K-he):(c[ce]=he,p[ce]=K-he)}this.adjustOddEvenCounts(i,u);let w=0,N=0;for(let re=s.length-1;re>=0;re--)N*=9,N+=s[re],w+=s[re];let B=0,V=0;for(let re=c.length-1;re>=0;re--)B*=9,B+=c[re],V+=c[re];let q=N+3*B;if(i){if((w&1)!==0||w>12||w<4)throw new $;let re=(12-w)/2,K=cn.OUTSIDE_ODD_WIDEST[re],he=9-K,ce=Cn.getRSSvalue(s,K,!1),de=Cn.getRSSvalue(c,he,!0),be=cn.OUTSIDE_EVEN_TOTAL_SUBSET[re],ye=cn.OUTSIDE_GSUM[re];return new _n(ce*be+de+ye,q)}else{if((V&1)!==0||V>10||V<4)throw new $;let re=(10-V)/2,K=cn.INSIDE_ODD_WIDEST[re],he=9-K,ce=Cn.getRSSvalue(s,K,!0),de=Cn.getRSSvalue(c,he,!1),be=cn.INSIDE_ODD_TOTAL_SUBSET[re],ye=cn.INSIDE_GSUM[re];return new _n(de*be+ce+ye,q)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=t.getSize(),u=!1,a=0;for(;a<l&&(u=!t.get(a),r!==u);)a++;let s=0,c=a;for(let f=a;f<l;f++)if(t.get(f)!==u)i[s]++;else{if(s===3){if(dn.isFinderPattern(i))return[c,f];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,s--}else s++;i[s]=1,u=!u}throw new $}parseFoundFinderPattern(t,r,i,l){let u=t.get(l[0]),a=l[0]-1;for(;a>=0&&u!==t.get(a);)a--;a++;const s=l[0]-a,c=this.getDecodeFinderCounters(),f=new Int32Array(c.length);P.arraycopy(c,0,f,1,c.length-1),f[0]=s;const p=this.parseFinderValue(f,cn.FINDER_PATTERNS);let w=a,N=l[1];return i&&(w=t.getSize()-1-w,N=t.getSize()-1-N),new xn(p,[a,l[1]],w,N,r)}adjustOddEvenCounts(t,r){let i=we.sum(new Int32Array(this.getOddCounts())),l=we.sum(new Int32Array(this.getEvenCounts())),u=!1,a=!1,s=!1,c=!1;t?(i>12?a=!0:i<4&&(u=!0),l>12?c=!0:l<4&&(s=!0)):(i>11?a=!0:i<5&&(u=!0),l>10?c=!0:l<4&&(s=!0));let f=i+l-r,p=(i&1)===(t?1:0),w=(l&1)===1;if(f===1)if(p){if(w)throw new $;a=!0}else{if(!w)throw new $;c=!0}else if(f===-1)if(p){if(w)throw new $;u=!0}else{if(!w)throw new $;s=!0}else if(f===0){if(p){if(!w)throw new $;i<l?(u=!0,c=!0):(a=!0,s=!0)}else if(w)throw new $}else throw new $;if(u){if(a)throw new $;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(c)throw new $;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}cn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],cn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],cn.OUTSIDE_GSUM=[0,161,961,2015,2715],cn.INSIDE_GSUM=[0,336,1036,1516],cn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],cn.INSIDE_ODD_WIDEST=[2,4,6,8],cn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ea extends Ot{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(C.POSSIBLE_FORMATS):null,l=t&&t.get(C.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ze.EAN_13)||i.includes(ze.UPC_A)||i.includes(ze.EAN_8)||i.includes(ze.UPC_E))&&this.readers.push(new On(t)),i.includes(ze.CODE_39)&&this.readers.push(new jt(l)),i.includes(ze.CODE_128)&&this.readers.push(new st),i.includes(ze.ITF)&&this.readers.push(new et),i.includes(ze.RSS_14)&&this.readers.push(new cn),i.includes(ze.RSS_EXPANDED)&&this.readers.push(new Ze(this.verbose))):(this.readers.push(new On(t)),this.readers.push(new jt),this.readers.push(new On(t)),this.readers.push(new st),this.readers.push(new et),this.readers.push(new cn),this.readers.push(new Ze(this.verbose)))}decodeRow(t,r,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,r,i)}catch{}throw new $}reset(){this.readers.forEach(t=>t.reset())}}class Sa extends Ne{constructor(t=500,r){super(new ea(r),t,r)}}class Qt{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Jt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qt{constructor(t,r,i,l,u,a){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=a;let s=0;const c=a.getECCodewords(),f=a.getECBlocks();for(let p of f)s+=p.getCount()*(p.getDataCodewords()+c);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new M;for(let i of qt.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new qt(1,10,10,8,8,new Qt(5,new Jt(1,3))),new qt(2,12,12,10,10,new Qt(7,new Jt(1,5))),new qt(3,14,14,12,12,new Qt(10,new Jt(1,8))),new qt(4,16,16,14,14,new Qt(12,new Jt(1,12))),new qt(5,18,18,16,16,new Qt(14,new Jt(1,18))),new qt(6,20,20,18,18,new Qt(18,new Jt(1,22))),new qt(7,22,22,20,20,new Qt(20,new Jt(1,30))),new qt(8,24,24,22,22,new Qt(24,new Jt(1,36))),new qt(9,26,26,24,24,new Qt(28,new Jt(1,44))),new qt(10,32,32,14,14,new Qt(36,new Jt(1,62))),new qt(11,36,36,16,16,new Qt(42,new Jt(1,86))),new qt(12,40,40,18,18,new Qt(48,new Jt(1,114))),new qt(13,44,44,20,20,new Qt(56,new Jt(1,144))),new qt(14,48,48,22,22,new Qt(68,new Jt(1,174))),new qt(15,52,52,24,24,new Qt(42,new Jt(2,102))),new qt(16,64,64,14,14,new Qt(56,new Jt(2,140))),new qt(17,72,72,16,16,new Qt(36,new Jt(4,92))),new qt(18,80,80,18,18,new Qt(48,new Jt(4,114))),new qt(19,88,88,20,20,new Qt(56,new Jt(4,144))),new qt(20,96,96,22,22,new Qt(68,new Jt(4,174))),new qt(21,104,104,24,24,new Qt(56,new Jt(6,136))),new qt(22,120,120,18,18,new Qt(68,new Jt(6,175))),new qt(23,132,132,20,20,new Qt(62,new Jt(8,163))),new qt(24,144,144,22,22,new Qt(62,new Jt(8,156),new Jt(2,155))),new qt(25,8,18,6,16,new Qt(7,new Jt(1,5))),new qt(26,8,32,6,14,new Qt(11,new Jt(1,10))),new qt(27,12,26,10,24,new Qt(14,new Jt(1,16))),new qt(28,12,36,10,16,new Qt(18,new Jt(1,22))),new qt(29,16,36,14,16,new Qt(24,new Jt(1,32))),new qt(30,16,48,14,22,new Qt(28,new Jt(1,49)))]}}qt.VERSIONS=qt.buildVersions();class Yt{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new M;this.version=Yt.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new j(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return qt.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,l=0;const u=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let s=!1,c=!1,f=!1,p=!1;do if(i===u&&l===0&&!s)t[r++]=this.readCorner1(u,a)&255,i-=2,l+=2,s=!0;else if(i===u-2&&l===0&&(a&3)!==0&&!c)t[r++]=this.readCorner2(u,a)&255,i-=2,l+=2,c=!0;else if(i===u+4&&l===2&&(a&7)===0&&!f)t[r++]=this.readCorner3(u,a)&255,i-=2,l+=2,f=!0;else if(i===u-2&&l===0&&(a&7)===4&&!p)t[r++]=this.readCorner4(u,a)&255,i-=2,l+=2,p=!0;else{do i<u&&l>=0&&!this.readMappingMatrix.get(l,i)&&(t[r++]=this.readUtah(i,l,u,a)&255),i-=2,l+=2;while(i>=0&&l<a);i+=1,l+=3;do i>=0&&l<a&&!this.readMappingMatrix.get(l,i)&&(t[r++]=this.readUtah(i,l,u,a)&255),i+=2,l-=2;while(i<u&&l>=0);i+=3,l+=1}while(i<u||l<a);if(r!==this.version.getTotalCodewords())throw new M;return t}readModule(t,r,i,l){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,l){let u=0;return this.readModule(t-2,r-2,i,l)&&(u|=1),u<<=1,this.readModule(t-2,r-1,i,l)&&(u|=1),u<<=1,this.readModule(t-1,r-2,i,l)&&(u|=1),u<<=1,this.readModule(t-1,r-1,i,l)&&(u|=1),u<<=1,this.readModule(t-1,r,i,l)&&(u|=1),u<<=1,this.readModule(t,r-2,i,l)&&(u|=1),u<<=1,this.readModule(t,r-1,i,l)&&(u|=1),u<<=1,this.readModule(t,r,i,l)&&(u|=1),u}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new D("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),a=r/l|0,s=i/u|0,c=a*l,f=s*u,p=new j(f,c);for(let w=0;w<a;++w){const N=w*l;for(let B=0;B<s;++B){const V=B*u;for(let q=0;q<l;++q){const re=w*(l+2)+1+q,K=N+q;for(let he=0;he<u;++he){const ce=B*(u+2)+1+he;if(t.get(ce,re)){const de=V+he;p.set(de,K)}}}}}return p}}class mi{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let l=0;const u=i.getECBlocks();for(let q of u)l+=q.getCount();const a=new Array(l);let s=0;for(let q of u)for(let re=0;re<q.getCount();re++){const K=q.getDataCodewords(),he=i.getECCodewords()+K;a[s++]=new mi(K,new Uint8Array(he))}const f=a[0].codewords.length-i.getECCodewords(),p=f-1;let w=0;for(let q=0;q<p;q++)for(let re=0;re<s;re++)a[re].codewords[q]=t[w++];const N=r.getVersionNumber()===24,B=N?8:s;for(let q=0;q<B;q++)a[q].codewords[f-1]=t[w++];const V=a[0].codewords.length;for(let q=f;q<V;q++)for(let re=0;re<s;re++){const K=N?(re+8)%s:re,he=N&&K>7?q-1:q;a[K].codewords[he]=t[w++]}if(w!==t.length)throw new D;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Er{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new D(""+t);let r=0,i=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(i>0){const a=8-i,s=t<a?t:a,c=a-s,f=255>>8-s<<c;r=(u[l]&f)>>c,t-=s,i+=s,i===8&&(i=0,l++)}if(t>0){for(;t>=8;)r=r<<8|u[l]&255,l++,t-=8;if(t>0){const a=8-t,s=255>>a<<a;r=r<<t|(u[l]&s)>>a,i+=t}}return this.bitOffset=i,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Bn;(function(G){G[G.PAD_ENCODE=0]="PAD_ENCODE",G[G.ASCII_ENCODE=1]="ASCII_ENCODE",G[G.C40_ENCODE=2]="C40_ENCODE",G[G.TEXT_ENCODE=3]="TEXT_ENCODE",G[G.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",G[G.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",G[G.BASE256_ENCODE=6]="BASE256_ENCODE"})(Bn||(Bn={}));class ua{static decode(t){const r=new Er(t),i=new ge,l=new ge,u=new Array;let a=Bn.ASCII_ENCODE;do if(a===Bn.ASCII_ENCODE)a=this.decodeAsciiSegment(r,i,l);else{switch(a){case Bn.C40_ENCODE:this.decodeC40Segment(r,i);break;case Bn.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case Bn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case Bn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case Bn.BASE256_ENCODE:this.decodeBase256Segment(r,i,u);break;default:throw new M}a=Bn.ASCII_ENCODE}while(a!==Bn.PAD_ENCODE&&r.available()>0);return l.length()>0&&i.append(l.toString()),new Ve(t,i.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,r,i){let l=!1;do{let u=t.readBits(8);if(u===0)throw new M;if(u<=128)return l&&(u+=128),r.append(String.fromCharCode(u-1)),Bn.ASCII_ENCODE;if(u===129)return Bn.PAD_ENCODE;if(u<=229){const a=u-130;a<10&&r.append("0"),r.append(""+a)}else switch(u){case 230:return Bn.C40_ENCODE;case 231:return Bn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return Bn.ANSIX12_ENCODE;case 239:return Bn.TEXT_ENCODE;case 240:return Bn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new M;break}}while(t.available()>0);return Bn.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const l=[];let u=0;do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),l);for(let s=0;s<3;s++){const c=l[s];switch(u){case 0:if(c<3)u=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){const f=this.C40_BASIC_SET_CHARS[c];i?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),i=!1):r.append(f)}else throw new M;break;case 1:i?(r.append(String.fromCharCode(c+128)),i=!1):r.append(String.fromCharCode(c)),u=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){const f=this.C40_SHIFT2_SET_CHARS[c];i?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),i=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:i=!0;break;default:throw new M}u=0;break;case 3:i?(r.append(String.fromCharCode(c+224)),i=!1):r.append(String.fromCharCode(c+96)),u=0;break;default:throw new M}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,l=[],u=0;do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),l);for(let s=0;s<3;s++){const c=l[s];switch(u){case 0:if(c<3)u=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){const f=this.TEXT_BASIC_SET_CHARS[c];i?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),i=!1):r.append(f)}else throw new M;break;case 1:i?(r.append(String.fromCharCode(c+128)),i=!1):r.append(String.fromCharCode(c)),u=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){const f=this.TEXT_SHIFT2_SET_CHARS[c];i?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),i=!1):r.append(f)}else switch(c){case 27:r.append("");break;case 30:i=!0;break;default:throw new M}u=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){const f=this.TEXT_SHIFT3_SET_CHARS[c];i?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),i=!1):r.append(f),u=0}else throw new M;break;default:throw new M}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),i);for(let u=0;u<3;u++){const a=i[u];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new M;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let l=(t<<8)+r-1,u=Math.floor(l/1600);i[0]=u,l-=u*1600,u=Math.floor(l/40),i[1]=u,i[2]=l-u*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let l=t.readBits(6);if(l===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(l&32)===0&&(l|=64),r.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let l=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),l++);let a;if(u===0?a=t.available()/8|0:u<250?a=u:a=250*(u-249)+this.unrandomize255State(t.readBits(8),l++),a<0)throw new M;const s=new Uint8Array(a);for(let c=0;c<a;c++){if(t.available()<8)throw new M;s[c]=this.unrandomize255State(t.readBits(8),l++)}i.push(s);try{r.append(me.decode(s,J.ISO88591))}catch(c){throw new Ge("Platform does not support required encoding: "+c.message)}}static unrandomize255State(t,r){const i=149*r%255+1,l=t-i;return l>=0?l:l+256}}ua.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ua.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ua.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ua.TEXT_SHIFT2_SET_CHARS=ua.C40_SHIFT2_SET_CHARS,ua.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class yn{constructor(){this.rsDecoder=new Pe(yt.DATA_MATRIX_FIELD_256)}decode(t){const r=new Yt(t),i=r.getVersion(),l=r.readCodewords(),u=mi.getDataBlocks(l,i);let a=0;for(let f of u)a+=f.getNumDataCodewords();const s=new Uint8Array(a),c=u.length;for(let f=0;f<c;f++){const p=u[f],w=p.getCodewords(),N=p.getNumDataCodewords();this.correctErrors(w,N);for(let B=0;B<N;B++)s[B*c+f]=w[B]}return ua.decode(s)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new L}for(let l=0;l<r;l++)t[l]=i[l]}}class En{constructor(t){this.image=t,this.rectangleDetector=new ct(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new $;r=this.shiftToModuleCenter(r);const i=r[0],l=r[1],u=r[2],a=r[3];let s=this.transitionsBetween(i,a)+1,c=this.transitionsBetween(u,a)+1;(s&1)===1&&(s+=1),(c&1)===1&&(c+=1),4*s<7*c&&4*c<7*s&&(s=c=Math.max(s,c));let f=En.sampleGrid(this.image,i,l,u,a,s,c);return new ke(f,[i,l,u,a])}static shiftPoint(t,r,i){let l=(r.getX()-t.getX())/(i+1),u=(r.getY()-t.getY())/(i+1);return new Ee(t.getX()+l,t.getY()+u)}static moveAway(t,r,i){let l=t.getX(),u=t.getY();return l<r?l-=1:l+=1,u<i?u-=1:u+=1,new Ee(l,u)}detectSolid1(t){let r=t[0],i=t[1],l=t[3],u=t[2],a=this.transitionsBetween(r,i),s=this.transitionsBetween(i,l),c=this.transitionsBetween(l,u),f=this.transitionsBetween(u,r),p=a,w=[u,r,i,l];return p>s&&(p=s,w[0]=r,w[1]=i,w[2]=l,w[3]=u),p>c&&(p=c,w[0]=i,w[1]=l,w[2]=u,w[3]=r),p>f&&(w[0]=l,w[1]=u,w[2]=r,w[3]=i),w}detectSolid2(t){let r=t[0],i=t[1],l=t[2],u=t[3],a=this.transitionsBetween(r,u),s=En.shiftPoint(i,l,(a+1)*4),c=En.shiftPoint(l,i,(a+1)*4),f=this.transitionsBetween(s,r),p=this.transitionsBetween(c,u);return f<p?(t[0]=r,t[1]=i,t[2]=l,t[3]=u):(t[0]=i,t[1]=l,t[2]=u,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],l=t[2],u=t[3],a=this.transitionsBetween(r,u),s=this.transitionsBetween(i,u),c=En.shiftPoint(r,i,(s+1)*4),f=En.shiftPoint(l,i,(a+1)*4);a=this.transitionsBetween(c,u),s=this.transitionsBetween(f,u);let p=new Ee(u.getX()+(l.getX()-i.getX())/(a+1),u.getY()+(l.getY()-i.getY())/(a+1)),w=new Ee(u.getX()+(r.getX()-i.getX())/(s+1),u.getY()+(r.getY()-i.getY())/(s+1));if(!this.isValid(p))return this.isValid(w)?w:null;if(!this.isValid(w))return p;let N=this.transitionsBetween(c,p)+this.transitionsBetween(f,p),B=this.transitionsBetween(c,w)+this.transitionsBetween(f,w);return N>B?p:w}shiftToModuleCenter(t){let r=t[0],i=t[1],l=t[2],u=t[3],a=this.transitionsBetween(r,u)+1,s=this.transitionsBetween(l,u)+1,c=En.shiftPoint(r,i,s*4),f=En.shiftPoint(l,i,a*4);a=this.transitionsBetween(c,u)+1,s=this.transitionsBetween(f,u)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);let p=(r.getX()+i.getX()+l.getX()+u.getX())/4,w=(r.getY()+i.getY()+l.getY()+u.getY())/4;r=En.moveAway(r,p,w),i=En.moveAway(i,p,w),l=En.moveAway(l,p,w),u=En.moveAway(u,p,w);let N,B;return c=En.shiftPoint(r,i,s*4),c=En.shiftPoint(c,u,a*4),N=En.shiftPoint(i,r,s*4),N=En.shiftPoint(N,l,a*4),f=En.shiftPoint(l,u,s*4),f=En.shiftPoint(f,i,a*4),B=En.shiftPoint(u,l,s*4),B=En.shiftPoint(B,r,a*4),[c,N,f,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,l,u,a,s){return At.getInstance().sampleGrid(t,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,r.getX(),r.getY(),u.getX(),u.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),l=Math.trunc(t.getY()),u=Math.trunc(r.getX()),a=Math.trunc(r.getY()),s=Math.abs(a-l)>Math.abs(u-i);if(s){let q=i;i=l,l=q,q=u,u=a,a=q}let c=Math.abs(u-i),f=Math.abs(a-l),p=-c/2,w=l<a?1:-1,N=i<u?1:-1,B=0,V=this.image.get(s?l:i,s?i:l);for(let q=i,re=l;q!==u;q+=N){let K=this.image.get(s?re:q,s?q:re);if(K!==V&&(B++,V=K),p+=f,p>0){if(re===a)break;re+=w,p-=c}}return B}}class Cr{constructor(){this.decoder=new yn}decode(t,r=null){let i,l;if(r!=null&&r.has(C.PURE_BARCODE)){const f=Cr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(f),l=Cr.NO_POINTS}else{const f=new En(t.getBlackMatrix()).detect();i=this.decoder.decode(f.getBits()),l=f.getPoints()}const u=i.getRawBytes(),a=new De(i.getText(),u,8*u.length,l,ze.DATA_MATRIX,P.currentTimeMillis()),s=i.getByteSegments();s!=null&&a.putMetadata(Xe.BYTE_SEGMENTS,s);const c=i.getECLevel();return c!=null&&a.putMetadata(Xe.ERROR_CORRECTION_LEVEL,c),a}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new $;const l=this.moduleSize(r,t);let u=r[1];const a=i[1];let s=r[0];const f=(i[0]-s+1)/l,p=(a-u+1)/l;if(f<=0||p<=0)throw new $;const w=l/2;u+=w,s+=w;const N=new j(f,p);for(let B=0;B<p;B++){const V=u+B*l;for(let q=0;q<f;q++)t.get(s+q*l,V)&&N.set(q,B)}return N}static moduleSize(t,r){const i=r.getWidth();let l=t[0];const u=t[1];for(;l<i&&r.get(l,u);)l++;if(l===i)throw new $;const a=l-t[0];if(a===0)throw new $;return a}}Cr.NO_POINTS=[];class Qa extends Ne{constructor(t=500){super(new Cr,t)}}var Qn;(function(G){G[G.L=0]="L",G[G.M=1]="M",G[G.Q=2]="Q",G[G.H=3]="H"})(Qn||(Qn={}));class fn{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,fn.FOR_BITS.set(i,this),fn.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return fn.L;case"M":return fn.M;case"Q":return fn.Q;case"H":return fn.H;default:throw new O(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof fn))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=fn.FOR_BITS.size)throw new D;return fn.FOR_BITS.get(t)}}fn.FOR_BITS=new Map,fn.FOR_VALUE=new Map,fn.L=new fn(Qn.L,"L",1),fn.M=new fn(Qn.M,"M",0),fn.Q=new fn(Qn.Q,"Q",3),fn.H=new fn(Qn.H,"H",2);class Kn{constructor(t){this.errorCorrectionLevel=fn.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return Q.bitCount(t^r)}static decodeFormatInformation(t,r){const i=Kn.doDecodeFormatInformation(t,r);return i!==null?i:Kn.doDecodeFormatInformation(t^Kn.FORMAT_INFO_MASK_QR,r^Kn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,l=0;for(const u of Kn.FORMAT_INFO_DECODE_LOOKUP){const a=u[0];if(a===t||a===r)return new Kn(u[1]);let s=Kn.numBitsDiffering(t,a);s<i&&(l=u[1],i=s),t!==r&&(s=Kn.numBitsDiffering(r,a),s<i&&(l=u[1],i=s))}return i<=3?new Kn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Kn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Kn.FORMAT_INFO_MASK_QR=21522,Kn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Te{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ue{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let l=0;const u=i[0].getECCodewordsPerBlock(),a=i[0].getECBlocks();for(const s of a)l+=s.getCount()*(s.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new M;try{return this.getVersionForNumber((t-17)/4)}catch{throw new M}}static getVersionForNumber(t){if(t<1||t>40)throw new D;return bt.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<bt.VERSION_DECODE_INFO.length;l++){const u=bt.VERSION_DECODE_INFO[l];if(u===t)return bt.getVersionForNumber(l+7);const a=Kn.numBitsDiffering(t,u);a<r&&(i=l+7,r=a)}return r<=3?bt.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new j(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const u=this.alignmentPatternCenters[l]-2;for(let a=0;a<i;a++)l===0&&(a===0||a===i-1)||l===i-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,u,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),bt.VERSIONS=[new bt(1,new Int32Array(0),new Te(7,new ue(1,19)),new Te(10,new ue(1,16)),new Te(13,new ue(1,13)),new Te(17,new ue(1,9))),new bt(2,Int32Array.from([6,18]),new Te(10,new ue(1,34)),new Te(16,new ue(1,28)),new Te(22,new ue(1,22)),new Te(28,new ue(1,16))),new bt(3,Int32Array.from([6,22]),new Te(15,new ue(1,55)),new Te(26,new ue(1,44)),new Te(18,new ue(2,17)),new Te(22,new ue(2,13))),new bt(4,Int32Array.from([6,26]),new Te(20,new ue(1,80)),new Te(18,new ue(2,32)),new Te(26,new ue(2,24)),new Te(16,new ue(4,9))),new bt(5,Int32Array.from([6,30]),new Te(26,new ue(1,108)),new Te(24,new ue(2,43)),new Te(18,new ue(2,15),new ue(2,16)),new Te(22,new ue(2,11),new ue(2,12))),new bt(6,Int32Array.from([6,34]),new Te(18,new ue(2,68)),new Te(16,new ue(4,27)),new Te(24,new ue(4,19)),new Te(28,new ue(4,15))),new bt(7,Int32Array.from([6,22,38]),new Te(20,new ue(2,78)),new Te(18,new ue(4,31)),new Te(18,new ue(2,14),new ue(4,15)),new Te(26,new ue(4,13),new ue(1,14))),new bt(8,Int32Array.from([6,24,42]),new Te(24,new ue(2,97)),new Te(22,new ue(2,38),new ue(2,39)),new Te(22,new ue(4,18),new ue(2,19)),new Te(26,new ue(4,14),new ue(2,15))),new bt(9,Int32Array.from([6,26,46]),new Te(30,new ue(2,116)),new Te(22,new ue(3,36),new ue(2,37)),new Te(20,new ue(4,16),new ue(4,17)),new Te(24,new ue(4,12),new ue(4,13))),new bt(10,Int32Array.from([6,28,50]),new Te(18,new ue(2,68),new ue(2,69)),new Te(26,new ue(4,43),new ue(1,44)),new Te(24,new ue(6,19),new ue(2,20)),new Te(28,new ue(6,15),new ue(2,16))),new bt(11,Int32Array.from([6,30,54]),new Te(20,new ue(4,81)),new Te(30,new ue(1,50),new ue(4,51)),new Te(28,new ue(4,22),new ue(4,23)),new Te(24,new ue(3,12),new ue(8,13))),new bt(12,Int32Array.from([6,32,58]),new Te(24,new ue(2,92),new ue(2,93)),new Te(22,new ue(6,36),new ue(2,37)),new Te(26,new ue(4,20),new ue(6,21)),new Te(28,new ue(7,14),new ue(4,15))),new bt(13,Int32Array.from([6,34,62]),new Te(26,new ue(4,107)),new Te(22,new ue(8,37),new ue(1,38)),new Te(24,new ue(8,20),new ue(4,21)),new Te(22,new ue(12,11),new ue(4,12))),new bt(14,Int32Array.from([6,26,46,66]),new Te(30,new ue(3,115),new ue(1,116)),new Te(24,new ue(4,40),new ue(5,41)),new Te(20,new ue(11,16),new ue(5,17)),new Te(24,new ue(11,12),new ue(5,13))),new bt(15,Int32Array.from([6,26,48,70]),new Te(22,new ue(5,87),new ue(1,88)),new Te(24,new ue(5,41),new ue(5,42)),new Te(30,new ue(5,24),new ue(7,25)),new Te(24,new ue(11,12),new ue(7,13))),new bt(16,Int32Array.from([6,26,50,74]),new Te(24,new ue(5,98),new ue(1,99)),new Te(28,new ue(7,45),new ue(3,46)),new Te(24,new ue(15,19),new ue(2,20)),new Te(30,new ue(3,15),new ue(13,16))),new bt(17,Int32Array.from([6,30,54,78]),new Te(28,new ue(1,107),new ue(5,108)),new Te(28,new ue(10,46),new ue(1,47)),new Te(28,new ue(1,22),new ue(15,23)),new Te(28,new ue(2,14),new ue(17,15))),new bt(18,Int32Array.from([6,30,56,82]),new Te(30,new ue(5,120),new ue(1,121)),new Te(26,new ue(9,43),new ue(4,44)),new Te(28,new ue(17,22),new ue(1,23)),new Te(28,new ue(2,14),new ue(19,15))),new bt(19,Int32Array.from([6,30,58,86]),new Te(28,new ue(3,113),new ue(4,114)),new Te(26,new ue(3,44),new ue(11,45)),new Te(26,new ue(17,21),new ue(4,22)),new Te(26,new ue(9,13),new ue(16,14))),new bt(20,Int32Array.from([6,34,62,90]),new Te(28,new ue(3,107),new ue(5,108)),new Te(26,new ue(3,41),new ue(13,42)),new Te(30,new ue(15,24),new ue(5,25)),new Te(28,new ue(15,15),new ue(10,16))),new bt(21,Int32Array.from([6,28,50,72,94]),new Te(28,new ue(4,116),new ue(4,117)),new Te(26,new ue(17,42)),new Te(28,new ue(17,22),new ue(6,23)),new Te(30,new ue(19,16),new ue(6,17))),new bt(22,Int32Array.from([6,26,50,74,98]),new Te(28,new ue(2,111),new ue(7,112)),new Te(28,new ue(17,46)),new Te(30,new ue(7,24),new ue(16,25)),new Te(24,new ue(34,13))),new bt(23,Int32Array.from([6,30,54,78,102]),new Te(30,new ue(4,121),new ue(5,122)),new Te(28,new ue(4,47),new ue(14,48)),new Te(30,new ue(11,24),new ue(14,25)),new Te(30,new ue(16,15),new ue(14,16))),new bt(24,Int32Array.from([6,28,54,80,106]),new Te(30,new ue(6,117),new ue(4,118)),new Te(28,new ue(6,45),new ue(14,46)),new Te(30,new ue(11,24),new ue(16,25)),new Te(30,new ue(30,16),new ue(2,17))),new bt(25,Int32Array.from([6,32,58,84,110]),new Te(26,new ue(8,106),new ue(4,107)),new Te(28,new ue(8,47),new ue(13,48)),new Te(30,new ue(7,24),new ue(22,25)),new Te(30,new ue(22,15),new ue(13,16))),new bt(26,Int32Array.from([6,30,58,86,114]),new Te(28,new ue(10,114),new ue(2,115)),new Te(28,new ue(19,46),new ue(4,47)),new Te(28,new ue(28,22),new ue(6,23)),new Te(30,new ue(33,16),new ue(4,17))),new bt(27,Int32Array.from([6,34,62,90,118]),new Te(30,new ue(8,122),new ue(4,123)),new Te(28,new ue(22,45),new ue(3,46)),new Te(30,new ue(8,23),new ue(26,24)),new Te(30,new ue(12,15),new ue(28,16))),new bt(28,Int32Array.from([6,26,50,74,98,122]),new Te(30,new ue(3,117),new ue(10,118)),new Te(28,new ue(3,45),new ue(23,46)),new Te(30,new ue(4,24),new ue(31,25)),new Te(30,new ue(11,15),new ue(31,16))),new bt(29,Int32Array.from([6,30,54,78,102,126]),new Te(30,new ue(7,116),new ue(7,117)),new Te(28,new ue(21,45),new ue(7,46)),new Te(30,new ue(1,23),new ue(37,24)),new Te(30,new ue(19,15),new ue(26,16))),new bt(30,Int32Array.from([6,26,52,78,104,130]),new Te(30,new ue(5,115),new ue(10,116)),new Te(28,new ue(19,47),new ue(10,48)),new Te(30,new ue(15,24),new ue(25,25)),new Te(30,new ue(23,15),new ue(25,16))),new bt(31,Int32Array.from([6,30,56,82,108,134]),new Te(30,new ue(13,115),new ue(3,116)),new Te(28,new ue(2,46),new ue(29,47)),new Te(30,new ue(42,24),new ue(1,25)),new Te(30,new ue(23,15),new ue(28,16))),new bt(32,Int32Array.from([6,34,60,86,112,138]),new Te(30,new ue(17,115)),new Te(28,new ue(10,46),new ue(23,47)),new Te(30,new ue(10,24),new ue(35,25)),new Te(30,new ue(19,15),new ue(35,16))),new bt(33,Int32Array.from([6,30,58,86,114,142]),new Te(30,new ue(17,115),new ue(1,116)),new Te(28,new ue(14,46),new ue(21,47)),new Te(30,new ue(29,24),new ue(19,25)),new Te(30,new ue(11,15),new ue(46,16))),new bt(34,Int32Array.from([6,34,62,90,118,146]),new Te(30,new ue(13,115),new ue(6,116)),new Te(28,new ue(14,46),new ue(23,47)),new Te(30,new ue(44,24),new ue(7,25)),new Te(30,new ue(59,16),new ue(1,17))),new bt(35,Int32Array.from([6,30,54,78,102,126,150]),new Te(30,new ue(12,121),new ue(7,122)),new Te(28,new ue(12,47),new ue(26,48)),new Te(30,new ue(39,24),new ue(14,25)),new Te(30,new ue(22,15),new ue(41,16))),new bt(36,Int32Array.from([6,24,50,76,102,128,154]),new Te(30,new ue(6,121),new ue(14,122)),new Te(28,new ue(6,47),new ue(34,48)),new Te(30,new ue(46,24),new ue(10,25)),new Te(30,new ue(2,15),new ue(64,16))),new bt(37,Int32Array.from([6,28,54,80,106,132,158]),new Te(30,new ue(17,122),new ue(4,123)),new Te(28,new ue(29,46),new ue(14,47)),new Te(30,new ue(49,24),new ue(10,25)),new Te(30,new ue(24,15),new ue(46,16))),new bt(38,Int32Array.from([6,32,58,84,110,136,162]),new Te(30,new ue(4,122),new ue(18,123)),new Te(28,new ue(13,46),new ue(32,47)),new Te(30,new ue(48,24),new ue(14,25)),new Te(30,new ue(42,15),new ue(32,16))),new bt(39,Int32Array.from([6,26,54,82,110,138,166]),new Te(30,new ue(20,117),new ue(4,118)),new Te(28,new ue(40,47),new ue(7,48)),new Te(30,new ue(43,24),new ue(22,25)),new Te(30,new ue(10,15),new ue(67,16))),new bt(40,Int32Array.from([6,30,58,86,114,142,170]),new Te(30,new ue(19,118),new ue(6,119)),new Te(28,new ue(18,47),new ue(31,48)),new Te(30,new ue(34,24),new ue(34,25)),new Te(30,new ue(20,15),new ue(61,16)))];var jn;(function(G){G[G.DATA_MASK_000=0]="DATA_MASK_000",G[G.DATA_MASK_001=1]="DATA_MASK_001",G[G.DATA_MASK_010=2]="DATA_MASK_010",G[G.DATA_MASK_011=3]="DATA_MASK_011",G[G.DATA_MASK_100=4]="DATA_MASK_100",G[G.DATA_MASK_101=5]="DATA_MASK_101",G[G.DATA_MASK_110=6]="DATA_MASK_110",G[G.DATA_MASK_111=7]="DATA_MASK_111"})(jn||(jn={}));class tr{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let l=0;l<r;l++)this.isMasked(i,l)&&t.flip(l,i)}}tr.values=new Map([[jn.DATA_MASK_000,new tr(jn.DATA_MASK_000,(G,t)=>(G+t&1)===0)],[jn.DATA_MASK_001,new tr(jn.DATA_MASK_001,(G,t)=>(G&1)===0)],[jn.DATA_MASK_010,new tr(jn.DATA_MASK_010,(G,t)=>t%3===0)],[jn.DATA_MASK_011,new tr(jn.DATA_MASK_011,(G,t)=>(G+t)%3===0)],[jn.DATA_MASK_100,new tr(jn.DATA_MASK_100,(G,t)=>(Math.floor(G/2)+Math.floor(t/3)&1)===0)],[jn.DATA_MASK_101,new tr(jn.DATA_MASK_101,(G,t)=>G*t%6===0)],[jn.DATA_MASK_110,new tr(jn.DATA_MASK_110,(G,t)=>G*t%6<3)],[jn.DATA_MASK_111,new tr(jn.DATA_MASK_111,(G,t)=>(G+t+G*t%3&1)===0)]]);class lo{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new M;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const r=this.bitMatrix.getHeight();let i=0;const l=r-7;for(let u=r-1;u>=l;u--)i=this.copyBit(8,u,i);for(let u=r-8;u<r;u++)i=this.copyBit(u,8,i);if(this.parsedFormatInfo=Kn.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return bt.getVersionForNumber(r);let i=0;const l=t-11;for(let a=5;a>=0;a--)for(let s=t-9;s>=l;s--)i=this.copyBit(s,a,i);let u=bt.decodeVersionInformation(i);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;i=0;for(let a=5;a>=0;a--)for(let s=t-9;s>=l;s--)i=this.copyBit(a,s,i);if(u=bt.decodeVersionInformation(i),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new M}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=tr.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const u=r.buildFunctionPattern();let a=!0;const s=new Uint8Array(r.getTotalCodewords());let c=0,f=0,p=0;for(let w=l-1;w>0;w-=2){w===6&&w--;for(let N=0;N<l;N++){const B=a?l-1-N:N;for(let V=0;V<2;V++)u.get(w-V,B)||(p++,f<<=1,this.bitMatrix.get(w-V,B)&&(f|=1),p===8&&(s[c++]=f,p=0,f=0))}a=!a}if(c!==r.getTotalCodewords())throw new M;return s}remask(){if(this.parsedFormatInfo===null)return;const t=tr.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let l=r+1,u=t.getHeight();l<u;l++)t.get(r,l)!==t.get(l,r)&&(t.flip(l,r),t.flip(r,l))}}class tn{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new D;const l=r.getECBlocksForLevel(i);let u=0;const a=l.getECBlocks();for(const V of a)u+=V.getCount();const s=new Array(u);let c=0;for(const V of a)for(let q=0;q<V.getCount();q++){const re=V.getDataCodewords(),K=l.getECCodewordsPerBlock()+re;s[c++]=new tn(re,new Uint8Array(K))}const f=s[0].codewords.length;let p=s.length-1;for(;p>=0&&s[p].codewords.length!==f;)p--;p++;const w=f-l.getECCodewordsPerBlock();let N=0;for(let V=0;V<w;V++)for(let q=0;q<c;q++)s[q].codewords[V]=t[N++];for(let V=p;V<c;V++)s[V].codewords[w]=t[N++];const B=s[0].codewords.length;for(let V=w;V<B;V++)for(let q=0;q<c;q++){const re=q<p?V:V+1;s[q].codewords[re]=t[N++]}return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ir;(function(G){G[G.TERMINATOR=0]="TERMINATOR",G[G.NUMERIC=1]="NUMERIC",G[G.ALPHANUMERIC=2]="ALPHANUMERIC",G[G.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",G[G.BYTE=4]="BYTE",G[G.ECI=5]="ECI",G[G.KANJI=6]="KANJI",G[G.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",G[G.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",G[G.HANZI=9]="HANZI"})(Ir||(Ir={}));class _t{constructor(t,r,i,l){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=l,_t.FOR_BITS.set(l,this),_t.FOR_VALUE.set(t,this)}static forBits(t){const r=_t.FOR_BITS.get(t);if(r===void 0)throw new D;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof _t))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.TERMINATOR=new _t(Ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_t.NUMERIC=new _t(Ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_t.ALPHANUMERIC=new _t(Ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_t.STRUCTURED_APPEND=new _t(Ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_t.BYTE=new _t(Ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_t.ECI=new _t(Ir.ECI,"ECI",Int32Array.from([0,0,0]),7),_t.KANJI=new _t(Ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_t.FNC1_FIRST_POSITION=new _t(Ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_t.FNC1_SECOND_POSITION=new _t(Ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_t.HANZI=new _t(Ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ln{static decode(t,r,i,l){const u=new Er(t);let a=new ge;const s=new Array;let c=-1,f=-1;try{let p=null,w=!1,N;do{if(u.available()<4)N=_t.TERMINATOR;else{const B=u.readBits(4);N=_t.forBits(B)}switch(N){case _t.TERMINATOR:break;case _t.FNC1_FIRST_POSITION:case _t.FNC1_SECOND_POSITION:w=!0;break;case _t.STRUCTURED_APPEND:if(u.available()<16)throw new M;c=u.readBits(8),f=u.readBits(8);break;case _t.ECI:const B=Ln.parseECIValue(u);if(p=H.getCharacterSetECIByValue(B),p===null)throw new M;break;case _t.HANZI:const V=u.readBits(4),q=u.readBits(N.getCharacterCountBits(r));V===Ln.GB2312_SUBSET&&Ln.decodeHanziSegment(u,a,q);break;default:const re=u.readBits(N.getCharacterCountBits(r));switch(N){case _t.NUMERIC:Ln.decodeNumericSegment(u,a,re);break;case _t.ALPHANUMERIC:Ln.decodeAlphanumericSegment(u,a,re,w);break;case _t.BYTE:Ln.decodeByteSegment(u,a,re,p,s,l);break;case _t.KANJI:Ln.decodeKanjiSegment(u,a,re);break;default:throw new M}break}}while(N!==_t.TERMINATOR)}catch{throw new M}return new Ve(t,a.toString(),s.length===0?null:s,i===null?null:i.toString(),c,f)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new M;const l=new Uint8Array(2*i);let u=0;for(;i>0;){const a=t.readBits(13);let s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,l[u]=s>>8&255,l[u+1]=s&255,u+=2,i--}try{r.append(me.decode(l,J.GB2312))}catch(a){throw new M(a)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new M;const l=new Uint8Array(2*i);let u=0;for(;i>0;){const a=t.readBits(13);let s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,l[u]=s>>8,l[u+1]=s,u+=2,i--}try{r.append(me.decode(l,J.SHIFT_JIS))}catch(a){throw new M(a)}}static decodeByteSegment(t,r,i,l,u,a){if(8*i>t.available())throw new M;const s=new Uint8Array(i);for(let f=0;f<i;f++)s[f]=t.readBits(8);let c;l===null?c=J.guessEncoding(s,a):c=l.getName();try{r.append(me.decode(s,c))}catch(f){throw new M(f)}u.push(s)}static toAlphaNumericChar(t){if(t>=Ln.ALPHANUMERIC_CHARS.length)throw new M;return Ln.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,l){const u=r.length();for(;i>1;){if(t.available()<11)throw new M;const a=t.readBits(11);r.append(Ln.toAlphaNumericChar(Math.floor(a/45))),r.append(Ln.toAlphaNumericChar(a%45)),i-=2}if(i===1){if(t.available()<6)throw new M;r.append(Ln.toAlphaNumericChar(t.readBits(6)))}if(l)for(let a=u;a<r.length();a++)r.charAt(a)==="%"&&(a<r.length()-1&&r.charAt(a+1)==="%"?r.deleteCharAt(a+1):r.setCharAt(a,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new M;const l=t.readBits(10);if(l>=1e3)throw new M;r.append(Ln.toAlphaNumericChar(Math.floor(l/100))),r.append(Ln.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(Ln.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(t.available()<7)throw new M;const l=t.readBits(7);if(l>=100)throw new M;r.append(Ln.toAlphaNumericChar(Math.floor(l/10))),r.append(Ln.toAlphaNumericChar(l%10))}else if(i===1){if(t.available()<4)throw new M;const l=t.readBits(4);if(l>=10)throw new M;r.append(Ln.toAlphaNumericChar(l))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new M}}Ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ln.GB2312_SUBSET=1;class Rr{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class ca{constructor(){this.rsDecoder=new Pe(yt.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(j.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new lo(t);let l=null;try{return this.decodeBitMatrixParser(i,r)}catch(u){l=u}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const u=this.decodeBitMatrixParser(i,r);return u.setOther(new Rr(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(t,r){const i=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),a=tn.getDataBlocks(u,i,l);let s=0;for(const p of a)s+=p.getNumDataCodewords();const c=new Uint8Array(s);let f=0;for(const p of a){const w=p.getCodewords(),N=p.getNumDataCodewords();this.correctErrors(w,N);for(let B=0;B<N;B++)c[f++]=w[B]}return Ln.decode(c,i,l,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new L}for(let l=0;l<r;l++)t[l]=i[l]}}class Na extends Ee{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const l=(this.getX()+r)/2,u=(this.getY()+t)/2,a=(this.estimatedModuleSize+i)/2;return new Na(l,u,a)}}class jr{constructor(t,r,i,l,u,a,s){this.image=t,this.startX=r,this.startY=i,this.width=l,this.height=u,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,l=t+i,u=this.startY+r/2,a=new Int32Array(3),s=this.image;for(let c=0;c<r;c++){const f=u+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));a[0]=0,a[1]=0,a[2]=0;let p=t;for(;p<l&&!s.get(p,f);)p++;let w=0;for(;p<l;){if(s.get(p,f))if(w===1)a[1]++;else if(w===2){if(this.foundPatternCross(a)){const N=this.handlePossibleCenter(a,f,p);if(N!==null)return N}a[0]=a[2],a[1]=1,a[2]=0,w=1}else a[++w]++;else w===1&&w++,a[w]++;p++}if(this.foundPatternCross(a)){const N=this.handlePossibleCenter(a,f,l);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let l=0;l<3;l++)if(Math.abs(r-t[l])>=i)return!1;return!0}crossCheckVertical(t,r,i,l){const u=this.image,a=u.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let c=t;for(;c>=0&&u.get(r,c)&&s[1]<=i;)s[1]++,c--;if(c<0||s[1]>i)return NaN;for(;c>=0&&!u.get(r,c)&&s[0]<=i;)s[0]++,c--;if(s[0]>i)return NaN;for(c=t+1;c<a&&u.get(r,c)&&s[1]<=i;)s[1]++,c++;if(c===a||s[1]>i)return NaN;for(;c<a&&!u.get(r,c)&&s[2]<=i;)s[2]++,c++;if(s[2]>i)return NaN;const f=s[0]+s[1]+s[2];return 5*Math.abs(f-l)>=2*l?NaN:this.foundPatternCross(s)?jr.centerFromEnd(s,c):NaN}handlePossibleCenter(t,r,i){const l=t[0]+t[1]+t[2],u=jr.centerFromEnd(t,i),a=this.crossCheckVertical(r,u,2*t[1],l);if(!isNaN(a)){const s=(t[0]+t[1]+t[2])/3;for(const f of this.possibleCenters)if(f.aboutEquals(s,a,u))return f.combineEstimate(a,u,s);const c=new Na(u,a,s);this.possibleCenters.push(c),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(c)}return null}}class da extends Ee{constructor(t,r,i,l){super(t,r),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const l=this.count+1,u=(this.count*this.getX()+r)/l,a=(this.count*this.getY()+t)/l,s=(this.count*this.estimatedModuleSize+i)/l;return new da(u,a,s,l)}}class Ua{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(C.TRY_HARDER)!==void 0,i=t!=null&&t.get(C.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),a=l.getWidth();let s=Math.floor(3*u/(4*$t.MAX_MODULES));(s<$t.MIN_SKIP||r)&&(s=$t.MIN_SKIP);let c=!1;const f=new Int32Array(5);for(let w=s-1;w<u&&!c;w+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;let N=0;for(let B=0;B<a;B++)if(l.get(B,w))(N&1)===1&&N++,f[N]++;else if((N&1)===0)if(N===4)if($t.foundPatternCross(f)){if(this.handlePossibleCenter(f,w,B,i)===!0)if(s=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{const q=this.findRowSkip();q>f[2]&&(w+=q-f[2]-s,B=a-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,N=3;continue}N=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,N=3;else f[++N]++;else f[N]++;$t.foundPatternCross(f)&&this.handlePossibleCenter(f,w,a,i)===!0&&(s=f[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return Ee.orderBestPatterns(p),new Ua(p)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let u=0;u<5;u++){const a=t[u];if(a===0)return!1;r+=a}if(r<7)return!1;const i=r/7,l=i/2;return Math.abs(i-t[0])<l&&Math.abs(i-t[1])<l&&Math.abs(3*i-t[2])<3*l&&Math.abs(i-t[3])<l&&Math.abs(i-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,l){const u=this.getCrossCheckStateCount();let a=0;const s=this.image;for(;t>=a&&r>=a&&s.get(r-a,t-a);)u[2]++,a++;if(t<a||r<a)return!1;for(;t>=a&&r>=a&&!s.get(r-a,t-a)&&u[1]<=i;)u[1]++,a++;if(t<a||r<a||u[1]>i)return!1;for(;t>=a&&r>=a&&s.get(r-a,t-a)&&u[0]<=i;)u[0]++,a++;if(u[0]>i)return!1;const c=s.getHeight(),f=s.getWidth();for(a=1;t+a<c&&r+a<f&&s.get(r+a,t+a);)u[2]++,a++;if(t+a>=c||r+a>=f)return!1;for(;t+a<c&&r+a<f&&!s.get(r+a,t+a)&&u[3]<i;)u[3]++,a++;if(t+a>=c||r+a>=f||u[3]>=i)return!1;for(;t+a<c&&r+a<f&&s.get(r+a,t+a)&&u[4]<i;)u[4]++,a++;if(u[4]>=i)return!1;const p=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(p-l)<2*l&&$t.foundPatternCross(u)}crossCheckVertical(t,r,i,l){const u=this.image,a=u.getHeight(),s=this.getCrossCheckStateCount();let c=t;for(;c>=0&&u.get(r,c);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!u.get(r,c)&&s[1]<=i;)s[1]++,c--;if(c<0||s[1]>i)return NaN;for(;c>=0&&u.get(r,c)&&s[0]<=i;)s[0]++,c--;if(s[0]>i)return NaN;for(c=t+1;c<a&&u.get(r,c);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!u.get(r,c)&&s[3]<i;)s[3]++,c++;if(c===a||s[3]>=i)return NaN;for(;c<a&&u.get(r,c)&&s[4]<i;)s[4]++,c++;if(s[4]>=i)return NaN;const f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-l)>=2*l?NaN:$t.foundPatternCross(s)?$t.centerFromEnd(s,c):NaN}crossCheckHorizontal(t,r,i,l){const u=this.image,a=u.getWidth(),s=this.getCrossCheckStateCount();let c=t;for(;c>=0&&u.get(c,r);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!u.get(c,r)&&s[1]<=i;)s[1]++,c--;if(c<0||s[1]>i)return NaN;for(;c>=0&&u.get(c,r)&&s[0]<=i;)s[0]++,c--;if(s[0]>i)return NaN;for(c=t+1;c<a&&u.get(c,r);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!u.get(c,r)&&s[3]<i;)s[3]++,c++;if(c===a||s[3]>=i)return NaN;for(;c<a&&u.get(c,r)&&s[4]<i;)s[4]++,c++;if(s[4]>=i)return NaN;const f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-l)>=l?NaN:$t.foundPatternCross(s)?$t.centerFromEnd(s,c):NaN}handlePossibleCenter(t,r,i,l){const u=t[0]+t[1]+t[2]+t[3]+t[4];let a=$t.centerFromEnd(t,i),s=this.crossCheckVertical(r,Math.floor(a),t[2],u);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),t[2],u),!isNaN(a)&&(!l||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),t[2],u)))){const c=u/7;let f=!1;const p=this.possibleCenters;for(let w=0,N=p.length;w<N;w++){const B=p[w];if(B.aboutEquals(c,s,a)){p[w]=B.combineEstimate(s,a,c),f=!0;break}}if(!f){const w=new da(a,s,c);p.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=$t.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=$t.CENTER_QUORUM&&(t++,r+=a.getEstimatedModuleSize());if(t<3)return!1;const l=r/i;let u=0;for(const a of this.possibleCenters)u+=Math.abs(a.getEstimatedModuleSize()-l);return u<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new $;const r=this.possibleCenters;let i;if(t>3){let l=0,u=0;for(const c of this.possibleCenters){const f=c.getEstimatedModuleSize();l+=f,u+=f*f}i=l/t;let a=Math.sqrt(u/t-i*i);r.sort((c,f)=>{const p=Math.abs(f.getEstimatedModuleSize()-i),w=Math.abs(c.getEstimatedModuleSize()-i);return p<w?-1:p>w?1:0});const s=Math.max(.2*i,a);for(let c=0;c<r.length&&r.length>3;c++){const f=r[c];Math.abs(f.getEstimatedModuleSize()-i)>s&&(r.splice(c,1),c--)}}if(r.length>3){let l=0;for(const u of r)l+=u.getEstimatedModuleSize();i=l/r.length,r.sort((u,a)=>{if(a.getCount()===u.getCount()){const s=Math.abs(a.getEstimatedModuleSize()-i),c=Math.abs(u.getEstimatedModuleSize()-i);return s<c?1:s>c?-1:0}else return a.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class gr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(C.NEED_RESULT_POINT_CALLBACK);const i=new $t(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),l=t.getBottomLeft(),u=this.calculateModuleSize(r,i,l);if(u<1)throw new $("No pattern found in proccess finder.");const a=gr.computeDimension(r,i,l,u),s=bt.getProvisionalVersionForDimension(a),c=s.getDimensionForVersion()-7;let f=null;if(s.getAlignmentPatternCenters().length>0){const B=i.getX()-r.getX()+l.getX(),V=i.getY()-r.getY()+l.getY(),q=1-3/c,re=Math.floor(r.getX()+q*(B-r.getX())),K=Math.floor(r.getY()+q*(V-r.getY()));for(let he=4;he<=16;he<<=1)try{f=this.findAlignmentInRegion(u,re,K,he);break}catch(ce){if(!(ce instanceof $))throw ce}}const p=gr.createTransform(r,i,l,f,a),w=gr.sampleGrid(this.image,p,a);let N;return f===null?N=[l,r,i]:N=[l,r,i,f],new ke(w,N)}static createTransform(t,r,i,l,u){const a=u-3.5;let s,c,f,p;return l!==null?(s=l.getX(),c=l.getY(),f=a-3,p=f):(s=r.getX()-t.getX()+i.getX(),c=r.getY()-t.getY()+i.getY(),f=a,p=a),ht.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,f,p,3.5,a,t.getX(),t.getY(),r.getX(),r.getY(),s,c,i.getX(),i.getY())}static sampleGrid(t,r,i){return At.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,l){const u=we.round(Ee.distance(t,r)/l),a=we.round(Ee.distance(t,i)/l);let s=Math.floor((u+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new $("Dimensions could be not found.")}return s}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,l){let u=this.sizeOfBlackWhiteBlackRun(t,r,i,l),a=1,s=t-(i-t);s<0?(a=t/(t-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-t)/(s-t),s=this.image.getWidth()-1);let c=Math.floor(r-(l-r)*a);return a=1,c<0?(a=r/(r-c),c=0):c>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),s=Math.floor(t+(s-t)*a),u+=this.sizeOfBlackWhiteBlackRun(t,r,s,c),u-1}sizeOfBlackWhiteBlackRun(t,r,i,l){const u=Math.abs(l-r)>Math.abs(i-t);if(u){let B=t;t=r,r=B,B=i,i=l,l=B}const a=Math.abs(i-t),s=Math.abs(l-r);let c=-a/2;const f=t<i?1:-1,p=r<l?1:-1;let w=0;const N=i+f;for(let B=t,V=r;B!==N;B+=f){const q=u?V:B,re=u?B:V;if(w===1===this.image.get(q,re)){if(w===2)return we.distance(B,V,t,r);w++}if(c+=s,c>0){if(V===l)break;V+=p,c-=a}}return w===2?we.distance(i+f,l,t,r):NaN}findAlignmentInRegion(t,r,i,l){const u=Math.floor(l*t),a=Math.max(0,r-u),s=Math.min(this.image.getWidth()-1,r+u);if(s-a<t*3)throw new $("Alignment top exceeds estimated module size.");const c=Math.max(0,i-u),f=Math.min(this.image.getHeight()-1,i+u);if(f-c<t*3)throw new $("Alignment bottom exceeds estimated module size.");return new jr(this.image,a,c,s-a,f-c,t,this.resultPointCallback).find()}}class Lr{constructor(){this.decoder=new ca}getDecoder(){return this.decoder}decode(t,r){let i,l;if(r!=null&&r.get(C.PURE_BARCODE)!==void 0){const c=Lr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(c,r),l=Lr.NO_POINTS}else{const c=new gr(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(c.getBits(),r),l=c.getPoints()}i.getOther()instanceof Rr&&i.getOther().applyMirroredCorrection(l);const u=new De(i.getText(),i.getRawBytes(),void 0,l,ze.QR_CODE,void 0),a=i.getByteSegments();a!==null&&u.putMetadata(Xe.BYTE_SEGMENTS,a);const s=i.getECLevel();return s!==null&&u.putMetadata(Xe.ERROR_CORRECTION_LEVEL,s),i.hasStructuredAppend()&&(u.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),u.putMetadata(Xe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new $;const l=this.moduleSize(r,t);let u=r[1],a=i[1],s=r[0],c=i[0];if(s>=c||u>=a)throw new $;if(a-u!==c-s&&(c=s+(a-u),c>=t.getWidth()))throw new $;const f=Math.round((c-s+1)/l),p=Math.round((a-u+1)/l);if(f<=0||p<=0)throw new $;if(p!==f)throw new $;const w=Math.floor(l/2);u+=w,s+=w;const N=s+Math.floor((f-1)*l)-c;if(N>0){if(N>w)throw new $;s-=N}const B=u+Math.floor((p-1)*l)-a;if(B>0){if(B>w)throw new $;u-=B}const V=new j(f,p);for(let q=0;q<p;q++){const re=u+Math.floor(q*l);for(let K=0;K<f;K++)t.get(s+Math.floor(K*l),re)&&V.set(K,q)}return V}static moduleSize(t,r){const i=r.getHeight(),l=r.getWidth();let u=t[0],a=t[1],s=!0,c=0;for(;u<l&&a<i;){if(s!==r.get(u,a)){if(++c===5)break;s=!s}u++,a++}if(u===l||a===i)throw new $;return(u-t[0])/7}}Lr.NO_POINTS=new Array;class wt{PDF417Common(){}static getBitCountSum(t){return we.sum(t)}static toIntArray(t){if(t==null||!t.length)return wt.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const l of t)r[i++]=l;return r}static getCodeword(t){const r=te.binarySearch(wt.SYMBOL_TABLE,t&262143);return r<0?-1:(wt.CODEWORD_TABLE[r]-1)%wt.NUMBER_OF_CODEWORDS}}wt.NUMBER_OF_CODEWORDS=929,wt.MAX_CODEWORDS_IN_BARCODE=wt.NUMBER_OF_CODEWORDS-1,wt.MIN_ROWS_IN_BARCODE=3,wt.MAX_ROWS_IN_BARCODE=90,wt.MODULES_IN_CODEWORD=17,wt.MODULES_IN_STOP_PATTERN=18,wt.BARS_IN_MODULE=8,wt.EMPTY_INT_ARRAY=new Int32Array([]),wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Kr{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class It{static detectMultiple(t,r,i){let l=t.getBlackMatrix(),u=It.detect(i,l);return u.length||(l=l.clone(),l.rotate180(),u=It.detect(i,l)),new Kr(l,u)}static detect(t,r){const i=new Array;let l=0,u=0,a=!1;for(;l<r.getHeight();){const s=It.findVertices(r,l,u);if(s[0]==null&&s[3]==null){if(!a)break;a=!1,u=0;for(const c of i)c[1]!=null&&(l=Math.trunc(Math.max(l,c[1].getY()))),c[3]!=null&&(l=Math.max(l,Math.trunc(c[3].getY())));l+=It.ROW_STEP;continue}if(a=!0,i.push(s),!t)break;s[2]!=null?(u=Math.trunc(s[2].getX()),l=Math.trunc(s[2].getY())):(u=Math.trunc(s[4].getX()),l=Math.trunc(s[4].getY()))}return i}static findVertices(t,r,i){const l=t.getHeight(),u=t.getWidth(),a=new Array(8);return It.copyToResult(a,It.findRowsWithPattern(t,l,u,r,i,It.START_PATTERN),It.INDEXES_START_PATTERN),a[4]!=null&&(i=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),It.copyToResult(a,It.findRowsWithPattern(t,l,u,r,i,It.STOP_PATTERN),It.INDEXES_STOP_PATTERN),a}static copyToResult(t,r,i){for(let l=0;l<i.length;l++)t[i[l]]=r[l]}static findRowsWithPattern(t,r,i,l,u,a){const s=new Array(4);let c=!1;const f=new Int32Array(a.length);for(;l<r;l+=It.ROW_STEP){let w=It.findGuardPattern(t,u,l,i,!1,a,f);if(w!=null){for(;l>0;){const N=It.findGuardPattern(t,u,--l,i,!1,a,f);if(N!=null)w=N;else{l++;break}}s[0]=new Ee(w[0],l),s[1]=new Ee(w[1],l),c=!0;break}}let p=l+1;if(c){let w=0,N=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;p<r;p++){const B=It.findGuardPattern(t,N[0],p,i,!1,a,f);if(B!=null&&Math.abs(N[0]-B[0])<It.MAX_PATTERN_DRIFT&&Math.abs(N[1]-B[1])<It.MAX_PATTERN_DRIFT)N=B,w=0;else{if(w>It.SKIPPED_ROW_COUNT_MAX)break;w++}}p-=w+1,s[2]=new Ee(N[0],p),s[3]=new Ee(N[1],p)}return p-l<It.BARCODE_MIN_HEIGHT&&te.fill(s,null),s}static findGuardPattern(t,r,i,l,u,a,s){te.fillWithin(s,0,s.length,0);let c=r,f=0;for(;t.get(c,i)&&c>0&&f++<It.MAX_PIXEL_DRIFT;)c--;let p=c,w=0,N=a.length;for(let B=u;p<l;p++)if(t.get(p,i)!==B)s[w]++;else{if(w===N-1){if(It.patternMatchVariance(s,a,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=s[0]+s[1],P.arraycopy(s,2,s,0,w-1),s[w-1]=0,s[w]=0,w--}else w++;s[w]=1,B=!B}return w===N-1&&It.patternMatchVariance(s,a,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null}static patternMatchVariance(t,r,i){let l=t.length,u=0,a=0;for(let f=0;f<l;f++)u+=t[f],a+=r[f];if(u<a)return 1/0;let s=u/a;i*=s;let c=0;for(let f=0;f<l;f++){let p=t[f],w=r[f]*s,N=p>w?p-w:w-p;if(N>i)return 1/0;c+=N}return c/u}}It.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),It.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),It.MAX_AVG_VARIANCE=.42,It.MAX_INDIVIDUAL_VARIANCE=.8,It.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),It.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),It.MAX_PIXEL_DRIFT=3,It.MAX_PATTERN_DRIFT=5,It.SKIPPED_ROW_COUNT_MAX=25,It.ROW_STEP=5,It.BARCODE_MIN_HEIGHT=10;class Xn{constructor(t,r){if(r.length===0)throw new D;this.field=t;let i=r.length;if(i>1&&r[0]===0){let l=1;for(;l<i&&r[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),P.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let r=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)r=this.field.add(this.field.multiply(t,r),this.coefficients[l]);return r}add(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let a=r;r=i,i=a}let l=new Int32Array(i.length),u=i.length-r.length;P.arraycopy(i,0,l,0,u);for(let a=u;a<i.length;a++)l[a]=this.field.add(r[a-u],i[a]);return new Xn(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Xn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Xn(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,l=t.coefficients,u=l.length,a=new Int32Array(i+u-1);for(let s=0;s<i;s++){let c=r[s];for(let f=0;f<u;f++)a[s+f]=this.field.add(a[s+f],this.field.multiply(c,l[f]))}return new Xn(this.field,a)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new Xn(this.field,r)}multiplyScalar(t){if(t===0)return new Xn(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let l=0;l<r;l++)i[l]=this.field.multiply(this.coefficients[l],t);return new Xn(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new D;if(r===0)return new Xn(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+t);for(let u=0;u<i;u++)l[u]=this.field.multiply(this.coefficients[u],r);return new Xn(this.field,l)}toString(){let t=new ge;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class ur{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}inverse(t){if(t===0)throw new vt;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Fa extends ur{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let l=0;l<t;l++)this.expTable[l]=i,i=i*r%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Xn(this,new Int32Array([0])),this.one=new Xn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new D;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new Xn(this,i)}}Fa.PDF417_GF=new Fa(wt.NUMBER_OF_CODEWORDS,3);class Ja{constructor(){this.field=Fa.PDF417_GF}decode(t,r,i){let l=new Xn(this.field,t),u=new Int32Array(r),a=!1;for(let V=r;V>0;V--){let q=l.evaluateAt(this.field.exp(V));u[r-V]=q,q!==0&&(a=!0)}if(!a)return 0;let s=this.field.getOne();if(i!=null)for(const V of i){let q=this.field.exp(t.length-1-V),re=new Xn(this.field,new Int32Array([this.field.subtract(0,q),1]));s=s.multiply(re)}let c=new Xn(this.field,u),f=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),c,r),p=f[0],w=f[1],N=this.findErrorLocations(p),B=this.findErrorMagnitudes(w,p,N);for(let V=0;V<N.length;V++){let q=t.length-1-this.field.log(N[V]);if(q<0)throw L.getChecksumInstance();t[q]=this.field.subtract(t[q],B[V])}return N.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let N=t;t=r,r=N}let l=t,u=r,a=this.field.getZero(),s=this.field.getOne();for(;u.getDegree()>=Math.round(i/2);){let N=l,B=a;if(l=u,a=s,l.isZero())throw L.getChecksumInstance();u=N;let V=this.field.getZero(),q=l.getCoefficient(l.getDegree()),re=this.field.inverse(q);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let K=u.getDegree()-l.getDegree(),he=this.field.multiply(u.getCoefficient(u.getDegree()),re);V=V.add(this.field.buildMonomial(K,he)),u=u.subtract(l.multiplyByMonomial(K,he))}s=V.multiply(a).subtract(B).negative()}let c=s.getCoefficient(0);if(c===0)throw L.getChecksumInstance();let f=this.field.inverse(c),p=s.multiply(f),w=u.multiply(f);return[p,w]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),l=0;for(let u=1;u<this.field.getSize()&&l<r;u++)t.evaluateAt(u)===0&&(i[l]=this.field.inverse(u),l++);if(l!==r)throw L.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let l=r.getDegree(),u=new Int32Array(l);for(let f=1;f<=l;f++)u[l-f]=this.field.multiply(f,r.getCoefficient(f));let a=new Xn(this.field,u),s=i.length,c=new Int32Array(s);for(let f=0;f<s;f++){let p=this.field.inverse(i[f]),w=this.field.subtract(0,t.evaluateAt(p)),N=this.field.inverse(a.evaluateAt(p));c[f]=this.field.multiply(w,N)}return c}}class ta{constructor(t,r,i,l,u){t instanceof ta?this.constructor_2(t):this.constructor_1(t,r,i,l,u)}constructor_1(t,r,i,l,u){const a=r==null||i==null,s=l==null||u==null;if(a&&s)throw new $;a?(r=new Ee(0,l.getY()),i=new Ee(0,u.getY())):s&&(l=new Ee(t.getWidth()-1,r.getY()),u=new Ee(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new ta(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let l=this.topLeft,u=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(t>0){let c=i?this.topLeft:this.topRight,f=Math.trunc(c.getY()-t);f<0&&(f=0);let p=new Ee(c.getX(),f);i?l=p:a=p}if(r>0){let c=i?this.bottomLeft:this.bottomRight,f=Math.trunc(c.getY()+r);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);let p=new Ee(c.getX(),f);i?u=p:s=p}return new ta(this.image,l,u,a,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ta{constructor(t,r,i,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class na{constructor(){this.buffer=""}static form(t,r){let i=-1;function l(a,s,c,f,p,w){if(a==="%%")return"%";if(r[++i]===void 0)return;a=f?parseInt(f.substr(1)):void 0;let N=p?parseInt(p.substr(1)):void 0,B;switch(w){case"s":B=r[i];break;case"c":B=r[i][0];break;case"f":B=parseFloat(r[i]).toFixed(a);break;case"p":B=parseFloat(r[i]).toPrecision(a);break;case"e":B=parseFloat(r[i]).toExponential(a);break;case"x":B=parseInt(r[i]).toString(N||16);break;case"d":B=parseFloat(parseInt(r[i],N||10).toPrecision(a)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(N);let V=parseInt(c),q=c&&c[0]+""=="0"?"0":" ";for(;B.length<V;)B=s!==void 0?B+q:q+B;return B}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,l)}format(t,...r){this.buffer+=na.form(t,r)}toString(){return this.buffer}}class Ha{constructor(t){this.boundingBox=new ta(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<Ha.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(t)-i;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(t)+i,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new na;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}Ha.MAX_NEARBY_DISTANCE=5;class nr{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,l]of this.values.entries()){const u={getKey:()=>i,getValue:()=>l};u.getValue()>t?(t=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===t&&r.push(u.getKey())}return wt.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Vr extends Ha{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(l.getY())),s=this.imageRowToCodewordIndex(Math.trunc(u.getY())),c=-1,f=1,p=0;for(let w=a;w<s;w++){if(r[w]==null)continue;let N=r[w],B=N.getRowNumber()-c;if(B===0)p++;else if(B===1)f=Math.max(f,p),p=1,c=N.getRowNumber();else if(B<0||N.getRowNumber()>=t.getRowCount()||B>w)r[w]=null;else{let V;f>2?V=(f-2)*B:V=B;let q=V>=w;for(let re=1;re<=V&&!q;re++)q=r[w-re]!=null;q?r[w]=null:(c=N.getRowNumber(),p=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(l.getY())),s=this.getCodewords(),c=-1;for(let f=u;f<a;f++){if(s[f]==null)continue;let p=s[f];p.setRowNumberAsRowIndicatorColumn();let w=p.getRowNumber()-c;w===0||(w===1?c=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?s[f]=null:c=p.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new nr,i=new nr,l=new nr,u=new nr;for(let s of t){if(s==null)continue;s.setRowNumberAsRowIndicatorColumn();let c=s.getValue()%30,f=s.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:i.setValue(c*3+1);break;case 1:u.setValue(c/3),l.setValue(c%3);break;case 2:r.setValue(c+1);break}}if(r.getValue().length===0||i.getValue().length===0||l.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<wt.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>wt.MAX_ROWS_IN_BARCODE)return null;let a=new Ta(r.getValue()[0],i.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,a),a}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let l=t[i];if(t[i]==null)continue;let u=l.getValue()%30,a=l.getRowNumber();if(a>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:u+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Oa{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=wt.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[i];u!=null&&(u.setRowNumber(t[i].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let l=r[i].getRowNumber(),u=0;for(let a=this.barcodeColumnCount+1;a>0&&u<this.ADJUST_ROW_NUMBER_SKIP;a--){let s=this.detectionResultColumns[a].getCodewords()[i];s!=null&&(u=Oa.adjustRowNumberIfValid(l,u,s),s.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let l=r[i].getRowNumber(),u=0;for(let a=1;a<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;a++){let s=this.detectionResultColumns[a].getCodewords()[i];s!=null&&(u=Oa.adjustRowNumberIfValid(l,u,s),s.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let l=i[r],u=this.detectionResultColumns[t-1].getCodewords(),a=u;this.detectionResultColumns[t+1]!=null&&(a=this.detectionResultColumns[t+1].getCodewords());let s=new Array(14);s[2]=u[r],s[3]=a[r],r>0&&(s[0]=i[r-1],s[4]=u[r-1],s[5]=a[r-1]),r>1&&(s[8]=i[r-2],s[10]=u[r-2],s[11]=a[r-2]),r<i.length-1&&(s[1]=i[r+1],s[6]=u[r+1],s[7]=a[r+1]),r<i.length-2&&(s[9]=i[r+2],s[12]=u[r+2],s[13]=a[r+2]);for(let c of s)if(Oa.adjustRowNumber(l,c))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new na;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[i];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class fa{constructor(t,r,i,l){this.rowNumber=fa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==fa.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}fa.BARCODE_ROW_UNKNOWN=-1;class cr{static initialize(){for(let t=0;t<wt.SYMBOL_TABLE.length;t++){let r=wt.SYMBOL_TABLE[t],i=r&1;for(let l=0;l<wt.BARS_IN_MODULE;l++){let u=0;for(;(r&1)===i;)u+=1,r>>=1;i=r&1,cr.RATIOS_TABLE[t]||(cr.RATIOS_TABLE[t]=new Array(wt.BARS_IN_MODULE)),cr.RATIOS_TABLE[t][wt.BARS_IN_MODULE-l-1]=Math.fround(u/wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=cr.getDecodedCodewordValue(cr.sampleBitCounts(t));return r!==-1?r:cr.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=we.sum(t),i=new Int32Array(wt.BARS_IN_MODULE),l=0,u=0;for(let a=0;a<wt.MODULES_IN_CODEWORD;a++){let s=r/(2*wt.MODULES_IN_CODEWORD)+a*r/wt.MODULES_IN_CODEWORD;u+t[l]<=s&&(u+=t[l],l++),i[l]++}return i}static getDecodedCodewordValue(t){let r=cr.getBitValue(t);return wt.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let l=0;l<t[i];l++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=we.sum(t),i=new Array(wt.BARS_IN_MODULE);if(r>1)for(let a=0;a<i.length;a++)i[a]=Math.fround(t[a]/r);let l=Ke.MAX_VALUE,u=-1;this.bSymbolTableReady||cr.initialize();for(let a=0;a<cr.RATIOS_TABLE.length;a++){let s=0,c=cr.RATIOS_TABLE[a];for(let f=0;f<wt.BARS_IN_MODULE;f++){let p=Math.fround(c[f]-i[f]);if(s+=Math.fround(p*p),s>=l)break}s<l&&(l=s,u=wt.SYMBOL_TABLE[a])}return u}}cr.bSymbolTableReady=!1,cr.RATIOS_TABLE=new Array(wt.SYMBOL_TABLE.length).map(G=>new Array(wt.BARS_IN_MODULE));class Ga{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class $a{static parseLong(t,r=void 0){return parseInt(t,r)}}class ei extends y{}ei.kind="NullPointerException";class Bi{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new ei;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new Z;if(i===0)return;for(let l=0;l<i;l++)this.write(t[r+l])}flush(){}close(){}}class Ds extends y{}class ls extends Bi{constructor(t=32){if(super(),this.count=0,t<0)throw new D("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Ds;i=Q.MAX_VALUE}this.buf=te.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new Z;this.ensureCapacity(this.count+i),P.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var hn;(function(G){G[G.ALPHA=0]="ALPHA",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.PUNCT=3]="PUNCT",G[G.ALPHA_SHIFT=4]="ALPHA_SHIFT",G[G.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hn||(hn={}));function us(){if(typeof window<"u")return window.BigInt||null;if(typeof Ea<"u")return Ea.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ha;function Zr(G){if(typeof ha>"u"&&(ha=us()),ha===null)throw new Error("BigInt is not supported!");return ha(G)}function ji(){let G=[];G[0]=Zr(1);let t=Zr(900);G[1]=t;for(let r=2;r<16;r++)G[r]=G[r-1]*t;return G}class Ue{static decode(t,r){let i=new ge(""),l=H.ISO8859_1;i.enableDecoding(l);let u=1,a=t[u++],s=new Ga;for(;u<t[0];){switch(a){case Ue.TEXT_COMPACTION_MODE_LATCH:u=Ue.textCompaction(t,u,i);break;case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:u=Ue.byteCompaction(a,t,l,u,i);break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u++]);break;case Ue.NUMERIC_COMPACTION_MODE_LATCH:u=Ue.numericCompaction(t,u,i);break;case Ue.ECI_CHARSET:H.getCharacterSetECIByValue(t[u++]);break;case Ue.ECI_GENERAL_PURPOSE:u+=2;break;case Ue.ECI_USER_DEFINED:u++;break;case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Ue.decodeMacroBlock(t,u,s);break;case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:throw new M;default:u--,u=Ue.textCompaction(t,u,i);break}if(u<t.length)a=t[u++];else throw M.getFormatInstance()}if(i.length()===0)throw M.getFormatInstance();let c=new Ve(null,i.toString(),null,r);return c.setOther(s),c}static decodeMacroBlock(t,r,i){if(r+Ue.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw M.getFormatInstance();let l=new Int32Array(Ue.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<Ue.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)l[s]=t[r];i.setSegmentIndex(Q.parseInt(Ue.decodeBase900toBase10(l,Ue.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ge;r=Ue.textCompaction(t,r,u),i.setFileId(u.toString());let a=-1;for(t[r]===Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=r+1);r<t[0];)switch(t[r]){case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let s=new ge;r=Ue.textCompaction(t,r+1,s),i.setFileName(s.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let c=new ge;r=Ue.textCompaction(t,r+1,c),i.setSender(c.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let f=new ge;r=Ue.textCompaction(t,r+1,f),i.setAddressee(f.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new ge;r=Ue.numericCompaction(t,r+1,p),i.setSegmentCount(Q.parseInt(p.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new ge;r=Ue.numericCompaction(t,r+1,w),i.setTimestamp($a.parseLong(w.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new ge;r=Ue.numericCompaction(t,r+1,N),i.setChecksum(Q.parseInt(N.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new ge;r=Ue.numericCompaction(t,r+1,B),i.setFileSize($a.parseLong(B.toString()));break;default:throw M.getFormatInstance()}break;case Ue.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(a!==-1){let s=r-a;i.isLastSegment()&&s--,i.setOptionalData(te.copyOfRange(t,a,a+s))}return r}static textCompaction(t,r,i){let l=new Int32Array((t[0]-r)*2),u=new Int32Array((t[0]-r)*2),a=0,s=!1;for(;r<t[0]&&!s;){let c=t[r++];if(c<Ue.TEXT_COMPACTION_MODE_LATCH)l[a]=c/30,l[a+1]=c%30,a+=2;else switch(c){case Ue.TEXT_COMPACTION_MODE_LATCH:l[a++]=Ue.TEXT_COMPACTION_MODE_LATCH;break;case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[a]=Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[r++],u[a]=c,a++;break}}return Ue.decodeTextCompaction(l,u,a,i),r}static decodeTextCompaction(t,r,i,l){let u=hn.ALPHA,a=hn.ALPHA,s=0;for(;s<i;){let c=t[s],f="";switch(u){case hn.ALPHA:if(c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case Ue.LL:u=hn.LOWER;break;case Ue.ML:u=hn.MIXED;break;case Ue.PS:a=u,u=hn.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[s]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:u=hn.ALPHA;break}break;case hn.LOWER:if(c<26)f=String.fromCharCode(97+c);else switch(c){case 26:f=" ";break;case Ue.AS:a=u,u=hn.ALPHA_SHIFT;break;case Ue.ML:u=hn.MIXED;break;case Ue.PS:a=u,u=hn.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[s]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:u=hn.ALPHA;break}break;case hn.MIXED:if(c<Ue.PL)f=Ue.MIXED_CHARS[c];else switch(c){case Ue.PL:u=hn.PUNCT;break;case 26:f=" ";break;case Ue.LL:u=hn.LOWER;break;case Ue.AL:u=hn.ALPHA;break;case Ue.PS:a=u,u=hn.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[s]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:u=hn.ALPHA;break}break;case hn.PUNCT:if(c<Ue.PAL)f=Ue.PUNCT_CHARS[c];else switch(c){case Ue.PAL:u=hn.ALPHA;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[s]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:u=hn.ALPHA;break}break;case hn.ALPHA_SHIFT:if(u=a,c<26)f=String.fromCharCode(65+c);else switch(c){case 26:f=" ";break;case Ue.TEXT_COMPACTION_MODE_LATCH:u=hn.ALPHA;break}break;case hn.PUNCT_SHIFT:if(u=a,c<Ue.PAL)f=Ue.PUNCT_CHARS[c];else switch(c){case Ue.PAL:u=hn.ALPHA;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[s]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:u=hn.ALPHA;break}break}f!==""&&l.append(f),s++}}static byteCompaction(t,r,i,l,u){let a=new ls,s=0,c=0,f=!1;switch(t){case Ue.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),w=r[l++];for(;l<r[0]&&!f;)switch(p[s++]=w,c=900*c+w,w=r[l++],w){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:l--,f=!0;break;default:if(s%5===0&&s>0){for(let N=0;N<6;++N)a.write(Number(Zr(c)>>Zr(8*(5-N))));c=0,s=0}break}l===r[0]&&w<Ue.TEXT_COMPACTION_MODE_LATCH&&(p[s++]=w);for(let N=0;N<s;N++)a.write(p[N]);break;case Ue.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!f;){let N=r[l++];if(N<Ue.TEXT_COMPACTION_MODE_LATCH)s++,c=900*c+N;else switch(N){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:l--,f=!0;break}if(s%5===0&&s>0){for(let B=0;B<6;++B)a.write(Number(Zr(c)>>Zr(8*(5-B))));c=0,s=0}}break}return u.append(me.decode(a.toByteArray(),i)),l}static numericCompaction(t,r,i){let l=0,u=!1,a=new Int32Array(Ue.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!u;){let s=t[r++];if(r===t[0]&&(u=!0),s<Ue.TEXT_COMPACTION_MODE_LATCH)a[l]=s,l++;else switch(s){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(l%Ue.MAX_NUMERIC_CODEWORDS===0||s===Ue.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(i.append(Ue.decodeBase900toBase10(a,l)),l=0)}return r}static decodeBase900toBase10(t,r){let i=Zr(0);for(let u=0;u<r;u++)i+=Ue.EXP900[r-u-1]*Zr(t[u]);let l=i.toString();if(l.charAt(0)!=="1")throw new M;return l.substring(1)}}Ue.TEXT_COMPACTION_MODE_LATCH=900,Ue.BYTE_COMPACTION_MODE_LATCH=901,Ue.NUMERIC_COMPACTION_MODE_LATCH=902,Ue.BYTE_COMPACTION_MODE_LATCH_6=924,Ue.ECI_USER_DEFINED=925,Ue.ECI_GENERAL_PURPOSE=926,Ue.ECI_CHARSET=927,Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ue.MACRO_PDF417_TERMINATOR=922,Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ue.MAX_NUMERIC_CODEWORDS=15,Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ue.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ue.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ue.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ue.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ue.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ue.PL=25,Ue.LL=27,Ue.AS=27,Ue.ML=28,Ue.AL=28,Ue.PS=29,Ue.PAL=29,Ue.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ue.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ue.EXP900=us()?ji():[],Ue.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xt{constructor(){}static decode(t,r,i,l,u,a,s){let c=new ta(t,r,i,l,u),f=null,p=null,w;for(let V=!0;;V=!1){if(r!=null&&(f=Xt.getRowIndicatorColumn(t,c,r,!0,a,s)),l!=null&&(p=Xt.getRowIndicatorColumn(t,c,l,!1,a,s)),w=Xt.merge(f,p),w==null)throw $.getNotFoundInstance();let q=w.getBoundingBox();if(V&&q!=null&&(q.getMinY()<c.getMinY()||q.getMaxY()>c.getMaxY()))c=q;else break}w.setBoundingBox(c);let N=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,f),w.setDetectionResultColumn(N,p);let B=f!=null;for(let V=1;V<=N;V++){let q=B?V:N-V;if(w.getDetectionResultColumn(q)!==void 0)continue;let re;q===0||q===N?re=new Vr(c,q===0):re=new Ha(c),w.setDetectionResultColumn(q,re);let K=-1,he=K;for(let ce=c.getMinY();ce<=c.getMaxY();ce++){if(K=Xt.getStartColumn(w,q,ce,B),K<0||K>c.getMaxX()){if(he===-1)continue;K=he}let de=Xt.detectCodeword(t,c.getMinX(),c.getMaxX(),B,K,ce,a,s);de!=null&&(re.setCodeword(ce,de),he=K,a=Math.min(a,de.getWidth()),s=Math.max(s,de.getWidth()))}}return Xt.createDecoderResult(w)}static merge(t,r){if(t==null&&r==null)return null;let i=Xt.getBarcodeMetadata(t,r);if(i==null)return null;let l=ta.merge(Xt.adjustBoundingBox(t),Xt.adjustBoundingBox(r));return new Oa(i,l)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=Xt.getMax(r),l=0;for(let s of r)if(l+=i-s,s>0)break;let u=t.getCodewords();for(let s=0;l>0&&u[s]==null;s++)l--;let a=0;for(let s=r.length-1;s>=0&&(a+=i-r[s],!(r[s]>0));s--);for(let s=u.length-1;a>0&&u[s]==null;s--)a--;return t.getBoundingBox().addMissingRows(l,a,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,l,u,a){let s=new Vr(r,l);for(let c=0;c<2;c++){let f=c===0?1:-1,p=Math.trunc(Math.trunc(i.getX()));for(let w=Math.trunc(Math.trunc(i.getY()));w<=r.getMaxY()&&w>=r.getMinY();w+=f){let N=Xt.detectCodeword(t,0,t.getWidth(),l,p,w,u,a);N!=null&&(s.setCodeword(w,N),l?p=N.getStartX():p=N.getEndX())}}return s}static adjustCodewordCount(t,r){let i=r[0][1],l=i.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Xt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(u<1||u>wt.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();i.setValue(u)}else l[0]!==u&&i.setValue(u)}static createDecoderResult(t){let r=Xt.createBarcodeMatrix(t);Xt.adjustCodewordCount(t,r);let i=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],a=new Array;for(let c=0;c<t.getBarcodeRowCount();c++)for(let f=0;f<t.getBarcodeColumnCount();f++){let p=r[c][f+1].getValue(),w=c*t.getBarcodeColumnCount()+f;p.length===0?i.push(w):p.length===1?l[w]=p[0]:(a.push(w),u.push(p))}let s=new Array(u.length);for(let c=0;c<s.length;c++)s[c]=u[c];return Xt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,wt.toIntArray(i),wt.toIntArray(a),s)}static createDecoderResultFromAmbiguousValues(t,r,i,l,u){let a=new Int32Array(l.length),s=100;for(;s-- >0;){for(let c=0;c<a.length;c++)r[l[c]]=u[c][a[c]];try{return Xt.decodeCodewords(r,t,i)}catch(c){if(!(c instanceof L))throw c}if(a.length===0)throw L.getChecksumInstance();for(let c=0;c<a.length;c++)if(a[c]<u[c].length-1){a[c]++;break}else if(a[c]=0,c===a.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let u=0;u<r[l].length;u++)r[l][u]=new nr;let i=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let a=u.getRowNumber();if(a>=0){if(a>=r.length)continue;r[a][i].setValue(u.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,l){let u=l?1:-1,a=null;if(Xt.isValidBarcodeColumn(t,r-u)&&(a=t.getDetectionResultColumn(r-u).getCodeword(i)),a!=null)return l?a.getEndX():a.getStartX();if(a=t.getDetectionResultColumn(r).getCodewordNearby(i),a!=null)return l?a.getStartX():a.getEndX();if(Xt.isValidBarcodeColumn(t,r-u)&&(a=t.getDetectionResultColumn(r-u).getCodewordNearby(i)),a!=null)return l?a.getEndX():a.getStartX();let s=0;for(;Xt.isValidBarcodeColumn(t,r-u);){r-=u;for(let c of t.getDetectionResultColumn(r).getCodewords())if(c!=null)return(l?c.getEndX():c.getStartX())+u*s*(c.getEndX()-c.getStartX());s++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,l,u,a,s,c){u=Xt.adjustCodewordStartColumn(t,r,i,l,u,a);let f=Xt.getModuleBitCount(t,r,i,l,u,a);if(f==null)return null;let p,w=we.sum(f);if(l)p=u+w;else{for(let V=0;V<f.length/2;V++){let q=f[V];f[V]=f[f.length-1-V],f[f.length-1-V]=q}p=u,u=p-w}if(!Xt.checkCodewordSkew(w,s,c))return null;let N=cr.getDecodedValue(f),B=wt.getCodeword(N);return B===-1?null:new fa(u,p,Xt.getCodewordBucketNumber(N),B)}static getModuleBitCount(t,r,i,l,u,a){let s=u,c=new Int32Array(8),f=0,p=l?1:-1,w=l;for(;(l?s<i:s>=r)&&f<c.length;)t.get(s,a)===w?(c[f]++,s+=p):(f++,w=!w);return f===c.length||s===(l?i:r)&&f===c.length-1?c:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,l,u,a){let s=u,c=l?-1:1;for(let f=0;f<2;f++){for(;(l?s>=r:s<i)&&l===t.get(s,a);){if(Math.abs(u-s)>Xt.CODEWORD_SKEW_SIZE)return u;s+=c}c=-c,l=!l}return s}static checkCodewordSkew(t,r,i){return r-Xt.CODEWORD_SKEW_SIZE<=t&&t<=i+Xt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw M.getFormatInstance();let l=1<<r+1,u=Xt.correctErrors(t,i,l);Xt.verifyCodewordCount(t,l);let a=Ue.decode(t,""+r);return a.setErrorsCorrected(u),a.setErasures(i.length),a}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+Xt.MAX_ERRORS||i<0||i>Xt.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return Xt.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw M.getFormatInstance();let i=t[0];if(i>t.length)throw M.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw M.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,l=r.length-1;for(;!((t&1)!==i&&(i=t&1,l--,l<0));)r[l]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Xt.getCodewordBucketNumber(Xt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new na;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let l=0;l<t[i].length;l++){let u=t[i][l];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}Xt.CODEWORD_SKEW_SIZE=2,Xt.MAX_ERRORS=3,Xt.MAX_EC_CODEWORDS=512,Xt.errorCorrection=new Ja;class Gn{decode(t,r=null){let i=Gn.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw $.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return Gn.decode(t,r,!0)}catch(i){throw i instanceof M||i instanceof L?$.getNotFoundInstance():i}}static decode(t,r,i){const l=new Array,u=It.detectMultiple(t,r,i);for(const a of u.getPoints()){const s=Xt.decode(u.getBits(),a[4],a[5],a[6],a[7],Gn.getMinCodewordWidth(a),Gn.getMaxCodewordWidth(a)),c=new De(s.getText(),s.getRawBytes(),void 0,a,ze.PDF_417);c.putMetadata(Xe.ERROR_CORRECTION_LEVEL,s.getECLevel());const f=s.getOther();f!=null&&c.putMetadata(Xe.PDF417_EXTRA_METADATA,f),l.push(c)}return l.map(a=>a)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?Q.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Gn.getMaxWidth(t[0],t[4]),Gn.getMaxWidth(t[6],t[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.max(Gn.getMaxWidth(t[1],t[5]),Gn.getMaxWidth(t[7],t[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Gn.getMinWidth(t[0],t[4]),Gn.getMinWidth(t[6],t[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.min(Gn.getMinWidth(t[1],t[5]),Gn.getMinWidth(t[7],t[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Va extends y{}Va.kind="ReaderException";class Li{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!g(t)&&t.get(C.TRY_HARDER)===!0,i=g(t)?null:t.get(C.POSSIBLE_FORMATS),l=new Array;if(!g(i)){const u=i.some(a=>a===ze.UPC_A||a===ze.UPC_E||a===ze.EAN_13||a===ze.EAN_8||a===ze.CODABAR||a===ze.CODE_39||a===ze.CODE_93||a===ze.CODE_128||a===ze.ITF||a===ze.RSS_14||a===ze.RSS_EXPANDED);u&&!r&&l.push(new ea(t,this.verbose)),i.includes(ze.QR_CODE)&&l.push(new Lr),i.includes(ze.DATA_MATRIX)&&l.push(new Cr),i.includes(ze.AZTEC)&&l.push(new Yn),i.includes(ze.PDF_417)&&l.push(new Gn),u&&r&&l.push(new ea(t,this.verbose))}l.length===0&&(r||l.push(new ea(t,this.verbose)),l.push(new Lr),l.push(new Cr),l.push(new Yn),l.push(new Gn),r&&l.push(new ea(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Va("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof Va)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class cs extends Ne{constructor(t=null,r=500){const i=new Li;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class ds extends Ne{constructor(t=500){super(new Gn,t)}}class pr extends Ne{constructor(t=500){super(new Lr,t)}}var ma;(function(G){G[G.ERROR_CORRECTION=0]="ERROR_CORRECTION",G[G.CHARACTER_SET=1]="CHARACTER_SET",G[G.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",G[G.MIN_SIZE=3]="MIN_SIZE",G[G.MAX_SIZE=4]="MAX_SIZE",G[G.MARGIN=5]="MARGIN",G[G.PDF417_COMPACT=6]="PDF417_COMPACT",G[G.PDF417_COMPACTION=7]="PDF417_COMPACTION",G[G.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",G[G.AZTEC_LAYERS=9]="AZTEC_LAYERS",G[G.QR_VERSION=10]="QR_VERSION"})(ma||(ma={}));var zn=ma;class zi{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Tt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const l=this.field;for(let u=r.length;u<=t;u++){const a=i.multiply(new Tt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));r.push(a),i=a}}return r[t]}encode(t,r){if(r===0)throw new D("No error correction bytes");const i=t.length-r;if(i<=0)throw new D("No data bytes provided");const l=this.buildGenerator(r),u=new Int32Array(i);P.arraycopy(t,0,u,0,i);let a=new Tt(this.field,u);a=a.multiplyByMonomial(r,1);const c=a.divide(l)[1].getCoefficients(),f=r-c.length;for(let p=0;p<f;p++)t[i+p]=0;P.arraycopy(c,0,t,i+f,c.length)}}class Sn{constructor(){}static applyMaskPenaltyRule1(t){return Sn.applyMaskPenaltyRule1Internal(t,!0)+Sn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),l=t.getWidth(),u=t.getHeight();for(let a=0;a<u-1;a++){const s=i[a];for(let c=0;c<l-1;c++){const f=s[c];f===s[c+1]&&f===i[a+1][c]&&f===i[a+1][c+1]&&r++}}return Sn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),l=t.getWidth(),u=t.getHeight();for(let a=0;a<u;a++)for(let s=0;s<l;s++){const c=i[a];s+6<l&&c[s]===1&&c[s+1]===0&&c[s+2]===1&&c[s+3]===1&&c[s+4]===1&&c[s+5]===0&&c[s+6]===1&&(Sn.isWhiteHorizontal(c,s-4,s)||Sn.isWhiteHorizontal(c,s+7,s+11))&&r++,a+6<u&&i[a][s]===1&&i[a+1][s]===0&&i[a+2][s]===1&&i[a+3][s]===1&&i[a+4][s]===1&&i[a+5][s]===0&&i[a+6][s]===1&&(Sn.isWhiteVertical(i,s,a-4,a)||Sn.isWhiteVertical(i,s,a+7,a+11))&&r++}return r*Sn.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let l=r;l<i;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,r,i,l){i=Math.max(i,0),l=Math.min(l,t.length);for(let u=i;u<l;u++)if(t[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),l=t.getWidth(),u=t.getHeight();for(let c=0;c<u;c++){const f=i[c];for(let p=0;p<l;p++)f[p]===1&&r++}const a=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-a)*10/a)*Sn.N4}static getDataMaskBit(t,r,i){let l,u;switch(t){case 0:l=i+r&1;break;case 1:l=i&1;break;case 2:l=r%3;break;case 3:l=(i+r)%3;break;case 4:l=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:u=i*r,l=(u&1)+u%3;break;case 6:u=i*r,l=(u&1)+u%3&1;break;case 7:u=i*r,l=u%3+(i+r&1)&1;break;default:throw new D("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const l=r?t.getHeight():t.getWidth(),u=r?t.getWidth():t.getHeight(),a=t.getArray();for(let s=0;s<l;s++){let c=0,f=-1;for(let p=0;p<u;p++){const w=r?a[s][p]:a[p][s];w===f?c++:(c>=5&&(i+=Sn.N1+(c-5)),c=1,f=w)}c>=5&&(i+=Sn.N1+(c-5))}return i}}Sn.N1=3,Sn.N2=3,Sn.N3=40,Sn.N4=10;class ti{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let l=0;l!==r;l++)i[l]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)te.fill(r,t)}equals(t){if(!(t instanceof ti))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,l=this.height;i<l;++i){const u=this.bytes[i],a=r.bytes[i];for(let s=0,c=this.width;s<c;++s)if(u[s]!==a[s])return!1}return!0}toString(){const t=new ge;for(let r=0,i=this.height;r<i;++r){const l=this.bytes[r];for(let u=0,a=this.width;u<a;++u)switch(l[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ka{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ge;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ka.NUM_MASK_PATTERNS}}ka.NUM_MASK_PATTERNS=8;class mn extends y{}mn.kind="WriterException";class Et{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,l,u){Et.clearMatrix(u),Et.embedBasicPatterns(i,u),Et.embedTypeInfo(r,l,u),Et.maybeEmbedVersionInfo(i,u),Et.embedDataBits(t,l,u)}static embedBasicPatterns(t,r){Et.embedPositionDetectionPatternsAndSeparators(r),Et.embedDarkDotAtLeftBottomCorner(r),Et.maybeEmbedPositionAdjustmentPatterns(t,r),Et.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const l=new m;Et.makeTypeInfoBits(t,r,l);for(let u=0,a=l.getSize();u<a;++u){const s=l.get(l.getSize()-1-u),c=Et.TYPE_INFO_COORDINATES[u],f=c[0],p=c[1];if(i.setBoolean(f,p,s),u<8){const w=i.getWidth()-u-1;i.setBoolean(w,8,s)}else{const N=i.getHeight()-7+(u-8);i.setBoolean(8,N,s)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new m;Et.makeVersionInfoBits(t,i);let l=17;for(let u=0;u<6;++u)for(let a=0;a<3;++a){const s=i.get(l);l--,r.setBoolean(u,r.getHeight()-11+a,s),r.setBoolean(r.getHeight()-11+a,u,s)}}static embedDataBits(t,r,i){let l=0,u=-1,a=i.getWidth()-1,s=i.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);s>=0&&s<i.getHeight();){for(let c=0;c<2;++c){const f=a-c;if(!Et.isEmpty(i.get(f,s)))continue;let p;l<t.getSize()?(p=t.get(l),++l):p=!1,r!==255&&Sn.getDataMaskBit(r,f,s)&&(p=!p),i.setBoolean(f,s,p)}s+=u}u=-u,s+=u,a-=2}if(l!==t.getSize())throw new mn("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-Q.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new D("0 polynomial");const i=Et.findMSBSet(r);for(t<<=i-1;Et.findMSBSet(t)>=i;)t^=r<<Et.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!ka.isValidMaskPattern(r))throw new mn("Invalid mask pattern");const l=t.getBits()<<3|r;i.appendBits(l,5);const u=Et.calculateBCHCode(l,Et.TYPE_INFO_POLY);i.appendBits(u,10);const a=new m;if(a.appendBits(Et.TYPE_INFO_MASK_PATTERN,15),i.xor(a),i.getSize()!==15)throw new mn("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=Et.calculateBCHCode(t.getVersionNumber(),Et.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new mn("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;Et.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),Et.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new mn;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let l=0;l<8;++l){if(!Et.isEmpty(i.get(t+l,r)))throw new mn;i.setNumber(t+l,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let l=0;l<7;++l){if(!Et.isEmpty(i.get(t,r+l)))throw new mn;i.setNumber(t,r+l,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let l=0;l<5;++l){const u=Et.POSITION_ADJUSTMENT_PATTERN[l];for(let a=0;a<5;++a)i.setNumber(t+a,r+l,u[a])}}static embedPositionDetectionPattern(t,r,i){for(let l=0;l<7;++l){const u=Et.POSITION_DETECTION_PATTERN[l];for(let a=0;a<7;++a)i.setNumber(t+a,r+l,u[a])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Et.POSITION_DETECTION_PATTERN[0].length;Et.embedPositionDetectionPattern(0,0,t),Et.embedPositionDetectionPattern(t.getWidth()-r,0,t),Et.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;Et.embedHorizontalSeparationPattern(0,i-1,t),Et.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Et.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const l=7;Et.embedVerticalSeparationPattern(l,0,t),Et.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Et.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,l=Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let u=0,a=l.length;u!==a;u++){const s=l[u];if(s>=0)for(let c=0;c!==a;c++){const f=l[c];f>=0&&Et.isEmpty(r.get(f,s))&&Et.embedPositionAdjustmentPattern(f-2,s-2,r)}}}}Et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Et.VERSION_INFO_POLY=7973,Et.TYPE_INFO_POLY=1335,Et.TYPE_INFO_MASK_PATTERN=21522;class Xa{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class wn{constructor(){}static calculateMaskPenalty(t){return Sn.applyMaskPenaltyRule1(t)+Sn.applyMaskPenaltyRule2(t)+Sn.applyMaskPenaltyRule3(t)+Sn.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let l=wn.DEFAULT_BYTE_MODE_ENCODING;const u=i!==null&&i.get(zn.CHARACTER_SET)!==void 0;u&&(l=i.get(zn.CHARACTER_SET).toString());const a=this.chooseMode(t,l),s=new m;if(a===_t.BYTE&&(u||wn.DEFAULT_BYTE_MODE_ENCODING!==l)){const ce=H.getCharacterSetECIByName(l);ce!==void 0&&this.appendECI(ce,s)}this.appendModeInfo(a,s);const c=new m;this.appendBytes(t,a,c,l);let f;if(i!==null&&i.get(zn.QR_VERSION)!==void 0){const ce=Number.parseInt(i.get(zn.QR_VERSION).toString(),10);f=bt.getVersionForNumber(ce);const de=this.calculateBitsNeeded(a,s,c,f);if(!this.willFit(de,f,r))throw new mn("Data too big for requested version")}else f=this.recommendVersion(r,a,s,c);const p=new m;p.appendBitArray(s);const w=a===_t.BYTE?c.getSizeInBytes():t.length;this.appendLengthInfo(w,f,a,p),p.appendBitArray(c);const N=f.getECBlocksForLevel(r),B=f.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(B,p);const V=this.interleaveWithECBytes(p,f.getTotalCodewords(),B,N.getNumBlocks()),q=new ka;q.setECLevel(r),q.setMode(a),q.setVersion(f);const re=f.getDimensionForVersion(),K=new ti(re,re),he=this.chooseMaskPattern(V,r,f,K);return q.setMaskPattern(he),Et.buildMatrix(V,r,f,he,K),q.setMatrix(K),q}static recommendVersion(t,r,i,l){const u=this.calculateBitsNeeded(r,i,l,bt.getVersionForNumber(1)),a=this.chooseVersion(u,t),s=this.calculateBitsNeeded(r,i,l,a);return this.chooseVersion(s,t)}static calculateBitsNeeded(t,r,i,l){return r.getSize()+t.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(t){return t<wn.ALPHANUMERIC_TABLE.length?wn.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(H.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return _t.KANJI;let i=!1,l=!1;for(let u=0,a=t.length;u<a;++u){const s=t.charAt(u);if(wn.isDigit(s))i=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)l=!0;else return _t.BYTE}return l?_t.ALPHANUMERIC:i?_t.NUMERIC:_t.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=me.encode(t,H.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const u=r[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,r,i,l){let u=Number.MAX_SAFE_INTEGER,a=-1;for(let s=0;s<ka.NUM_MASK_PATTERNS;s++){Et.buildMatrix(t,r,i,s,l);let c=this.calculateMaskPenalty(l);c<u&&(u=c,a=s)}return a}static chooseVersion(t,r){for(let i=1;i<=40;i++){const l=bt.getVersionForNumber(i);if(wn.willFit(t,l,r))return l}throw new mn("Data too big")}static willFit(t,r,i){const l=r.getTotalCodewords(),a=r.getECBlocksForLevel(i).getTotalECCodewords(),s=l-a,c=(t+7)/8;return s>=c}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new mn("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let a=0;a<4&&r.getSize()<i;++a)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let a=l;a<8;a++)r.appendBit(!1);const u=t-r.getSizeInBytes();for(let a=0;a<u;++a)r.appendBits((a&1)===0?236:17,8);if(r.getSize()!==i)throw new mn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,l,u,a){if(l>=i)throw new mn("Block ID too large");const s=t%i,c=i-s,f=Math.floor(t/i),p=f+1,w=Math.floor(r/i),N=w+1,B=f-w,V=p-N;if(B!==V)throw new mn("EC bytes mismatch");if(i!==c+s)throw new mn("RS blocks mismatch");if(t!==(w+B)*c+(N+V)*s)throw new mn("Total bytes mismatch");l<c?(u[0]=w,a[0]=B):(u[0]=N,a[0]=V)}static interleaveWithECBytes(t,r,i,l){if(t.getSizeInBytes()!==i)throw new mn("Number of bits and data bytes does not match");let u=0,a=0,s=0;const c=new Array;for(let p=0;p<l;++p){const w=new Int32Array(1),N=new Int32Array(1);wn.getNumDataBytesAndNumECBytesForBlockID(r,i,l,p,w,N);const B=w[0],V=new Uint8Array(B);t.toBytes(8*u,V,0,B);const q=wn.generateECBytes(V,N[0]);c.push(new Xa(V,q)),a=Math.max(a,B),s=Math.max(s,q.length),u+=w[0]}if(i!==u)throw new mn("Data bytes does not match offset");const f=new m;for(let p=0;p<a;++p)for(const w of c){const N=w.getDataBytes();p<N.length&&f.appendBits(N[p],8)}for(let p=0;p<s;++p)for(const w of c){const N=w.getErrorCorrectionBytes();p<N.length&&f.appendBits(N[p],8)}if(r!==f.getSizeInBytes())throw new mn("Interleaving error: "+r+" and "+f.getSizeInBytes()+" differ.");return f}static generateECBytes(t,r){const i=t.length,l=new Int32Array(i+r);for(let a=0;a<i;a++)l[a]=t[a]&255;new zi(yt.QR_CODE_FIELD_256).encode(l,r);const u=new Uint8Array(r);for(let a=0;a<r;a++)u[a]=l[i+a];return u}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,l){const u=i.getCharacterCountBits(r);if(t>=1<<u)throw new mn(t+" is bigger than "+((1<<u)-1));l.appendBits(t,u)}static appendBytes(t,r,i,l){switch(r){case _t.NUMERIC:wn.appendNumericBytes(t,i);break;case _t.ALPHANUMERIC:wn.appendAlphanumericBytes(t,i);break;case _t.BYTE:wn.append8BitBytes(t,i,l);break;case _t.KANJI:wn.appendKanjiBytes(t,i);break;default:throw new mn("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=wn.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let l=0;for(;l<i;){const u=wn.getDigit(t.charAt(l));if(l+2<i){const a=wn.getDigit(t.charAt(l+1)),s=wn.getDigit(t.charAt(l+2));r.appendBits(u*100+a*10+s,10),l+=3}else if(l+1<i){const a=wn.getDigit(t.charAt(l+1));r.appendBits(u*10+a,7),l+=2}else r.appendBits(u,4),l++}}static appendAlphanumericBytes(t,r){const i=t.length;let l=0;for(;l<i;){const u=wn.getAlphanumericCode(t.charCodeAt(l));if(u===-1)throw new mn;if(l+1<i){const a=wn.getAlphanumericCode(t.charCodeAt(l+1));if(a===-1)throw new mn;r.appendBits(u*45+a,11),l+=2}else r.appendBits(u,6),l++}}static append8BitBytes(t,r,i){let l;try{l=me.encode(t,i)}catch(u){throw new mn(u)}for(let u=0,a=l.length;u!==a;u++){const s=l[u];r.appendBits(s,8)}}static appendKanjiBytes(t,r){let i;try{i=me.encode(t,H.SJIS)}catch(u){throw new mn(u)}const l=i.length;for(let u=0;u<l;u+=2){const a=i[u]&255,s=i[u+1]&255,c=a<<8&4294967295|s;let f=-1;if(c>=33088&&c<=40956?f=c-33088:c>=57408&&c<=60351&&(f=c-49472),f===-1)throw new mn("Invalid byte sequence");const p=(f>>8)*192+(f&255);r.appendBits(p,13)}}static appendECI(t,r){r.appendBits(_t.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}wn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),wn.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class ga{write(t,r,i,l=null){if(t.length===0)throw new D("Found empty contents");if(r<0||i<0)throw new D("Requested dimensions are too small: "+r+"x"+i);let u=fn.L,a=ga.QUIET_ZONE_SIZE;l!==null&&(l.get(zn.ERROR_CORRECTION)!==void 0&&(u=fn.fromString(l.get(zn.ERROR_CORRECTION).toString())),l.get(zn.MARGIN)!==void 0&&(a=Number.parseInt(l.get(zn.MARGIN).toString(),10)));const s=wn.encode(t,u,l);return this.renderResult(s,r,i,a)}writeToDom(t,r,i,l,u=null){typeof t=="string"&&(t=document.querySelector(t));const a=this.write(r,i,l,u);t&&t.appendChild(a)}renderResult(t,r,i,l){const u=t.getMatrix();if(u===null)throw new Ge;const a=u.getWidth(),s=u.getHeight(),c=a+l*2,f=s+l*2,p=Math.max(r,c),w=Math.max(i,f),N=Math.min(Math.floor(p/c),Math.floor(w/f)),B=Math.floor((p-a*N)/2),V=Math.floor((w-s*N)/2),q=this.createSVGElement(p,w);for(let re=0,K=V;re<s;re++,K+=N)for(let he=0,ce=B;he<a;he++,ce+=N)if(u.get(he,re)===1){const de=this.createSvgRectElement(ce,K,N,N);q.appendChild(de)}return q}createSVGElement(t,r){const i=document.createElementNS(ga.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,l){const u=document.createElementNS(ga.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ga.QUIET_ZONE_SIZE=4,ga.SVG_NS="http://www.w3.org/2000/svg";class pa{encode(t,r,i,l,u){if(t.length===0)throw new D("Found empty contents");if(r!==ze.QR_CODE)throw new D("Can only encode QR_CODE, but got "+r);if(i<0||l<0)throw new D(`Requested dimensions are too small: ${i}x${l}`);let a=fn.L,s=pa.QUIET_ZONE_SIZE;u!==null&&(u.get(zn.ERROR_CORRECTION)!==void 0&&(a=fn.fromString(u.get(zn.ERROR_CORRECTION).toString())),u.get(zn.MARGIN)!==void 0&&(s=Number.parseInt(u.get(zn.MARGIN).toString(),10)));const c=wn.encode(t,a,u);return pa.renderResult(c,i,l,s)}static renderResult(t,r,i,l){const u=t.getMatrix();if(u===null)throw new Ge;const a=u.getWidth(),s=u.getHeight(),c=a+l*2,f=s+l*2,p=Math.max(r,c),w=Math.max(i,f),N=Math.min(Math.floor(p/c),Math.floor(w/f)),B=Math.floor((p-a*N)/2),V=Math.floor((w-s*N)/2),q=new j(p,w);for(let re=0,K=V;re<s;re++,K+=N)for(let he=0,ce=B;he<a;he++,ce+=N)u.get(he,re)===1&&q.setRegion(ce,K,N,N);return q}}pa.QUIET_ZONE_SIZE=4;class fs{encode(t,r,i,l,u){let a;switch(r){case ze.QR_CODE:a=new pa;break;default:throw new D("No encoder available for format "+r)}return a.encode(t,r,i,l,u)}}class Wr extends Se{constructor(t,r,i,l,u,a,s,c){if(super(a,s),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=l,this.top=u,l+a>r||u+s>i)throw new D("Crop rectangle does not fit within image data.");c&&this.reverseHorizontal(a,s)}getRow(t,r){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const l=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,l,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,l=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.yuvData,u,l,0,i),l;for(let a=0;a<r;a++){const s=a*t;P.arraycopy(this.yuvData,u,l,s,t),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,i,l){return new Wr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,l,!1)}renderThumbnail(){const t=this.getWidth()/Wr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Wr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let a=0;a<r;a++){const s=a*t;for(let c=0;c<t;c++){const f=l[u+c*Wr.THUMBNAIL_SCALE_FACTOR]&255;i[s+c]=4278190080|f*65793}u+=this.dataWidth*Wr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Wr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<r;l++,u+=this.dataWidth){const a=u+t/2;for(let s=u,c=u+t-1;s<a;s++,c--){const f=i[s];i[s]=i[c],i[c]=f}}}invert(){return new _e(this)}}Wr.THUMBNAIL_SCALE_FACTOR=2;class gi extends Se{constructor(t,r,i,l,u,a,s){if(super(r,i),this.dataWidth=l,this.dataHeight=u,this.left=a,this.top=s,t.BYTES_PER_ELEMENT===4){const c=r*i,f=new Uint8ClampedArray(c);for(let p=0;p<c;p++){const w=t[p],N=w>>16&255,B=w>>7&510,V=w&255;f[p]=(N+B+V)/4&255}this.luminances=f}else this.luminances=t;if(l===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=i),a===void 0&&(this.left=0),s===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const l=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,l,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,l=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.luminances,u,l,0,i),l;for(let a=0;a<r;a++){const s=a*t;P.arraycopy(this.luminances,u,l,s,t),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,i,l){return new gi(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new _e(this)}}class Ia extends H{static forName(t){return this.getCharacterSetECIByName(t)}}class ni{}ni.ISO_8859_1=H.ISO8859_1;class hs{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class pi{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Pi{constructor(t){this.previous=t}getPrevious(){return this.previous}}class qa extends Pi{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new qa(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new qa(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Q.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class xi extends qa{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new xi(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ri(G,t,r){return new xi(G,t,r)}function ai(G,t,r){return new qa(G,t,r)}const Ms=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ra=0,ii=1,Sr=2,Ya=3,Nr=4,uo=new qa(null,0,0),si=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Bs(G){for(let t of G)te.fill(t,-1);return G[Ra][Nr]=0,G[ii][Nr]=0,G[ii][Ra]=28,G[Ya][Nr]=0,G[Sr][Nr]=0,G[Sr][Ra]=15,G}const oi=Bs(te.createInt32Array(6,6));class Zn{constructor(t,r,i,l){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,l=this.token;if(t!==this.mode){let a=si[this.mode][t];l=ai(l,a&65535,a>>16),i+=a>>16}let u=t===Sr?4:5;return l=ai(l,r,u),new Zn(l,t,0,i+u)}shiftAndAppend(t,r){let i=this.token,l=this.mode===Sr?4:5;return i=ai(i,oi[this.mode][t],l),i=ai(i,r,5),new Zn(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,l=this.bitCount;if(this.mode===Nr||this.mode===Sr){let s=si[i][Ra];r=ai(r,s&65535,s>>16),l+=s>>16,i=Ra}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new Zn(r,i,this.binaryShiftByteCount+1,l+u);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(t+1)),a}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=ri(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(si[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Zn.calculateBinaryShiftCost(t)-Zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())r.unshift(l);let i=new m;for(const l of r)l.appendTo(i,t);return i}toString(){return J.format("%s bits=%d bytes=%d",Ms[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Zn.INITIAL_STATE=new Zn(uo,Ra,0,0);function Pn(G){const t=J.getCharCode(" "),r=J.getCharCode("."),i=J.getCharCode(",");G[Ra][t]=1;const l=J.getCharCode("Z"),u=J.getCharCode("A");for(let N=u;N<=l;N++)G[Ra][N]=N-u+2;G[ii][t]=1;const a=J.getCharCode("z"),s=J.getCharCode("a");for(let N=s;N<=a;N++)G[ii][N]=N-s+2;G[Sr][t]=1;const c=J.getCharCode("9"),f=J.getCharCode("0");for(let N=f;N<=c;N++)G[Sr][N]=N-f+2;G[Sr][i]=12,G[Sr][r]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<p.length;N++)G[Ya][J.getCharCode(p[N])]=N;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<w.length;N++)J.getCharCode(w[N])>0&&(G[Nr][J.getCharCode(w[N])]=N);return G}const Ka=Pn(te.createInt32Array(5,256));class dr{constructor(t){this.text=t}encode(){const t=J.getCharCode(" "),r=J.getCharCode(`
`);let i=pi.singletonList(Zn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let a,s=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case J.getCharCode("\r"):a=s===r?2:0;break;case J.getCharCode("."):a=s===t?3:0;break;case J.getCharCode(","):a=s===t?4:0;break;case J.getCharCode(":"):a=s===t?5:0;break;default:a=0}a>0?(i=dr.updateStateListForPair(i,u,a),u++):i=this.updateStateListForChar(i,u)}return pi.min(i,(u,a)=>u.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let l of t)this.updateStateForChar(l,r,i);return dr.simplifyStates(i)}updateStateForChar(t,r,i){let l=this.text[r]&255,u=Ka[t.getMode()][l]>0,a=null;for(let s=0;s<=Nr;s++){let c=Ka[s][l];if(c>0){if(a==null&&(a=t.endBinaryShift(r)),!u||s===t.getMode()||s===Sr){const f=a.latchAndAppend(s,c);i.push(f)}if(!u&&oi[t.getMode()][s]>=0){const f=a.shiftAndAppend(s,c);i.push(f)}}}if(t.getBinaryShiftByteCount()>0||Ka[t.getMode()][l]===0){let s=t.addBinaryShiftChar(r);i.push(s)}}static updateStateListForPair(t,r,i){const l=[];for(let u of t)this.updateStateForPair(u,r,i,l);return this.simplifyStates(l)}static updateStateForPair(t,r,i,l){let u=t.endBinaryShift(r);if(l.push(u.latchAndAppend(Nr,i)),t.getMode()!==Nr&&l.push(u.shiftAndAppend(Nr,i)),i===3||i===4){let a=u.latchAndAppend(Sr,16-i).latchAndAppend(Sr,1);l.push(a)}if(t.getBinaryShiftByteCount()>0){let a=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(a)}}static simplifyStates(t){let r=[];for(const i of t){let l=!0;for(const u of r){if(u.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(u)&&(r=r.filter(a=>a!==u))}l&&r.push(i)}return r}}class an{constructor(){}static encodeBytes(t){return an.encode(t,an.DEFAULT_EC_PERCENT,an.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let l=new dr(t).encode(),u=Q.truncDivision(l.getSize()*r,100)+11,a=l.getSize()+u,s,c,f,p,w;if(i!==an.DEFAULT_AZTEC_LAYERS){if(s=i<0,c=Math.abs(i),c>(s?an.MAX_NB_BITS_COMPACT:an.MAX_NB_BITS))throw new D(J.format("Illegal value %s for layers",i));f=an.totalBitsInLayer(c,s),p=an.WORD_SIZE[c];let de=f-f%p;if(w=an.stuffBits(l,p),w.getSize()+u>de)throw new D("Data to large for user specified layer");if(s&&w.getSize()>p*64)throw new D("Data to large for user specified layer")}else{p=0,w=null;for(let de=0;;de++){if(de>an.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(s=de<=3,c=s?de+1:de,f=an.totalBitsInLayer(c,s),a>f)continue;(w==null||p!==an.WORD_SIZE[c])&&(p=an.WORD_SIZE[c],w=an.stuffBits(l,p));let be=f-f%p;if(!(s&&w.getSize()>p*64)&&w.getSize()+u<=be)break}}let N=an.generateCheckWords(w,f,p),B=w.getSize()/p,V=an.generateModeMessage(s,c,B),q=(s?11:14)+c*4,re=new Int32Array(q),K;if(s){K=q;for(let de=0;de<re.length;de++)re[de]=de}else{K=q+1+2*Q.truncDivision(Q.truncDivision(q,2)-1,15);let de=Q.truncDivision(q,2),be=Q.truncDivision(K,2);for(let ye=0;ye<de;ye++){let Ae=ye+Q.truncDivision(ye,15);re[de-ye-1]=be-Ae-1,re[de+ye]=be+Ae+1}}let he=new j(K);for(let de=0,be=0;de<c;de++){let ye=(c-de)*4+(s?9:12);for(let Ae=0;Ae<ye;Ae++){let Me=Ae*2;for(let Fe=0;Fe<2;Fe++)N.get(be+Me+Fe)&&he.set(re[de*2+Fe],re[de*2+Ae]),N.get(be+ye*2+Me+Fe)&&he.set(re[de*2+Ae],re[q-1-de*2-Fe]),N.get(be+ye*4+Me+Fe)&&he.set(re[q-1-de*2-Fe],re[q-1-de*2-Ae]),N.get(be+ye*6+Me+Fe)&&he.set(re[q-1-de*2-Ae],re[de*2+Fe])}be+=ye*8}if(an.drawModeMessage(he,s,K,V),s)an.drawBullsEye(he,Q.truncDivision(K,2),5);else{an.drawBullsEye(he,Q.truncDivision(K,2),7);for(let de=0,be=0;de<Q.truncDivision(q,2)-1;de+=15,be+=16)for(let ye=Q.truncDivision(K,2)&1;ye<K;ye+=2)he.set(Q.truncDivision(K,2)-be,ye),he.set(Q.truncDivision(K,2)+be,ye),he.set(ye,Q.truncDivision(K,2)-be),he.set(ye,Q.truncDivision(K,2)+be)}let ce=new hs;return ce.setCompact(s),ce.setSize(K),ce.setLayers(c),ce.setCodeWords(B),ce.setMatrix(he),ce}static drawBullsEye(t,r,i){for(let l=0;l<i;l+=2)for(let u=r-l;u<=r+l;u++)t.set(u,r-l),t.set(u,r+l),t.set(r-l,u),t.set(r+l,u);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let l=new m;return t?(l.appendBits(r-1,2),l.appendBits(i-1,6),l=an.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(i-1,11),l=an.generateCheckWords(l,40,4)),l}static drawModeMessage(t,r,i,l){let u=Q.truncDivision(i,2);if(r)for(let a=0;a<7;a++){let s=u-3+a;l.get(a)&&t.set(s,u-5),l.get(a+7)&&t.set(u+5,s),l.get(20-a)&&t.set(s,u+5),l.get(27-a)&&t.set(u-5,s)}else for(let a=0;a<10;a++){let s=u-5+a+Q.truncDivision(a,5);l.get(a)&&t.set(s,u-7),l.get(a+10)&&t.set(u+7,s),l.get(29-a)&&t.set(s,u+7),l.get(39-a)&&t.set(u-7,s)}}static generateCheckWords(t,r,i){let l=t.getSize()/i,u=new zi(an.getGF(i)),a=Q.truncDivision(r,i),s=an.bitsToWords(t,i,a);u.encode(s,a-l);let c=r%i,f=new m;f.appendBits(0,c);for(const p of Array.from(s))f.appendBits(p,i);return f}static bitsToWords(t,r,i){let l=new Int32Array(i),u,a;for(u=0,a=t.getSize()/r;u<a;u++){let s=0;for(let c=0;c<r;c++)s|=t.get(u*r+c)?1<<r-c-1:0;l[u]=s}return l}static getGF(t){switch(t){case 4:return yt.AZTEC_PARAM;case 6:return yt.AZTEC_DATA_6;case 8:return yt.AZTEC_DATA_8;case 10:return yt.AZTEC_DATA_10;case 12:return yt.AZTEC_DATA_12;default:throw new D("Unsupported word size "+t)}}static stuffBits(t,r){let i=new m,l=t.getSize(),u=(1<<r)-2;for(let a=0;a<l;a+=r){let s=0;for(let c=0;c<r;c++)(a+c>=l||t.get(a+c))&&(s|=1<<r-1-c);(s&u)===u?(i.appendBits(s&u,r),a--):(s&u)===0?(i.appendBits(s|1,r),a--):i.appendBits(s,r)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}an.DEFAULT_EC_PERCENT=33,an.DEFAULT_AZTEC_LAYERS=0,an.MAX_NB_BITS=32,an.MAX_NB_BITS_COMPACT=4,an.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class li{encode(t,r,i,l){return this.encodeWithHints(t,r,i,l,null)}encodeWithHints(t,r,i,l,u){let a=ni.ISO_8859_1,s=an.DEFAULT_EC_PERCENT,c=an.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(zn.CHARACTER_SET)&&(a=Ia.forName(u.get(zn.CHARACTER_SET).toString())),u.has(zn.ERROR_CORRECTION)&&(s=Q.parseInt(u.get(zn.ERROR_CORRECTION).toString())),u.has(zn.AZTEC_LAYERS)&&(c=Q.parseInt(u.get(zn.AZTEC_LAYERS).toString()))),li.encodeLayers(t,r,i,l,a,s,c)}static encodeLayers(t,r,i,l,u,a,s){if(r!==ze.AZTEC)throw new D("Can only encode AZTEC, but got "+r);let c=an.encode(J.getBytes(t,u),a,s);return li.renderResult(c,i,l)}static renderResult(t,r,i){let l=t.getMatrix();if(l==null)throw new Ge;let u=l.getWidth(),a=l.getHeight(),s=Math.max(r,u),c=Math.max(i,a),f=Math.min(s/u,c/a),p=(s-u*f)/2,w=(c-a*f)/2,N=new j(s,c);for(let B=0,V=w;B<a;B++,V+=f)for(let q=0,re=p;q<u;q++,re+=f)l.get(q,B)&&N.setRegion(re,V,f,f);return N}}x.AbstractExpandedDecoder=Gr,x.ArgumentException=O,x.ArithmeticException=vt,x.AztecCode=hs,x.AztecCodeReader=Yn,x.AztecCodeWriter=li,x.AztecDecoder=oe,x.AztecDetector=Fr,x.AztecDetectorResult=tt,x.AztecEncoder=an,x.AztecHighLevelEncoder=dr,x.AztecPoint=St,x.BarcodeFormat=ze,x.Binarizer=Y,x.BinaryBitmap=F,x.BitArray=m,x.BitMatrix=j,x.BitSource=Er,x.BrowserAztecCodeReader=vr,x.BrowserBarcodeReader=Sa,x.BrowserCodeReader=Ne,x.BrowserDatamatrixCodeReader=Qa,x.BrowserMultiFormatReader=cs,x.BrowserPDF417Reader=ds,x.BrowserQRCodeReader=pr,x.BrowserQRCodeSvgWriter=ga,x.CharacterSetECI=H,x.ChecksumException=L,x.Code128Reader=st,x.Code39Reader=jt,x.DataMatrixDecodedBitStreamParser=ua,x.DataMatrixReader=Cr,x.DecodeHintType=C,x.DecoderResult=Ve,x.DefaultGridSampler=kt,x.DetectorResult=ke,x.EAN13Reader=Mn,x.EncodeHintType=zn,x.Exception=y,x.FormatException=M,x.GenericGF=yt,x.GenericGFPoly=Tt,x.GlobalHistogramBinarizer=X,x.GridSampler=it,x.GridSamplerInstance=At,x.HTMLCanvasElementLuminanceSource=se,x.HybridBinarizer=ie,x.ITFReader=et,x.IllegalArgumentException=D,x.IllegalStateException=Ge,x.InvertedLuminanceSource=_e,x.LuminanceSource=Se,x.MathUtils=we,x.MultiFormatOneDReader=ea,x.MultiFormatReader=Li,x.MultiFormatWriter=fs,x.NotFoundException=$,x.OneDReader=Ot,x.PDF417DecodedBitStreamParser=Ue,x.PDF417DecoderErrorCorrection=Ja,x.PDF417Reader=Gn,x.PDF417ResultMetadata=Ga,x.PerspectiveTransform=ht,x.PlanarYUVLuminanceSource=Wr,x.QRCodeByteMatrix=ti,x.QRCodeDataMask=tr,x.QRCodeDecodedBitStreamParser=Ln,x.QRCodeDecoderErrorCorrectionLevel=fn,x.QRCodeDecoderFormatInformation=Kn,x.QRCodeEncoder=wn,x.QRCodeEncoderQRCode=ka,x.QRCodeMaskUtil=Sn,x.QRCodeMatrixUtil=Et,x.QRCodeMode=_t,x.QRCodeReader=Lr,x.QRCodeVersion=bt,x.QRCodeWriter=pa,x.RGBLuminanceSource=gi,x.RSS14Reader=cn,x.RSSExpandedReader=Ze,x.ReaderException=Va,x.ReedSolomonDecoder=Pe,x.ReedSolomonEncoder=zi,x.ReedSolomonException=z,x.Result=De,x.ResultMetadataType=Xe,x.ResultPoint=Ee,x.StringUtils=J,x.UnsupportedOperationException=ae,x.VideoInputDevice=le,x.WhiteRectangleDetector=ct,x.WriterException=mn,x.ZXingArrays=te,x.ZXingCharset=Ia,x.ZXingInteger=Q,x.ZXingStandardCharsets=ni,x.ZXingStringBuilder=ge,x.ZXingStringEncoding=me,x.ZXingSystem=P,x.createAbstractExpandedDecoder=la,Object.defineProperty(x,"__esModule",{value:!0})}))})(Qo,Qo.exports)),Qo.exports}var qn=gx();const px=Rs(qn),xx=Pm({__proto__:null,default:px},[qn]);var k0=(function(){function A(k,x,g){if(this.formatMap=new Map([[pt.QR_CODE,qn.BarcodeFormat.QR_CODE],[pt.AZTEC,qn.BarcodeFormat.AZTEC],[pt.CODABAR,qn.BarcodeFormat.CODABAR],[pt.CODE_39,qn.BarcodeFormat.CODE_39],[pt.CODE_93,qn.BarcodeFormat.CODE_93],[pt.CODE_128,qn.BarcodeFormat.CODE_128],[pt.DATA_MATRIX,qn.BarcodeFormat.DATA_MATRIX],[pt.MAXICODE,qn.BarcodeFormat.MAXICODE],[pt.ITF,qn.BarcodeFormat.ITF],[pt.EAN_13,qn.BarcodeFormat.EAN_13],[pt.EAN_8,qn.BarcodeFormat.EAN_8],[pt.PDF_417,qn.BarcodeFormat.PDF_417],[pt.RSS_14,qn.BarcodeFormat.RSS_14],[pt.RSS_EXPANDED,qn.BarcodeFormat.RSS_EXPANDED],[pt.UPC_A,qn.BarcodeFormat.UPC_A],[pt.UPC_E,qn.BarcodeFormat.UPC_E],[pt.UPC_EAN_EXTENSION,qn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!xx)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=x,this.logger=g;var T=this.createZXingFormats(k),_=new Map;_.set(qn.DecodeHintType.POSSIBLE_FORMATS,T),_.set(qn.DecodeHintType.TRY_HARDER,!1),this.hints=_}return A.prototype.decodeAsync=function(k){var x=this;return new Promise(function(g,T){try{g(x.decode(k))}catch(_){T(_)}})},A.prototype.decode=function(k){var x=new qn.MultiFormatReader(this.verbose,this.hints),g=new qn.HTMLCanvasElementLuminanceSource(k),T=new qn.BinaryBitmap(new qn.HybridBinarizer(g)),_=x.decode(T);return{text:_.text,format:w1.create(this.toHtml5QrcodeSupportedFormats(_.format)),debugData:this.createDebugData()}},A.prototype.createReverseFormatMap=function(){var k=new Map;return this.formatMap.forEach(function(x,g,T){k.set(x,g)}),k},A.prototype.toHtml5QrcodeSupportedFormats=function(k){if(!this.reverseFormatMap.has(k))throw"reverseFormatMap doesn't have ".concat(k);return this.reverseFormatMap.get(k)},A.prototype.createZXingFormats=function(k){for(var x=[],g=0,T=k;g<T.length;g++){var _=T[g];this.formatMap.has(_)?x.push(this.formatMap.get(_)):this.logger.logError("".concat(_," is not supported by")+"ZXingHtml5QrcodeShim")}return x},A.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},A})(),yx=function(A,k,x,g){function T(_){return _ instanceof x?_:new x(function(I){I(_)})}return new(x||(x=Promise))(function(_,I){function R(O){try{y(g.next(O))}catch(D){I(D)}}function S(O){try{y(g.throw(O))}catch(D){I(D)}}function y(O){O.done?_(O.value):T(O.value).then(R,S)}y((g=g.apply(A,k||[])).next())})},bx=function(A,k){var x={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,T,_,I;return I={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function R(y){return function(O){return S([y,O])}}function S(y){if(g)throw new TypeError("Generator is already executing.");for(;I&&(I=0,y[0]&&(x=0)),x;)try{if(g=1,T&&(_=y[0]&2?T.return:y[0]?T.throw||((_=T.return)&&_.call(T),0):T.next)&&!(_=_.call(T,y[1])).done)return _;switch(T=0,_&&(y=[y[0]&2,_.value]),y[0]){case 0:case 1:_=y;break;case 4:return x.label++,{value:y[1],done:!1};case 5:x.label++,T=y[1],y=[0];continue;case 7:y=x.ops.pop(),x.trys.pop();continue;default:if(_=x.trys,!(_=_.length>0&&_[_.length-1])&&(y[0]===6||y[0]===2)){x=0;continue}if(y[0]===3&&(!_||y[1]>_[0]&&y[1]<_[3])){x.label=y[1];break}if(y[0]===6&&x.label<_[1]){x.label=_[1],_=y;break}if(_&&x.label<_[2]){x.label=_[2],x.ops.push(y);break}_[2]&&x.ops.pop(),x.trys.pop();continue}y=k.call(A,x)}catch(O){y=[6,O],T=0}finally{g=_=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},I0=(function(){function A(k,x,g){if(this.formatMap=new Map([[pt.QR_CODE,"qr_code"],[pt.AZTEC,"aztec"],[pt.CODABAR,"codabar"],[pt.CODE_39,"code_39"],[pt.CODE_93,"code_93"],[pt.CODE_128,"code_128"],[pt.DATA_MATRIX,"data_matrix"],[pt.ITF,"itf"],[pt.EAN_13,"ean_13"],[pt.EAN_8,"ean_8"],[pt.PDF_417,"pdf417"],[pt.UPC_A,"upc_a"],[pt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!A.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=x,this.logger=g;var T=this.createBarcodeDetectorFormats(k);if(this.detector=new BarcodeDetector(T),!this.detector)throw"BarcodeDetector detector not supported"}return A.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var k=new BarcodeDetector({formats:["qr_code"]});return typeof k<"u"},A.prototype.decodeAsync=function(k){return yx(this,void 0,void 0,function(){var x,g;return bx(this,function(T){switch(T.label){case 0:return[4,this.detector.detect(k)];case 1:if(x=T.sent(),!x||x.length===0)throw"No barcode or QR code detected.";return g=this.selectLargestBarcode(x),[2,{text:g.rawValue,format:w1.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}]}})})},A.prototype.selectLargestBarcode=function(k){for(var x=null,g=0,T=0,_=k;T<_.length;T++){var I=_[T],R=I.boundingBox.width*I.boundingBox.height;R>g&&(g=R,x=I)}if(!x)throw"No largest barcode found";return x},A.prototype.createBarcodeDetectorFormats=function(k){for(var x=[],g=0,T=k;g<T.length;g++){var _=T[g];this.formatMap.has(_)?x.push(this.formatMap.get(_)):this.logger.warn("".concat(_," is not supported by")+"BarcodeDetectorDelegate")}return{formats:x}},A.prototype.toHtml5QrcodeSupportedFormats=function(k){if(!this.reverseFormatMap.has(k))throw"reverseFormatMap doesn't have ".concat(k);return this.reverseFormatMap.get(k)},A.prototype.createReverseFormatMap=function(){var k=new Map;return this.formatMap.forEach(function(x,g,T){k.set(x,g)}),k},A.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},A})(),R0=function(A,k,x,g){function T(_){return _ instanceof x?_:new x(function(I){I(_)})}return new(x||(x=Promise))(function(_,I){function R(O){try{y(g.next(O))}catch(D){I(D)}}function S(O){try{y(g.throw(O))}catch(D){I(D)}}function y(O){O.done?_(O.value):T(O.value).then(R,S)}y((g=g.apply(A,k||[])).next())})},D0=function(A,k){var x={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,T,_,I;return I={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function R(y){return function(O){return S([y,O])}}function S(y){if(g)throw new TypeError("Generator is already executing.");for(;I&&(I=0,y[0]&&(x=0)),x;)try{if(g=1,T&&(_=y[0]&2?T.return:y[0]?T.throw||((_=T.return)&&_.call(T),0):T.next)&&!(_=_.call(T,y[1])).done)return _;switch(T=0,_&&(y=[y[0]&2,_.value]),y[0]){case 0:case 1:_=y;break;case 4:return x.label++,{value:y[1],done:!1};case 5:x.label++,T=y[1],y=[0];continue;case 7:y=x.ops.pop(),x.trys.pop();continue;default:if(_=x.trys,!(_=_.length>0&&_[_.length-1])&&(y[0]===6||y[0]===2)){x=0;continue}if(y[0]===3&&(!_||y[1]>_[0]&&y[1]<_[3])){x.label=y[1];break}if(y[0]===6&&x.label<_[1]){x.label=_[1],_=y;break}if(_&&x.label<_[2]){x.label=_[2],x.ops.push(y);break}_[2]&&x.ops.pop(),x.trys.pop();continue}y=k.call(A,x)}catch(O){y=[6,O],T=0}finally{g=_=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},wx=(function(){function A(k,x,g,T){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=g,x&&I0.isSupported()?(this.primaryDecoder=new I0(k,g,T),this.secondaryDecoder=new k0(k,g,T)):this.primaryDecoder=new k0(k,g,T)}return A.prototype.decodeAsync=function(k){return R0(this,void 0,void 0,function(){var x;return D0(this,function(g){switch(g.label){case 0:x=performance.now(),g.label=1;case 1:return g.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(k)];case 2:return[2,g.sent()];case 3:return this.possiblyLogPerformance(x),[7];case 4:return[2]}})})},A.prototype.decodeRobustlyAsync=function(k){return R0(this,void 0,void 0,function(){var x,g;return D0(this,function(T){switch(T.label){case 0:x=performance.now(),T.label=1;case 1:return T.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(k)];case 2:return[2,T.sent()];case 3:if(g=T.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(k)];throw g;case 4:return this.possiblyLogPerformance(x),[7];case 5:return[2]}})})},A.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},A.prototype.possiblyLogPerformance=function(k){if(this.verbose){var x=performance.now()-k;this.executionResults.push(x),this.executions++,this.possiblyFlushPerformanceReport()}},A.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var k=0,x=0,g=this.executionResults;x<g.length;x++){var T=g[x];k+=T}var _=k/this.executionResults.length;console.log("".concat(_," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},A})(),fd=(function(){var A=function(k,x){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,T){g.__proto__=T}||function(g,T){for(var _ in T)Object.prototype.hasOwnProperty.call(T,_)&&(g[_]=T[_])},A(k,x)};return function(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");A(k,x);function g(){this.constructor=k}k.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}})(),nu=function(A,k,x,g){function T(_){return _ instanceof x?_:new x(function(I){I(_)})}return new(x||(x=Promise))(function(_,I){function R(O){try{y(g.next(O))}catch(D){I(D)}}function S(O){try{y(g.throw(O))}catch(D){I(D)}}function y(O){O.done?_(O.value):T(O.value).then(R,S)}y((g=g.apply(A,k||[])).next())})},ru=function(A,k){var x={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,T,_,I;return I={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function R(y){return function(O){return S([y,O])}}function S(y){if(g)throw new TypeError("Generator is already executing.");for(;I&&(I=0,y[0]&&(x=0)),x;)try{if(g=1,T&&(_=y[0]&2?T.return:y[0]?T.throw||((_=T.return)&&_.call(T),0):T.next)&&!(_=_.call(T,y[1])).done)return _;switch(T=0,_&&(y=[y[0]&2,_.value]),y[0]){case 0:case 1:_=y;break;case 4:return x.label++,{value:y[1],done:!1};case 5:x.label++,T=y[1],y=[0];continue;case 7:y=x.ops.pop(),x.trys.pop();continue;default:if(_=x.trys,!(_=_.length>0&&_[_.length-1])&&(y[0]===6||y[0]===2)){x=0;continue}if(y[0]===3&&(!_||y[1]>_[0]&&y[1]<_[3])){x.label=y[1];break}if(y[0]===6&&x.label<_[1]){x.label=_[1],_=y;break}if(_&&x.label<_[2]){x.label=_[2],x.ops.push(y);break}_[2]&&x.ops.pop(),x.trys.pop();continue}y=k.call(A,x)}catch(O){y=[6,O],T=0}finally{g=_=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},_1=(function(){function A(k,x){this.name=k,this.track=x}return A.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},A.prototype.apply=function(k){var x={};x[this.name]=k;var g={advanced:[x]};return this.track.applyConstraints(g)},A.prototype.value=function(){var k=this.track.getSettings();if(this.name in k){var x=k[this.name];return x}return null},A})(),vx=(function(A){fd(k,A);function k(x,g){return A.call(this,x,g)||this}return k.prototype.min=function(){return this.getCapabilities().min},k.prototype.max=function(){return this.getCapabilities().max},k.prototype.step=function(){return this.getCapabilities().step},k.prototype.apply=function(x){var g={};g[this.name]=x;var T={advanced:[g]};return this.track.applyConstraints(T)},k.prototype.getCapabilities=function(){this.failIfNotSupported();var x=this.track.getCapabilities(),g=x[this.name];return{min:g.min,max:g.max,step:g.step}},k.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},k})(_1),_x=(function(A){fd(k,A);function k(x){return A.call(this,"zoom",x)||this}return k})(vx),Ax=(function(A){fd(k,A);function k(x){return A.call(this,"torch",x)||this}return k})(_1),Ex=(function(){function A(k){this.track=k}return A.prototype.zoomFeature=function(){return new _x(this.track)},A.prototype.torchFeature=function(){return new Ax(this.track)},A})(),Cx=(function(){function A(k,x,g){this.isClosed=!1,this.parentElement=k,this.mediaStream=x,this.callbacks=g,this.surface=this.createVideoElement(this.parentElement.clientWidth),k.append(this.surface)}return A.prototype.createVideoElement=function(k){var x=document.createElement("video");return x.style.width="".concat(k,"px"),x.style.display="block",x.muted=!0,x.setAttribute("muted","true"),x.playsInline=!0,x},A.prototype.setupSurface=function(){var k=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var x=function(){var g=k.surface.clientWidth,T=k.surface.clientHeight;k.callbacks.onRenderSurfaceReady(g,T),k.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.srcObject=this.mediaStream,this.surface.play()},A.create=function(k,x,g,T){return nu(this,void 0,void 0,function(){var _,I;return ru(this,function(R){switch(R.label){case 0:return _=new A(k,x,T),g.aspectRatio?(I={aspectRatio:g.aspectRatio},[4,_.getFirstTrackOrFail().applyConstraints(I)]):[3,2];case 1:R.sent(),R.label=2;case 2:return _.setupSurface(),[2,_]}})})},A.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},A.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},A.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},A.prototype.resume=function(k){this.failIfClosed();var x=this,g=function(){setTimeout(k,200),x.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.play()},A.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},A.prototype.getSurface=function(){return this.failIfClosed(),this.surface},A.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},A.prototype.applyVideoConstraints=function(k){return nu(this,void 0,void 0,function(){return ru(this,function(x){if("aspectRatio"in k)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(k)]})})},A.prototype.close=function(){if(this.isClosed)return Promise.resolve();var k=this;return new Promise(function(x,g){var T=k.mediaStream.getVideoTracks(),_=T.length,I=0;k.mediaStream.getVideoTracks().forEach(function(R){k.mediaStream.removeTrack(R),R.stop(),++I,I>=_&&(k.isClosed=!0,k.parentElement.removeChild(k.surface),x())})})},A.prototype.getCapabilities=function(){return new Ex(this.getFirstTrackOrFail())},A})(),Sx=(function(){function A(k){this.mediaStream=k}return A.prototype.render=function(k,x,g){return nu(this,void 0,void 0,function(){return ru(this,function(T){return[2,Cx.create(k,this.mediaStream,x,g)]})})},A.create=function(k){return nu(this,void 0,void 0,function(){var x,g;return ru(this,function(T){switch(T.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return x={audio:!1,video:k},[4,navigator.mediaDevices.getUserMedia(x)];case 1:return g=T.sent(),[2,new A(g)]}})})},A})(),M0=function(A,k,x,g){function T(_){return _ instanceof x?_:new x(function(I){I(_)})}return new(x||(x=Promise))(function(_,I){function R(O){try{y(g.next(O))}catch(D){I(D)}}function S(O){try{y(g.throw(O))}catch(D){I(D)}}function y(O){O.done?_(O.value):T(O.value).then(R,S)}y((g=g.apply(A,k||[])).next())})},B0=function(A,k){var x={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,T,_,I;return I={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function R(y){return function(O){return S([y,O])}}function S(y){if(g)throw new TypeError("Generator is already executing.");for(;I&&(I=0,y[0]&&(x=0)),x;)try{if(g=1,T&&(_=y[0]&2?T.return:y[0]?T.throw||((_=T.return)&&_.call(T),0):T.next)&&!(_=_.call(T,y[1])).done)return _;switch(T=0,_&&(y=[y[0]&2,_.value]),y[0]){case 0:case 1:_=y;break;case 4:return x.label++,{value:y[1],done:!1};case 5:x.label++,T=y[1],y=[0];continue;case 7:y=x.ops.pop(),x.trys.pop();continue;default:if(_=x.trys,!(_=_.length>0&&_[_.length-1])&&(y[0]===6||y[0]===2)){x=0;continue}if(y[0]===3&&(!_||y[1]>_[0]&&y[1]<_[3])){x.label=y[1];break}if(y[0]===6&&x.label<_[1]){x.label=_[1],_=y;break}if(_&&x.label<_[2]){x.label=_[2],x.ops.push(y);break}_[2]&&x.ops.pop(),x.trys.pop();continue}y=k.call(A,x)}catch(O){y=[6,O],T=0}finally{g=_=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Nx=(function(){function A(){}return A.failIfNotSupported=function(){return M0(this,void 0,void 0,function(){return B0(this,function(k){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new A]})})},A.prototype.create=function(k){return M0(this,void 0,void 0,function(){return B0(this,function(x){return[2,Sx.create(k)]})})},A})(),Tx=function(A,k,x,g){function T(_){return _ instanceof x?_:new x(function(I){I(_)})}return new(x||(x=Promise))(function(_,I){function R(O){try{y(g.next(O))}catch(D){I(D)}}function S(O){try{y(g.throw(O))}catch(D){I(D)}}function y(O){O.done?_(O.value):T(O.value).then(R,S)}y((g=g.apply(A,k||[])).next())})},Ox=function(A,k){var x={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},g,T,_,I;return I={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function R(y){return function(O){return S([y,O])}}function S(y){if(g)throw new TypeError("Generator is already executing.");for(;I&&(I=0,y[0]&&(x=0)),x;)try{if(g=1,T&&(_=y[0]&2?T.return:y[0]?T.throw||((_=T.return)&&_.call(T),0):T.next)&&!(_=_.call(T,y[1])).done)return _;switch(T=0,_&&(y=[y[0]&2,_.value]),y[0]){case 0:case 1:_=y;break;case 4:return x.label++,{value:y[1],done:!1};case 5:x.label++,T=y[1],y=[0];continue;case 7:y=x.ops.pop(),x.trys.pop();continue;default:if(_=x.trys,!(_=_.length>0&&_[_.length-1])&&(y[0]===6||y[0]===2)){x=0;continue}if(y[0]===3&&(!_||y[1]>_[0]&&y[1]<_[3])){x.label=y[1];break}if(y[0]===6&&x.label<_[1]){x.label=_[1],_=y;break}if(_&&x.label<_[2]){x.label=_[2],x.ops.push(y);break}_[2]&&x.ops.pop(),x.trys.pop();continue}y=k.call(A,x)}catch(O){y=[6,O],T=0}finally{g=_=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},kx=(function(){function A(){}return A.retrieve=function(){if(navigator.mediaDevices)return A.getCamerasFromMediaDevices();var k=MediaStreamTrack;return MediaStreamTrack&&k.getSources?A.getCamerasFromMediaStreamTrack():A.rejectWithError()},A.rejectWithError=function(){var k=so.unableToQuerySupportedDevices();return A.isHttpsOrLocalhost()||(k=so.insecureContextCameraQueryError()),Promise.reject(k)},A.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var k=location.host.split(":")[0];return k==="127.0.0.1"||k==="localhost"},A.getCamerasFromMediaDevices=function(){return Tx(this,void 0,void 0,function(){var k,x,g,T,_,I,R;return Ox(this,function(S){switch(S.label){case 0:return k=function(y){for(var O=y.getVideoTracks(),D=0,F=O;D<F.length;D++){var L=F[D];L.enabled=!1,L.stop(),y.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return x=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(g=S.sent(),T=[],_=0,I=g;_<I.length;_++)R=I[_],R.kind==="videoinput"&&T.push({id:R.deviceId,label:R.label});return k(x),[2,T]}})})},A.getCamerasFromMediaStreamTrack=function(){return new Promise(function(k,x){var g=function(_){for(var I=[],R=0,S=_;R<S.length;R++){var y=S[R];y.kind==="video"&&I.push({id:y.id,label:y.label})}k(I)},T=MediaStreamTrack;T.getSources(g)})},A})(),sr;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.NOT_STARTED=1]="NOT_STARTED",A[A.SCANNING=2]="SCANNING",A[A.PAUSED=3]="PAUSED"})(sr||(sr={}));var Ix=(function(){function A(){this.state=sr.NOT_STARTED,this.onGoingTransactionNewState=sr.UNKNOWN}return A.prototype.directTransition=function(k){this.failIfTransitionOngoing(),this.validateTransition(k),this.state=k},A.prototype.startTransition=function(k){return this.failIfTransitionOngoing(),this.validateTransition(k),this.onGoingTransactionNewState=k,this},A.prototype.execute=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var k=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sr.UNKNOWN,this.directTransition(k)},A.prototype.cancel=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sr.UNKNOWN},A.prototype.getState=function(){return this.state},A.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},A.prototype.validateTransition=function(k){switch(this.state){case sr.UNKNOWN:throw"Transition from unknown is not allowed";case sr.NOT_STARTED:this.failIfNewStateIs(k,[sr.PAUSED]);break;case sr.SCANNING:break;case sr.PAUSED:break}},A.prototype.failIfNewStateIs=function(k,x){for(var g=0,T=x;g<T.length;g++){var _=T[g];if(k===_)throw"Cannot transition from ".concat(this.state," to ").concat(k)}},A})(),Rx=(function(){function A(k){this.stateManager=k}return A.prototype.startTransition=function(k){return this.stateManager.startTransition(k)},A.prototype.directTransition=function(k){this.stateManager.directTransition(k)},A.prototype.getState=function(){return this.stateManager.getState()},A.prototype.canScanFile=function(){return this.stateManager.getState()===sr.NOT_STARTED},A.prototype.isScanning=function(){return this.stateManager.getState()!==sr.NOT_STARTED},A.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sr.SCANNING},A.prototype.isPaused=function(){return this.stateManager.getState()===sr.PAUSED},A})(),Dx=(function(){function A(){}return A.create=function(){return new Rx(new Ix)},A})(),Mx=(function(){var A=function(k,x){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,T){g.__proto__=T}||function(g,T){for(var _ in T)Object.prototype.hasOwnProperty.call(T,_)&&(g[_]=T[_])},A(k,x)};return function(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");A(k,x);function g(){this.constructor=k}k.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}})(),Aa=(function(A){Mx(k,A);function k(){return A!==null&&A.apply(this,arguments)||this}return k.DEFAULT_WIDTH=300,k.DEFAULT_WIDTH_OFFSET=2,k.FILE_SCAN_MIN_HEIGHT=300,k.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,k.MIN_QR_BOX_SIZE=50,k.SHADED_LEFT=1,k.SHADED_RIGHT=2,k.SHADED_TOP=3,k.SHADED_BOTTOM=4,k.SHADED_REGION_ELEMENT_ID="qr-shaded-region",k.VERBOSE=!1,k.BORDER_SHADER_DEFAULT_COLOR="#ffffff",k.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",k})(dx),Bx=(function(){function A(k,x){this.logger=x,this.fps=Aa.SCAN_DEFAULT_FPS,k?(k.fps&&(this.fps=k.fps),this.disableFlip=k.disableFlip===!0,this.qrbox=k.qrbox,this.aspectRatio=k.aspectRatio,this.videoConstraints=k.videoConstraints):this.disableFlip=Aa.DEFAULT_DISABLE_FLIP}return A.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?v1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},A.prototype.isShadedBoxEnabled=function(){return!Ii(this.qrbox)},A.create=function(k,x){return new A(k,x)},A})(),j0=(function(){function A(k,x){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(k))throw"HTML Element with id=".concat(k," not found");this.elementId=k,this.verbose=!1;var g;typeof x=="boolean"?this.verbose=x===!0:x&&(g=x,this.verbose=g.verbose===!0,g.experimentalFeatures),this.logger=new hx(this.verbose),this.qrcode=new wx(this.getSupportedFormats(x),this.getUseBarCodeDetectorIfSupported(g),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Dx.create()}return A.prototype.start=function(k,x,g,T){var _=this;if(!k)throw"cameraIdOrConfig is required";if(!g||typeof g!="function")throw"qrCodeSuccessCallback is required and should be a function.";var I;T?I=T:I=this.verbose?this.logger.log:function(){};var R=Bx.create(x,this.logger);this.clearElement();var S=!1;R.videoConstraints&&(R.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=S,O=document.getElementById(this.elementId);O.clientWidth?O.clientWidth:Aa.DEFAULT_WIDTH,O.style.position="relative",this.shouldScan=!0,this.element=O;var D=this,F=this.stateManagerProxy.startTransition(sr.SCANNING);return new Promise(function(L,Y){var P=y?R.videoConstraints:D.createVideoConstraints(k);if(!P){F.cancel(),Y("videoConstraints should be defined");return}var Z={};(!y||R.aspectRatio)&&(Z.aspectRatio=R.aspectRatio);var ee={onRenderSurfaceReady:function(te,Q){D.setupUi(te,Q,R),D.isScanning=!0,D.foreverScan(R,g,I)}};Nx.failIfNotSupported().then(function(te){te.create(P).then(function(Q){return Q.render(_.element,Z,ee).then(function(m){D.renderedCamera=m,F.execute(),L(null)}).catch(function(m){F.cancel(),Y(m)})}).catch(function(Q){F.cancel(),Y(so.errorGettingUserMedia(Q))})}).catch(function(te){F.cancel(),Y(so.cameraStreamingNotSupported())})})},A.prototype.pause=function(k){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sr.PAUSED),this.showPausedState(),(Ii(k)||k!==!0)&&(k=!1),k&&this.renderedCamera&&this.renderedCamera.pause()},A.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var k=this,x=function(){k.stateManagerProxy.directTransition(sr.SCANNING),k.hidePausedState()};if(!this.renderedCamera.isPaused()){x();return}this.renderedCamera.resume(function(){x()})},A.prototype.getState=function(){return this.stateManagerProxy.getState()},A.prototype.stop=function(){var k=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var x=this.stateManagerProxy.startTransition(sr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var g=function(){if(k.element){var _=document.getElementById(Aa.SHADED_REGION_ELEMENT_ID);_&&k.element.removeChild(_)}},T=this;return this.renderedCamera.close().then(function(){return T.renderedCamera=null,T.element&&(T.element.removeChild(T.canvasElement),T.canvasElement=null),g(),T.qrRegion&&(T.qrRegion=null),T.context&&(T.context=null),x.execute(),T.hidePausedState(),T.isScanning=!1,Promise.resolve()})},A.prototype.scanFile=function(k,x){return this.scanFileV2(k,x).then(function(g){return g.decodedText})},A.prototype.scanFileV2=function(k,x){var g=this;if(!k||!(k instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ii(x)&&(x=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(T,_){g.possiblyCloseLastScanImageFile(),g.clearElement(),g.lastScanImageFile=URL.createObjectURL(k);var I=new Image;I.onload=function(){var R=I.width,S=I.height,y=document.getElementById(g.elementId),O=y.clientWidth?y.clientWidth:Aa.DEFAULT_WIDTH,D=Math.max(y.clientHeight?y.clientHeight:S,Aa.FILE_SCAN_MIN_HEIGHT),F=g.computeCanvasDrawConfig(R,S,O,D);if(x){var L=g.createCanvasElement(O,D,"qr-canvas-visible");L.style.display="inline-block",y.appendChild(L);var Y=L.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=O,Y.canvas.height=D,Y.drawImage(I,0,0,R,S,F.x,F.y,F.width,F.height)}var P=Aa.FILE_SCAN_HIDDEN_CANVAS_PADDING,Z=Math.max(I.width,F.width),ee=Math.max(I.height,F.height),te=Z+2*P,Q=ee+2*P,m=g.createCanvasElement(te,Q);y.appendChild(m);var E=m.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=te,E.canvas.height=Q,E.drawImage(I,0,0,R,S,P,P,Z,ee);try{g.qrcode.decodeRobustlyAsync(m).then(function(C){T(T0.createFromQrcodeResult(C))}).catch(_)}catch(C){_("QR code parse error, error = ".concat(C))}},I.onerror=_,I.onabort=_,I.onstalled=_,I.onsuspend=_,I.src=URL.createObjectURL(k)})},A.prototype.clear=function(){this.clearElement()},A.getCameras=function(){return kx.retrieve()},A.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},A.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},A.prototype.applyVideoConstraints=function(k){if(k){if(!v1.isMediaStreamConstraintsValid(k,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(k)},A.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},A.prototype.getSupportedFormats=function(k){var x=[pt.QR_CODE,pt.AZTEC,pt.CODABAR,pt.CODE_39,pt.CODE_93,pt.CODE_128,pt.DATA_MATRIX,pt.MAXICODE,pt.ITF,pt.EAN_13,pt.EAN_8,pt.PDF_417,pt.RSS_14,pt.RSS_EXPANDED,pt.UPC_A,pt.UPC_E,pt.UPC_EAN_EXTENSION];if(!k||typeof k=="boolean"||!k.formatsToSupport)return x;if(!Array.isArray(k.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(k.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var g=[],T=0,_=k.formatsToSupport;T<_.length;T++){var I=_[T];cx(I)?g.push(I):this.logger.warn("Invalid format: ".concat(I," passed in config, ignoring."))}if(g.length===0)throw"None of formatsToSupport match supported values.";return g},A.prototype.getUseBarCodeDetectorIfSupported=function(k){if(Ii(k))return!0;if(!Ii(k.useBarCodeDetectorIfSupported))return k.useBarCodeDetectorIfSupported!==!1;if(Ii(k.experimentalFeatures))return!0;var x=k.experimentalFeatures;return Ii(x.useBarCodeDetectorIfSupported)?!0:x.useBarCodeDetectorIfSupported!==!1},A.prototype.validateQrboxSize=function(k,x,g){var T=this,_=g.qrbox;this.validateQrboxConfig(_);var I=this.toQrdimensions(k,x,_),R=function(y){if(y<Aa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Aa.MIN_QR_BOX_SIZE,"px.")},S=function(y){return y>k&&(T.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=k),y};R(I.width),R(I.height),I.width=S(I.width)},A.prototype.validateQrboxConfig=function(k){if(typeof k!="number"&&typeof k!="function"&&(k.width===void 0||k.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},A.prototype.toQrdimensions=function(k,x,g){if(typeof g=="number")return{width:g,height:g};if(typeof g=="function")try{return g(k,x)}catch(T){throw new Error("qrbox config was passed as a function but it failed with unknown error"+T)}return g},A.prototype.setupUi=function(k,x,g){g.isShadedBoxEnabled()&&this.validateQrboxSize(k,x,g);var T=Ii(g.qrbox)?{width:k,height:x}:g.qrbox;this.validateQrboxConfig(T);var _=this.toQrdimensions(k,x,T);_.height>x&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var I=g.isShadedBoxEnabled()&&_.height<=x,R={x:0,y:0,width:k,height:x},S=I?this.getShadedRegionBounds(k,x,_):R,y=this.createCanvasElement(S.width,S.height),O={willReadFrequently:!0},D=y.getContext("2d",O);D.canvas.width=S.width,D.canvas.height=S.height,this.element.append(y),I&&this.possiblyInsertShadingElement(this.element,k,x,_),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=D,this.canvasElement=y},A.prototype.createScannerPausedUiElement=function(k){var x=document.createElement("div");x.innerText=so.scannerPaused(),x.style.display="none",x.style.position="absolute",x.style.top="0px",x.style.zIndex="1",x.style.background="rgba(9, 9, 9, 0.46)",x.style.color="#FFECEC",x.style.textAlign="center",x.style.width="100%",k.appendChild(x),this.scannerPausedUiElement=x},A.prototype.scanContext=function(k,x){var g=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(T){return k(T.text,T0.createFromQrcodeResult(T)),g.possiblyUpdateShaders(!0),!0}).catch(function(T){g.possiblyUpdateShaders(!1);var _=so.codeParseError(T);return x(_,fx.createFrom(_)),!1})},A.prototype.foreverScan=function(k,x,g){var T=this;if(this.shouldScan&&this.renderedCamera){var _=this.renderedCamera.getSurface(),I=_.videoWidth/_.clientWidth,R=_.videoHeight/_.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*I,y=this.qrRegion.height*R,O=this.qrRegion.x*I,D=this.qrRegion.y*R;this.context.drawImage(_,O,D,S,y,0,0,this.qrRegion.width,this.qrRegion.height);var F=function(){T.foreverScanTimeout=setTimeout(function(){T.foreverScan(k,x,g)},T.getTimeoutFps(k.fps))};this.scanContext(x,g).then(function(L){!L&&k.disableFlip!==!0?(T.context.translate(T.context.canvas.width,0),T.context.scale(-1,1),T.scanContext(x,g).finally(function(){F()})):F()}).catch(function(L){T.logger.logError("Error happend while scanning context",L),F()})}},A.prototype.createVideoConstraints=function(k){if(typeof k=="string")return{deviceId:{exact:k}};if(typeof k=="object"){var x="facingMode",g="deviceId",T={user:!0,environment:!0},_="exact",I=function(Y){if(Y in T)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Y,"'")},R=Object.keys(k);if(R.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(R.length," keys");var S=Object.keys(k)[0];if(S!==x&&S!==g)throw"Only '".concat(x,"' and '").concat(g,"' ")+" are supported for 'cameraIdOrConfig'";if(S===x){var y=k.facingMode;if(typeof y=="string"){if(I(y))return{facingMode:y}}else if(typeof y=="object")if(_ in y){if(I(y["".concat(_)]))return{facingMode:{exact:y["".concat(_)]}}}else throw"'facingMode' should be string or object with"+" ".concat(_," as key.");else{var O=typeof y;throw"Invalid type of 'facingMode' = ".concat(O)}}else{var D=k.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(_ in D)return{deviceId:{exact:D["".concat(_)]}};throw"'deviceId' should be string or object with"+" ".concat(_," as key.")}else{var F=typeof D;throw"Invalid type of 'deviceId' = ".concat(F)}}}var L=typeof k;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},A.prototype.computeCanvasDrawConfig=function(k,x,g,T){if(k<=g&&x<=T){var _=(g-k)/2,I=(T-x)/2;return{x:_,y:I,width:k,height:x}}else{var R=k,S=x;return k>g&&(x=g/k*x,k=g),x>T&&(k=T/x*k,x=T),this.logger.log("Image downsampled from "+"".concat(R,"X").concat(S)+" to ".concat(k,"X").concat(x,".")),this.computeCanvasDrawConfig(k,x,g,T)}},A.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var k=document.getElementById(this.elementId);k&&(k.innerHTML="")},A.prototype.possiblyUpdateShaders=function(k){this.qrMatch!==k&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(x){x.style.backgroundColor=k?Aa.BORDER_SHADER_MATCH_COLOR:Aa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=k)},A.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},A.prototype.createCanvasElement=function(k,x,g){var T=k,_=x,I=document.createElement("canvas");return I.style.width="".concat(T,"px"),I.style.height="".concat(_,"px"),I.style.display="none",I.id=Ii(g)?"qr-canvas":g,I},A.prototype.getShadedRegionBounds=function(k,x,g){if(g.width>k||g.height>x)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(k-g.width)/2,y:(x-g.height)/2,width:g.width,height:g.height}},A.prototype.possiblyInsertShadingElement=function(k,x,g,T){if(!(x-T.width<1||g-T.height<1)){var _=document.createElement("div");_.style.position="absolute";var I=(x-T.width)/2,R=(g-T.height)/2;if(_.style.borderLeft="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),_.style.borderRight="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),_.style.borderTop="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),_.style.borderBottom="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),_.style.boxSizing="border-box",_.style.top="0px",_.style.bottom="0px",_.style.left="0px",_.style.right="0px",_.id="".concat(Aa.SHADED_REGION_ELEMENT_ID),x-T.width<11||g-T.height<11)this.hasBorderShaders=!1;else{var S=5,y=40;this.insertShaderBorders(_,y,S,-S,null,0,!0),this.insertShaderBorders(_,y,S,-S,null,0,!1),this.insertShaderBorders(_,y,S,null,-S,0,!0),this.insertShaderBorders(_,y,S,null,-S,0,!1),this.insertShaderBorders(_,S,y+S,-S,null,-S,!0),this.insertShaderBorders(_,S,y+S,null,-S,-S,!0),this.insertShaderBorders(_,S,y+S,-S,null,-S,!1),this.insertShaderBorders(_,S,y+S,null,-S,-S,!1),this.hasBorderShaders=!0}k.append(_)}},A.prototype.insertShaderBorders=function(k,x,g,T,_,I,R){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Aa.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(x,"px"),S.style.height="".concat(g,"px"),T!==null&&(S.style.top="".concat(T,"px")),_!==null&&(S.style.bottom="".concat(_,"px")),R?S.style.left="".concat(I,"px"):S.style.right="".concat(I,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),k.appendChild(S)},A.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},A.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},A.prototype.getTimeoutFps=function(k){return 1e3/k},A})(),L0;(function(A){A[A.STATUS_DEFAULT=0]="STATUS_DEFAULT",A[A.STATUS_SUCCESS=1]="STATUS_SUCCESS",A[A.STATUS_WARNING=2]="STATUS_WARNING",A[A.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(L0||(L0={}));const jx=({isOpen:A,onClose:k,onScan:x})=>{const g=Le.useRef(null),[T,_]=Le.useState(null),I="qr-reader";return Le.useEffect(()=>{if(A){_(null);const R=new j0(I);return g.current=R,(async()=>{try{const y=await j0.getCameras();y&&y.length?await R.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250},aspectRatio:1},O=>{R.stop(),x(O)},O=>{}):_("No cameras found on this device.")}catch(y){console.error(y),_(y.message||"Failed to start QR scanner.")}})(),()=>{R.stop().catch(y=>{})}}},[A,x]),A?v.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center",children:[v.jsx("div",{id:I,className:"w-full max-w-md h-auto aspect-square"}),v.jsx("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-end",children:v.jsx("button",{onClick:k,className:"p-3 bg-black/50 text-white rounded-full","aria-label":"Close scanner",children:v.jsx(ks,{size:24})})}),v.jsxs("div",{className:"absolute bottom-10 text-center text-white bg-black/50 p-4 rounded-lg",children:[v.jsx("p",{className:"font-semibold",children:"Scan QR Code"}),v.jsx("p",{className:"text-sm",children:"Position the QR code within the frame."}),T&&v.jsx("p",{className:"mt-2 text-sm text-red-400",children:T})]})]}):null},Lx=({size:A=28,className:k=""})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:A,height:A,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:k,"aria-hidden":"true",children:[v.jsx("path",{d:"M9 17H7A5 5 0 0 1 7 7h2"}),v.jsx("path",{d:"M15 7h2a5 5 0 1 1 0 10h-2"}),v.jsx("line",{x1:"8",x2:"16",y1:"12",y2:"12"})]}),zx=()=>{const{theme:A,setTheme:k}=o1(),x=[{name:"light",icon:v.jsx(q2,{size:20})},{name:"dark",icon:v.jsx(Y2,{size:20})},{name:"system",icon:v.jsx(K2,{size:20})}];return v.jsx("div",{className:"flex items-center p-1 bg-muted rounded-full",children:x.map(g=>v.jsx("button",{onClick:()=>k(g.name),className:`p-1.5 rounded-full transition-colors ${A===g.name?"bg-background text-primary shadow-sm":"text-muted-foreground hover:text-foreground"}`,"aria-label":`Switch to ${g.name} theme`,title:`Switch to ${g.name} theme`,children:g.icon},g.name))})},Px=({onNavigateHome:A,onNavigateToBookmarklet:k,onArchivedClick:x,onRecycleBinClick:g})=>{const[T,_]=Le.useState(!1),I=Le.useRef(null);return Le.useEffect(()=>{const R=S=>{I.current&&!I.current.contains(S.target)&&_(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),v.jsx("header",{className:"bg-background/95 backdrop-blur-sm border-b border-border sticky top-0 z-40",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsx("div",{className:"flex items-center gap-3",children:v.jsxs("a",{href:"/#",onClick:R=>{R.preventDefault(),A()},className:"flex items-center gap-3",children:[v.jsx(Lx,{size:28,className:"text-primary"}),v.jsx("span",{className:"text-2xl font-bold tracking-tight text-foreground",children:"StaticLink"})]})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(zx,{}),v.jsxs("div",{className:"relative",ref:I,children:[v.jsx("button",{onClick:()=>_(!T),className:"p-2 text-muted-foreground hover:text-foreground rounded-full hover:bg-accent transition-colors",title:"More options",children:v.jsx(od,{size:20})}),T&&v.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-popover rounded-md shadow-lg z-20 border border-border",children:v.jsxs("ul",{className:"py-1",children:[v.jsx("li",{children:v.jsxs("button",{onClick:()=>{x(),_(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx($c,{size:16})," Archived Bundles"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>{g(),_(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx(sp,{size:16})," Recycle Bin"]})}),v.jsx("li",{children:v.jsxs("button",{onClick:()=>{k(),_(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-foreground hover:bg-accent",children:[v.jsx(n1,{size:16})," Quick Add Bookmarklet"]})})]})})]})]})]})})})},A1=Le.createContext(null),hd=()=>{const A=Le.useContext(A1);if(!A)throw new Error("useToast must be used within a ToastProvider");return A},Ux=({children:A})=>{const[k,x]=Le.useState([]),g=Le.useCallback(T=>{const _=Date.now();x(I=>[...I,{id:_,message:T}]),setTimeout(()=>{x(I=>I.filter(R=>R.id!==_))},3e3)},[]);return v.jsxs(A1.Provider,{value:{showToast:g},children:[A,v.jsx("div",{className:"toast-container",children:k.map(T=>v.jsxs("div",{className:"toast",role:"status","aria-live":"polite",children:[v.jsx(V0,{size:16}),v.jsx("span",{children:T.message})]},T.id))})]})},z0=A=>{const[k,x]=A.substring(1).split("?"),g=new URLSearchParams(x||""),T=k.split("/").filter(Boolean);return T[0]==="bundle"&&T[1]?T[2]==="share"?{screen:Ri.SHARE,bundleId:T[1],params:g}:{screen:Ri.EDITOR,bundleId:T[1],params:g}:T[0]==="bookmarklet"?{screen:Ri.BOOKMARKLET,bundleId:null,params:g}:{screen:Ri.HOME,bundleId:null,params:g}},Fx=()=>{const[A,k]=Le.useState(z0(window.location.hash)),[x,g]=Le.useState(!1),[T,_]=Le.useState(!1),[I,R]=Le.useState(!1),{showToast:S}=hd(),{bundles:y,addBundle:O,importBundle:D,addItemToBundle:F}=iu(),L=async m=>{R(!1);try{const E=JSON.parse(m);if(E.staticlink_qr&&E.bundle){const C=await D(E.bundle);S(`Imported bundle "${E.bundle.title}"`),P(C);return}}catch{}if(y){let E=y.find(M=>M.title.toLowerCase()==="inbox");E||(E={id:await O("Inbox"),title:"Inbox",items:[],createdAt:"",updatedAt:""});const C={id:crypto.randomUUID(),type:lt.LINK,title:m,url:m,createdAt:new Date().toISOString()};await F(E.id,C),S(`Link added to "${E.title}"`),P(E.id)}};Le.useEffect(()=>{const m=()=>{k(z0(window.location.hash))};return window.addEventListener("hashchange",m),()=>window.removeEventListener("hashchange",m)},[]);const Y=Le.useCallback(m=>{window.location.hash=m},[]),P=Le.useCallback(m=>Y(`/bundle/${m}`),[Y]),Z=Le.useCallback(m=>Y(`/bundle/${m}/share`),[Y]),ee=Le.useCallback(()=>{g(!1),_(!1),Y("/")},[Y]),te=Le.useCallback(()=>Y("/bookmarklet"),[Y]),Q=()=>{switch(A.screen){case Ri.EDITOR:return v.jsx(ix,{bundleId:A.bundleId,onBack:ee,onNavigateToShare:Z});case Ri.SHARE:return v.jsx(lx,{bundleId:A.bundleId,onBack:()=>P(A.bundleId)});case Ri.BOOKMARKLET:return v.jsx(ux,{onBack:ee});case Ri.HOME:default:return v.jsx(Ap,{onNavigateToEditor:P,onNavigateToShare:Z,showArchived:x,setShowArchived:g,showRecycleBin:T,setShowRecycleBin:_,bookmarkletParams:A.params,onOpenScanner:()=>R(!0)})}};return v.jsxs(v.Fragment,{children:[v.jsx(jx,{isOpen:I,onClose:()=>R(!1),onScan:L}),v.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[v.jsx(Px,{onNavigateHome:ee,onNavigateToBookmarklet:te,onArchivedClick:()=>{ee(),g(!0)},onRecycleBinClick:()=>{ee(),_(!0)}}),v.jsx("main",{className:"flex-grow",children:v.jsx("div",{className:"screen",children:Q()},`${A.screen}-${A.bundleId}-${x}-${T}`)})]})]})},Hx=()=>v.jsx(Ep,{children:v.jsx(Ux,{children:v.jsx(Fx,{})})}),E1=document.getElementById("root");if(!E1)throw new Error("Could not find root element to mount to");const Gx=Wm.createRoot(E1);Gx.render(v.jsx(pn.StrictMode,{children:v.jsx(Hx,{})}));"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(()=>{console.log("Service Worker registered"),"Notification"in window&&Notification.requestPermission().then(A=>{A==="granted"&&navigator.serviceWorker.ready.then(k=>{k.showNotification("Welcome to StaticLink",{body:"Your app is now installed!",icon:"/icons/icon-192.png"})})})}).catch(A=>console.error("Service Worker registration failed",A));
